<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Easy Ubuntu 64bit DLNA Server Setup &#43; Bonus MKV Converter Script &middot; </title>

  
  <link rel="stylesheet" href="https://edmondscommerce.github.io/css/poole.css">
  <link rel="stylesheet" href="https://edmondscommerce.github.io/css/hyde.css">
  <link rel="stylesheet" href="https://edmondscommerce.github.io/css/poole-overrides.css">
  <link rel="stylesheet" href="https://edmondscommerce.github.io/css/hyde-overrides.css">
  <link rel="stylesheet" href="https://edmondscommerce.github.io/css/hyde-x.css">
  <link rel="stylesheet" href="https://edmondscommerce.github.io/css/highlight/github.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
  <link href="https://edmondscommerce.github.io/favicon.ico" rel="icon">

  
  
  
  

  <meta name="description" content="">
  <meta name="keywords" content="">
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'google analytics', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>
<body>
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      
        <a href="/"><img src="/images/eclogo.png"
             alt="gravatar" title="">
        </a>
      
      <h1></h1>
      
    </div>
    <p>
      <a href="http://www.edmondscommerce.co.uk">Edmonds Commerce</a> are a UK based E-Commerce web development
      agency. We are based in <a href="http://www.yorkshire.com/">Yorkshire</a> near <a href="http://www.visitleeds.co.uk/">Leeds</a> and <a href="http://www.visitbradford.com/">Bradford</a>.
    </p>

    <p>
      Our primary specialism is <a href="http://magento.com/">Magento</a> and other PHP based E-Commerce platforms
      such as <a href="http://www.opencart.com/">OpenCart</a>.
    </p>

    <p>
      In terms of technology we are very strong in <a href="http://php.net/">PHP</a>, <a href="http://www.mysql.com/">MySQL</a>, <a href="http://www.linuxfoundation.org/">Linux</a>,
      <a href="http://www.w3.org/standards/techs/html#w3c_all">HTML</a><a>, <a href="http://www.w3.org/Style/CSS/Overview.en.html">CSS</a> and <a href="http://en.wikipedia.org/wiki/JavaScript">Javascript</a>.</li>
  </ul>


    <ul class="sidebar-nav">
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="https://github.com/edmondscommerce"><i class="fa fa-github-square fa-3x"></i></a>
      
      
      <a href="https://www.linkedin.com/company/edmonds-commerce"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="https://plus.google.com/104488822194646220248?rel=author"><i class="fa fa-google-plus-square fa-3x"></i></a>
      
      <a href="https://twitter.com/edmondscommerce"><i class="fa fa-twitter-square fa-3x"></i></a>
      
      <a href="https://edmondscommerce.github.io/index.xml" type="application/rss+xml"><i class="fa fa-rss-square fa-3x"></i></a>
      </li>
      <p>
        <a href="mailto:info@edmondscommerce.co.uk">info@edmondscommerce.co.uk</a><br>
        <a href="tel:00441138805654">0044 113 880 5654</a>
      </p>
    </ul>

    

  </div>
</div>


<div class="content container">
  <div class="post">
    <h1 class="post-title">Easy Ubuntu 64bit DLNA Server Setup &#43; Bonus MKV Converter Script</h1>
    <span class="post-date">Aug 14, 2011 &middot; 3 minute read
    
    <br/>
      <strong>Category: </strong>
    <a class="label" href="https://edmondscommerce.github.io/categories/linux">linux</a>
    </span>
    <p><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>
If you are trying to get your computer and TV talking to each other over your home network so you can directly play files on the TV over the network then this is for you.</p>

<p>Windows 7 has DLNA built in and initially I was booting into that for DLNA services, but the behaviour is really weird and basically broken, its tightly integrated into media player and trying to figure out how to make it recognise newly added files was infuriating and not fruitful.</p>

<p>So boot into Ubuntu linux 10.10 64 bit, my favoured desktop which doesn&rsquo;t feature DLNA as standard but being linux has various options for doing it.</p>

<p>After messing about with a few different packages I came across TVMOBili. It is not natively 64bit but its easy enough to install the 32bit version. Once installed, setting it up is a breeze so install to watching on TV is less than 5 mins.</p>

<p>You need ia32 installed to allow you to run 32 bit apps, so do that first.</p>

<pre><code>
sudo apt-get install ia32-libs

</code></pre>

<p>Then download the dot deb package</p>

<p>To install, use this command - replacing the deb bit with the correct filename:</p>

<pre><code>
sudo dpkg -i --force-architecture tvMobiliInstall_debian.deb

</code></pre>

<p>Once installed, you can access the web interface on <a href="http://localhost:30888">http://localhost:30888</a></p>

<p>From here you can control which directories are shared.</p>

<p>You should now be able to detect the share from your TV. It may take a couple of minutes to show up in the list of devices available.</p>

<p>Once caveat is that it does seem to show unsupported files (eg .mkv) but playback doesn&rsquo;t seem to work. Easy solution here is to convert to a supported format.</p>

<p>Don&rsquo;t start transcoding (slow and heavy process). Instead you can demux into MP4 (basically just change the container but leave the actual audio/video streams as they are).</p>

<p>To do this there is a great app called AviDemux</p>

<p>Check out this little bash script. Suggest you create a folder in your home directory called bin</p>

<pre><code>
mkdir ~/bin

</code></pre>

<p>Then run</p>

<pre><code>
nohup gedit ~/bin/mkconv

</code></pre>

<p>Into that paste this:</p>

<pre><code>
#!/bin/bash
# this script is to batch convert MKV files to MP4 within the current folder
for video in *mkv;
do 
	avidemux \
	--video-codec COPY \
	--force-alt-h264 \
	--load &quot;$video&quot; \
	--output-format	MP4 \
	--save &quot;${video%.mkv}.mp4&quot; \
	--quit;
done

</code></pre>

<p>save and close the file</p>

<p>then run this command to make it executable:</p>

<pre><code>
chmod +x ~/bin/mkconv

</code></pre>

<p>You may need to log out and in again at this point.</p>

<p>Now browse to a folder containing mkv files and open it in the terminal</p>

<p><a href="http://www.edmondscommerce.co.uk/ubuntu/ubuntu-nautilus-open-terminal-here/">Note this nautilus extension makes this a breeze</a></p>

<p>Then simply type mkconv and hit return</p>

<p>This should loop through the files and create mp4 copies of all your MKV files. On my fairly beefy laptop it takes a matter of minutes to convert a few GBs of files</p>

<p>Hope this helps ;)</p>

  </div>
  
  <br/>
  <strong>Tags: </strong>
  <a class="label" href="https://edmondscommerce.github.io/tags/ubuntu">ubuntu</a><a class="label" href="https://edmondscommerce.github.io/tags/server">server</a><a class="label" href="https://edmondscommerce.github.io/tags/dlna">dlna</a><a class="label" href="https://edmondscommerce.github.io/tags/mkv">mkv</a><a class="label" href="https://edmondscommerce.github.io/tags/mp4">mp4</a><a class="label" href="https://edmondscommerce.github.io/tags/tvmobili">tvmobili</a><a class="label" href="https://edmondscommerce.github.io/tags/avidemux">avidemux</a>
  
  
</div>




<script src="https://edmondscommerce.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

