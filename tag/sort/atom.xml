<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: sort | Edmonds Commerce Dev Blog]]></title>
  <link href="http://edmondscommerce.github.io/tag/sort/atom.xml" rel="self"/>
  <link href="http://edmondscommerce.github.io/"/>
  <updated>2014-09-25T15:37:55+01:00</updated>
  <id>http://edmondscommerce.github.io/</id>
  <author>
    <name><![CDATA[EdmondsCommerce Development Team]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Sorting Results Arbitrarily in MySQL]]></title>
    <link href="http://edmondscommerce.github.io/mysql/sorting-results-arbitrarily-in-mysql.html"/>
    <updated>2013-12-03T12:40:04+00:00</updated>
    <id>http://edmondscommerce.github.io/mysql/sorting-results-arbitrarily-in-mysql</id>
    <content type="html"><![CDATA[<p>When you have a result set in MySQL that you need to order in a specific way you might think that it is not possible and instead you are going to have to read all
of your results into your application domain (eg PHP) and manage the sorting from there. On a large results set that could be seriously inefficient.</p>

<p>The truth is that you don&rsquo;t have to do that. You can specify any kind of sort order including sorting by string values as you see fit.</p>

<p>The way to do this is to use the magic of <a href="http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_find-in-set">FIND_IN_SET</a> combined with ORDER BY.</p>

<p>For a full example see this query that is pulling out product images from a data repository in descending image size as described in one of the columns as a string.</p>

<p>``` mysql
SELECT
  dcl.prodID,
  dcl.contentGuid,
  dc.url,
  dcmv.metaValueName AS resolution
FROM cds_DigContent dc
  JOIN cds_DigContent_Links dcl</p>

<pre><code>ON (dc.contentGuid = dcl.contentGuid)
</code></pre>

<p>  JOIN cds_DigContent_Meta dcm</p>

<pre><code>ON (dcm.contentGuid = dc.contentGuid
    AND dcm.metaAtrId = 6)
</code></pre>

<p>  JOIN cds_DigContent_Meta_ValVoc dcmv</p>

<pre><code>ON (dcmv.metaValueId = dcm.metaValueId)
</code></pre>

<p>WHERE dc.mediaTypeId = 15</p>

<pre><code>  AND dcl.prodId = '{$this-&gt;getCnetProdID()}'
</code></pre>

<p>ORDER BY
  FIND_IN_SET(dcmv.metaValueName, &lsquo;2400 x 1800,1200 x 900,1024 x 768,800 x 600,640 x 480,400 x 300,200 x 150,75 x 75&rsquo;)</p>

<p>LIMIT 0, 1</p>

<p>```</p>
]]></content>
  </entry>
  
</feed>
