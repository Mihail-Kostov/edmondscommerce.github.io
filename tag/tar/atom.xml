<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: tar | Edmonds Commerce Dev Blog]]></title>
  <link href="http://edmondscommerce.github.io/tag/tar/atom.xml" rel="self"/>
  <link href="http://edmondscommerce.github.io/"/>
  <updated>2013-11-29T13:58:53+00:00</updated>
  <id>http://edmondscommerce.github.io/</id>
  <author>
    <name><![CDATA[EdmondsCommerce Development Team]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Server Migration - Pipe Tar from Server to Server using Netcat]]></title>
    <link href="http://edmondscommerce.github.io/linux/server-migration-pipe-tar-from-server-to-server-using-netcat.html"/>
    <updated>2012-01-06T14:17:46+00:00</updated>
    <id>http://edmondscommerce.github.io/linux/server-migration-pipe-tar-from-server-to-server-using-netcat</id>
    <content type="html"><![CDATA[<p>If you need to transfer a large amount of data from one server to another you might normally create a large tar archive, send it across and then untar it on the other end.</p>

<p>However a slightly slicker and easier repeated way of doing this is to pipe tar directly from one server to the other doing all three steps in one go.</p>

<p>For this you would create a script on each server. You could of course type the commands directly but in the interests of easy repeatability and removing the scope for human error, scripts are my preferred way of doing this kind of task.</p>

<p>Old server script:</p>

<p>```</p>

<h1>!/bin/bash</h1>

<p>cd /var/www/vhosts</p>

<h1>where new server IP is 123.123.123.123 and 9999 is the port the new server is listening on</h1>

<p>tar -xvj . | nc 123.123.123.123 9999</p>

<p>```</p>

<p>New Server Script:</p>

<p>```</p>

<h1>!/bin/bash</h1>

<p>cd /var/www/vhosts</p>

<p>nc -l 9999 | tar -xvf &mdash;same-owner</p>

<p>```</p>

<p>Now save these scripts and make them executable (chmod +x)</p>

<p>Now run the new server script on the new server and then run the old server script. You should quickly see the list of files being transferred appearing in both terminals.</p>

<p>That&rsquo;s it.</p>
]]></content>
  </entry>
  
</feed>
