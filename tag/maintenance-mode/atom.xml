<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: maintenance mode | Edmonds Commerce Dev Blog]]></title>
  <link href="http://edmondscommerce.github.io/tag/maintenance-mode/atom.xml" rel="self"/>
  <link href="http://edmondscommerce.github.io/"/>
  <updated>2014-05-27T13:10:00+01:00</updated>
  <id>http://edmondscommerce.github.io/</id>
  <author>
    <name><![CDATA[EdmondsCommerce Development Team]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Testing a Magento site in maintenance mode]]></title>
    <link href="http://edmondscommerce.github.io/magento/testing-a-magento-site-in-maintenance-mode.html"/>
    <updated>2013-05-09T12:15:23+01:00</updated>
    <id>http://edmondscommerce.github.io/magento/testing-a-magento-site-in-maintenance-mode</id>
    <content type="html"><![CDATA[<p>Often you&rsquo;ll have your site in maintenance mode, but obviously before you show your changes to the world you&rsquo;ll want to check the site over.</p>

<p>The best way to set Magento into Maintenance Mode is to add a maintenance.flag file to the web root, and there&rsquo;s a snippet of code in Magento&rsquo;s index.php which handles this:</p>

<p>```php</p>

<p>$maintenanceFile = &lsquo;maintenance.flag&rsquo;;</p>

<p>&hellip;</p>

<p>if (file_exists($maintenanceFile)) {</p>

<pre><code>include_once dirname(__FILE__) . '/errors/503.php';
exit;
</code></pre>

<p>}</p>

<p>```</p>

<p>You&rsquo;ll want to set this to also take your IP address into consideration, so just make the following amends and you&rsquo;ll have added conditional maintenance mode:</p>

<p>```php</p>

<p>$maintenanceFile = &lsquo;maintenance.flag&rsquo;;</p>

<p>&hellip;</p>

<p>if (file_exists($maintenanceFile) &amp;&amp; $_SERVER[&lsquo;REMOTE_ADDR&rsquo;] != &quot;123.123.123.123&quot;) {</p>

<pre><code>if($_SERVER['REMOTE_ADDR'] == &amp;quot;123.123.123.123&amp;quot;) {
    //Do nothing, but it's safer to check if it *is* your IP than *isn't*
}
else {
    include_once dirname(__FILE__) . '/errors/503.php';
    exit;
</code></pre>

<p>   }
}</p>

<p>```</p>
]]></content>
  </entry>
  
</feed>
