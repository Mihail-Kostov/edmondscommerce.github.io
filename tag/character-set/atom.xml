<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: character set | Edmonds Commerce Dev Blog]]></title>
  <link href="http://edmondscommerce.github.io/tag/character-set/atom.xml" rel="self"/>
  <link href="http://edmondscommerce.github.io/"/>
  <updated>2014-10-16T11:42:51+01:00</updated>
  <id>http://edmondscommerce.github.io/</id>
  <author>
    <name><![CDATA[EdmondsCommerce Development Team]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[MySQL Bulk Update Collation and Character Set for Entire Database]]></title>
    <link href="http://edmondscommerce.github.io/mysql/mysql-bulk-update-collation-and-character-set-for-entire-database.html"/>
    <updated>2010-05-26T17:06:10+01:00</updated>
    <id>http://edmondscommerce.github.io/mysql/mysql-bulk-update-collation-and-character-set-for-entire-database</id>
    <content type="html"><![CDATA[<div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>If you need to change the character set and collation for all columns and tables on an entire database then check out this little PHP script.</p>

<p>It&rsquo;s currently Zend Framework based, though only for the database adapter &ndash; you could easily modify this to suit your own database connection.</p>

<p>```php</p>

<p>&lt;?php
/<em> collationChange
 * Edmonds Commerce
 * www.edmondscommerce.co.uk
 * <a href="&#109;&#x61;&#105;&#108;&#x74;&#x6f;&#x3a;&#105;&#110;&#102;&#111;&#64;&#101;&#x64;&#x6d;&#x6f;&#110;&#100;&#115;&#99;&#x6f;&#x6d;&#109;&#x65;&#x72;&#99;&#101;&#x2e;&#x63;&#x6f;&#46;&#x75;&#107;">&#105;&#x6e;&#x66;&#111;&#64;&#x65;&#100;&#x6d;&#111;&#110;&#x64;&#x73;&#99;&#111;&#109;&#109;&#x65;&#114;&#x63;&#101;&#x2e;&#99;&#x6f;&#x2e;&#x75;&#107;</a>
 * 0844 357 0201
 *
 * Description:
 *
 * Bulk Change the Collation and Character Set for an Entire Database
 *
 * Inspiration Came from Here:
 * <a href="http://serverfault.com/questions/65043/alter-charset-and-collation-in-all-columns-in-all-tables-in-mysql">http://serverfault.com/questions/65043/alter-charset-and-collation-in-all-columns-in-all-tables-in-mysql</a>
 *
 </em>/</p>

<p>//get Db connection etc
require(&lsquo;../_top.php&rsquo;);
$db = Zend_Registry::get(&lsquo;dbAdapter&rsquo;);</p>

<p>$dbName=&lsquo;SET_THE_DB_NAME&rsquo;;
$character_set = &lsquo;utf8&rsquo;;
$collation = &lsquo;utf8_general_ci&rsquo;;</p>

<p>$stmt = $db->query(&ldquo;SELECT distinct CONCAT( &lsquo;alter table &rsquo;, TABLE_SCHEMA, &lsquo;.&rsquo;, TABLE_NAME, &lsquo;  CONVERT TO CHARACTER SET $character_set COLLATE $collation;&rsquo; ) as query, TABLE_NAME as t FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = &lsquo;$dbName&rsquo;;&rdquo;);
while($r=$stmt->fetch()){</p>

<pre><code>$db-&gt;query($r['query']);
echo "&lt;h3&gt;Done {$r['t']}&lt;/h3&gt;";
</code></pre>

<p>}</p>

<p>```</p>
]]></content>
  </entry>
  
</feed>
