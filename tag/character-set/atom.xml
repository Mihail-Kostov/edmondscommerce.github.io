<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: character set | Edmonds Commerce Dev Blog]]></title>
  <link href="http://edmondscommerce.github.io/tag/character-set/atom.xml" rel="self"/>
  <link href="http://edmondscommerce.github.io/"/>
  <updated>2014-01-13T18:37:30+00:00</updated>
  <id>http://edmondscommerce.github.io/</id>
  <author>
    <name><![CDATA[EdmondsCommerce Development Team]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[MySQL Bulk Update Collation and Character Set for Entire Database]]></title>
    <link href="http://edmondscommerce.github.io/mysql/mysql-bulk-update-collation-and-character-set-for-entire-database.html"/>
    <updated>2010-05-26T17:06:10+01:00</updated>
    <id>http://edmondscommerce.github.io/mysql/mysql-bulk-update-collation-and-character-set-for-entire-database</id>
    <content type="html"><![CDATA[<div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you need to change the character set and collation for all columns and tables on an entire database then check out this little PHP script.</p>

<p>It&rsquo;s currently Zend Framework based, though only for the database adapter &ndash; you could easily modify this to suit your own database connection.</p>

<p>```php</p>

<p>&lt;?php
/<em> collationChange
 * Edmonds Commerce
 * www.edmondscommerce.co.uk
 * <a href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#58;&#x69;&#110;&#102;&#x6f;&#x40;&#x65;&#100;&#x6d;&#111;&#x6e;&#100;&#115;&#99;&#x6f;&#109;&#109;&#x65;&#114;&#99;&#x65;&#x2e;&#99;&#x6f;&#46;&#117;&#107;">&#x69;&#110;&#102;&#111;&#x40;&#101;&#100;&#x6d;&#x6f;&#x6e;&#100;&#x73;&#99;&#111;&#109;&#x6d;&#x65;&#114;&#99;&#x65;&#46;&#99;&#111;&#46;&#x75;&#x6b;</a>
 * 0844 357 0201
 *
 * Description:
 *
 * Bulk Change the Collation and Character Set for an Entire Database
 *
 * Inspiration Came from Here:
 * <a href="http://serverfault.com/questions/65043/alter-charset-and-collation-in-all-columns-in-all-tables-in-mysql">http://serverfault.com/questions/65043/alter-charset-and-collation-in-all-columns-in-all-tables-in-mysql</a>
 *
 </em>/</p>

<p>//get Db connection etc
require(&lsquo;../_top.php&rsquo;);
$db = Zend_Registry::get(&lsquo;dbAdapter&rsquo;);</p>

<p>$dbName=&lsquo;SET_THE_DB_NAME&rsquo;;
$character_set = &lsquo;utf8&rsquo;;
$collation = &lsquo;utf8_general_ci&rsquo;;</p>

<p>$stmt = $db->query(&ldquo;SELECT distinct CONCAT( &lsquo;alter table &rsquo;, TABLE_SCHEMA, &lsquo;.&rsquo;, TABLE_NAME, &lsquo;  CONVERT TO CHARACTER SET $character_set COLLATE $collation;&rsquo; ) as query, TABLE_NAME as t FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = &lsquo;$dbName&rsquo;;&rdquo;);
while($r=$stmt->fetch()){</p>

<pre><code>$db-&gt;query($r['query']);
echo "&lt;h3&gt;Done {$r['t']}&lt;/h3&gt;";
</code></pre>

<p>}</p>

<p>```</p>
]]></content>
  </entry>
  
</feed>
