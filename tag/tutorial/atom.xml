<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: tutorial | Edmonds Commerce Dev Blog]]></title>
  <link href="http://edmondscommerce.github.io/tag/tutorial/atom.xml" rel="self"/>
  <link href="http://edmondscommerce.github.io/"/>
  <updated>2014-01-29T11:44:10+00:00</updated>
  <id>http://edmondscommerce.github.io/</id>
  <author>
    <name><![CDATA[EdmondsCommerce Development Team]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Yii Setting up Authorisation - the Missing Manual]]></title>
    <link href="http://edmondscommerce.github.io/php/yii-setting-up-authorisation-the-missing-manual.html"/>
    <updated>2012-02-01T17:25:50+00:00</updated>
    <id>http://edmondscommerce.github.io/php/yii-setting-up-authorisation-the-missing-manual</id>
    <content type="html"><![CDATA[<p>Reading the generally very clear and concise Yii documentation you can quickly get started with the framework.</p>

<p>However one issue that I struggled to be clear on is setting up the database driven authorisation system.</p>

<p>I recommend reading <a href="http://danaluther.blogspot.com/2010/03/yii-authentication-via-database.html">this blog post</a> which finally helped me to understand wth I was supposed to do. The official documentation is <a href="http://www.yiiframework.com/doc/guide/1.1/en/topics.auth#defining-authorization-hierarchy">here</a> which you should also read.</p>

<p>There are a few key points that are not really clear but are important.</p>

<p><strong>1. You need to create the tables.
</strong>
There is a file: yii/framework/web/auth/schema-mysql.sql</p>

<p>You need to run this on your database to build the necessary tables#</p>

<p><strong>2. Creating the rules &ndash; use the Yii Shell
</strong>
You will see examples of PHP code that defines rules etc. You may wonder where the hell you are supposed to put this code and also is it really a good idea to run this kind of code on every page load, seems odd.</p>

<p>Well the answer is you are only meant to run it once and you can either make a PHP script that runs it or even nicer is to use the Yii interactive shell and paste the lines in one at a time to execute them.</p>

<p><strong>Using the Yii Shell</strong></p>

<p>Go to your web root on the command line (I&rsquo;m using Linux, good luck if you aren&rsquo;t)
```</p>

<p>cd ~/Projects/yii-projects/public</p>

<p>```</p>

<p>Now run the yiic tool from the web root with the shell flag
```</p>

<p>protected/yiic shell</p>

<p>```</p>

<p>You now have an interactive PHP shell with the Yii framework available. You can create models, crud etc as you might have done in Gii, but you can also run PHP code directly, including working with Yii objects &ndash; such as the authManager</p>

<p>Try this:</p>

<p>Paste this line into your Yii shell and hit return
```</p>

<p>$auth=Yii:app()&ndash;>authManager;</p>

<p>```</p>

<p>Then this line and hit return
```</p>

<p>var_dump($auth);</p>

<p>```</p>

<p>You should see a var dump of the CDbAuthManager object</p>

<p>Now when you see examples such as this:
```php</p>

<p>$auth=Yii::app()&ndash;>authManager;</p>

<p>$auth->createOperation(&lsquo;createPost&rsquo;,&lsquo;create a post&rsquo;);
$auth->createOperation(&lsquo;readPost&rsquo;,&lsquo;read a post&rsquo;);
$auth->createOperation(&lsquo;updatePost&rsquo;,&lsquo;update a post&rsquo;);
$auth->createOperation(&lsquo;deletePost&rsquo;,&lsquo;delete a post&rsquo;);</p>

<p>```</p>

<p>You realise that this is something you can do ONCE to set up these roles, and a great way to do that is via the Yii Shell.</p>

<p>Have fun ;)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SSH Public Key Authentication Easy Instructions]]></title>
    <link href="http://edmondscommerce.github.io/hosting/ssh-public-key-authentication-easy-instructions.html"/>
    <updated>2009-08-28T15:32:40+01:00</updated>
    <id>http://edmondscommerce.github.io/hosting/ssh-public-key-authentication-easy-instructions</id>
    <content type="html"><![CDATA[<div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>Just thought I would drop a quick blog and link to this nice succinct guide for setting up SSH to be able to log in via public key.</p>

<p><a href="http://www.petefreitag.com/item/532.cfm">SSH public key tutorial</a></p>

<p>Using public keys offers you a more secure way of logging into an SSH server and also opens up the possiblity of being able to log into an SSH server without entering your password. This is less secure of course but allows easier remote scripted SSH.</p>

<p>For example you can set up a user account on your server with limited permissions and then on a remote machine set up public key login capabilites and cron an rsync script to maintain a mirror image of your server without the need for any user intervention.</p>
]]></content>
  </entry>
  
</feed>
