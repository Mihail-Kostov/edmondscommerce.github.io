<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: fix | Edmonds Commerce Dev Blog]]></title>
  <link href="http://edmondscommerce.github.io/tag/fix/atom.xml" rel="self"/>
  <link href="http://edmondscommerce.github.io/"/>
  <updated>2014-11-25T09:21:25+00:00</updated>
  <id>http://edmondscommerce.github.io/</id>
  <author>
    <name><![CDATA[EdmondsCommerce Development Team]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Uploading Multiple Files - Nothing in _POST, _FILES or _REQUEST +Solution]]></title>
    <link href="http://edmondscommerce.github.io/php/uploading-multiple-files-nothing-in-_post-_files-or-_request-solution.html"/>
    <updated>2012-12-17T15:27:14+00:00</updated>
    <id>http://edmondscommerce.github.io/php/uploading-multiple-files-nothing-in-_post-_files-or-_request-solution</id>
    <content type="html"><![CDATA[<p>When you&rsquo;re uploading multiple files (HTML5 feature &ndash; remember IE as yet STILL does not support this), it may not be the fact you&rsquo;re uploading multiple files that&rsquo;s actually causing the problem.</p>

<p>The problem often is actually caused by the various php memory limits in play, one way to avoid getting caught by this is using the following snippet in the form&rsquo;s php to remind you which restrictions are in play (note the min_by_key() function is from the php.net comments) :&ndash;</p>

<p>```php</p>

<p>&lt;?php
function min_by_key($arr, $key){</p>

<pre><code>$min = array();
foreach ($arr as $val) {
    if (!isset($val[$key]) and is_array($val)) {
        $min2 = min_by_key($val, $key);
        $min[$min2] = 1;
    } elseif (!isset($val[$key]) and !is_array($val)) {
        return false;
    } elseif (isset($val[$key])) {
        $min[$val[$key]] = 1;
    }
}
return min( array_keys($min) );
</code></pre>

<p>}</p>

<p>$arrayMaxes = array(</p>

<pre><code>'upload_max_filesize'=&gt;intval(ini_get('upload_max_filesize')),
'post_max_size'=&gt;intval(ini_get('post_max_size')),
'memory_limit'=&gt;intval(ini_get('memory_limit'))
</code></pre>

<p>);
$maxUploadSize = min($arrayMaxes);
foreach ($arrayMaxes as $key=>$value) {</p>

<pre><code>if ($value == min($arrayMaxes)) {
    $minimumOfThree = $key;
}
</code></pre>

<p>}?></p>

<p><p>Max filesize &lt;?php echo $maxUploadSize; ?>M Maximum filesize due to server setting &lt;?php echo $minimumOfThree; ?> in php.ini</p></p>

<p>```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Solution - Can't Log in to Magento Admin - No Error]]></title>
    <link href="http://edmondscommerce.github.io/magento/solution-cant-log-in-to-magento-no-error.html"/>
    <updated>2012-12-04T14:35:36+00:00</updated>
    <id>http://edmondscommerce.github.io/magento/solution-cant-log-in-to-magento-no-error</id>
    <content type="html"><![CDATA[<p>If you pull down a <a title="Magento" href="http://www.edmondscommerce.co.uk/platforms/Magento">Magento</a> site to a local machine, and change the database core_config table to point to the local machine, and it appears to work fine until you try to login to the site admin, there can be many issues.</p>

<p>One of the most common ones though is not having a period (dot) in the host name &ndash; e.g. localhost/admin or martyn-desktop/admin &ndash; if you don&rsquo;t have the period, the cookies don&rsquo;t work properly and you end up in a login loop.</p>

<p>To fix it, make sure your machine is accessible via a domain with a period &ndash; e.g. martyn-desktop.local &ndash; by either editing your hosts file (/etc/hosts) or check your router &ndash; it possibly already adds a domain name like .config and set your path in core_config to the same.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Magento Admin Login Not Working in Some Browsers + Solution]]></title>
    <link href="http://edmondscommerce.github.io/magento/magento-admin-login-not-working-in-some-browsers.html"/>
    <updated>2012-11-13T16:17:29+00:00</updated>
    <id>http://edmondscommerce.github.io/magento/magento-admin-login-not-working-in-some-browsers</id>
    <content type="html"><![CDATA[<p>If you are tearing your hair out trying to figure out why you are not able to log into the Magento admin on some browsers then this might be your solution.</p>

<p>This solution will apply particularly if you are setting up Magento on a brand new server or VPS as you will see.</p>

<p>The problem is actually that the server time is wrong. The server time is used for generating cookies and the fact that the time is wrong means that cookies become invalidated immediately. Some browsers will deal with this in a less aggressive way than others and might actually let the cookie work, others will go for hard line security and will make the whole thing break.</p>

<p>The way to check this is to SSH into the server and check the time:</p>

<p>```bash</p>

<p>date</p>

<p>```</p>

<p>If the time is wrong then you need to do the following to fix it:</p>

<p>```bash</p>

<p>yum install ntp
chkconfig ntpd on
ntpdate pool.ntp.org
/etc/init.d/ntpd start</p>

<p>```</p>

<p>The above will install NTP, make it run on startup, will update the time and will set it running so the time should stay up to date from here on.</p>

<p>To check that has worked simply check the time again:
```bash</p>

<p>date</p>

<p>```</p>

<p>Then finally flush your Magento cache and sessions</p>

<p>```bash</p>

<p>rm -rf var/cache/<em>
rm -rf var/sessions/</em></p>

<p>```</p>

<p>And you should be good to go</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Wordpress: Disqus plugin hiding content on mobile]]></title>
    <link href="http://edmondscommerce.github.io/wordpress/wordpress-disqus-plugin-hiding-content-on-mobile.html"/>
    <updated>2012-08-22T10:46:58+01:00</updated>
    <id>http://edmondscommerce.github.io/wordpress/wordpress-disqus-plugin-hiding-content-on-mobile</id>
    <content type="html"><![CDATA[<p>If you use the disqus plugin on your wordpress site, you may be surprised to learn that your content is hidden on mobile devices (specifically ipad/iphone).</p>

<p>The problem that occurs is that the content is covered by a nice white box that you can&rsquo;t see through.</p>

<p>Thankfully there&rsquo;s a nice quick fix.  In your site&rsquo;s css rules, simply add the following :&ndash;
```css</p>

<h1>disqus_thread { clear: both !important; }</h1>

<p>```</p>

<p>And mobile users can see your content again!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Magento bug: custom option values not showing in backend]]></title>
    <link href="http://edmondscommerce.github.io/magento/magento-bug-custom-option-values-not-showing-in-backend.html"/>
    <updated>2012-08-22T10:41:09+01:00</updated>
    <id>http://edmondscommerce.github.io/magento/magento-bug-custom-option-values-not-showing-in-backend</id>
    <content type="html"><![CDATA[<p>It&rsquo;s a little bit annoying that such a core feature is just broken in many versions of magento &ndash; the headings for the custom options chosen, whilst fully working on the cart; checkout and emails to the customer, only show the heading and no content on the backend order.</p>

<p>There are a couple of fixes :
in
  app/code/core/Mage/Adminhtml/Block/Sales/Items/Column/Name.php
there is no extending, so you can copy it to
  app/code/local/Mage/Adminhtml/Block/Sales/Items/Column/Name.php
and add the following class method :
```php</p>

<p>public function getFormattedOption($value) {
  $<em>remainder = &lsquo;&rsquo;;
  $value = Mage::helper(&lsquo;core/string&rsquo;)&ndash;>truncate($value, 55, &lsquo;&rsquo;, $</em>remainder);
  $result = array(</p>

<pre><code>'value' =&gt; nl2br($value),
'remainder' =&gt; nl2br($_remainder)
</code></pre>

<p>  );
  return $result;
}</p>

<p>```</p>

<p>and/or change the admin theme in
  app/design/adminhtml/default/default/template/sales/items/column/name.phtml
around about line 44 from :
```php</p>

<p>&lt;?php $<em>option = $this->getFormattedOption($</em>option[&lsquo;value&rsquo;]); ?></p>

<p><code>
to
</code>php</p>

<p>&lt;?php if (!is_null($this->getFormattedOption($_option[&lsquo;value&rsquo;]))) {</p>

<pre><code>$_option = $this-&gt;getFormattedOption($_option['value']);
</code></pre>

<p>} ?></p>

<p>```</p>

<p>Then the custom options chosen by customers will happily show in the backend.</p>
]]></content>
  </entry>
  
</feed>
