<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: single | Edmonds Commerce Dev Blog]]></title>
  <link href="http://edmondscommerce.github.io/tag/single/atom.xml" rel="self"/>
  <link href="http://edmondscommerce.github.io/"/>
  <updated>2013-11-28T13:20:54+00:00</updated>
  <id>http://edmondscommerce.github.io/</id>
  <author>
    <name><![CDATA[EdmondsCommerce Development Team]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Simple Bash Single Process Enforcement]]></title>
    <link href="http://edmondscommerce.github.io/bash/simple-bash-single-process-enforcement.html"/>
    <updated>2013-02-21T15:06:39+00:00</updated>
    <id>http://edmondscommerce.github.io/bash/simple-bash-single-process-enforcement</id>
    <content type="html"><![CDATA[<p>If you have a bash script that you want to make sure there is only ever one instance of, for example something triggered by cron that might not have finished the next time cron tries to trigger it then you might like this little snippet:</p>

<p>This is built for running Magento shell scripts (if you don&rsquo;t know about these, check them out) that are run on cron.</p>

<p>Also note the logging that keeps log files</p>

<p>Note the use of a character class in grep means it wont match itself &ndash; nice eh :)</p>

<p>```bash</p>

<h1>!/bin/bash</h1>

<p>HOUR=<code>date +'%H:%M'</code>
RUNNING=<code>ps waux | grep "longrunner[.]php"</code>
if [ &ldquo;&rdquo; == &ldquo;$RUNNING&rdquo; ]
then</p>

<pre><code>echo "Its not running, we can now run it"
php -f /home/my/public_html/shell/longrunner.php -- import &gt; /home/my/public_html/var/log/mylog.txt 2&gt;&amp;1
cp -f  /home/my/public_html/var/log/my.txt /home/my/public_html/var/log/${HOUR}.my.txt
echo "COMPLETED"
</code></pre>

<p>else</p>

<pre><code>echo "It is running, aborting running this time"
</code></pre>

<p>fi</p>

<p>```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Magento Warning: Header may not contain more than a single header, new line detected + Solution]]></title>
    <link href="http://edmondscommerce.github.io/magento/magento-warning-header-may-not-contain-more-than-a-single-header-new-line-detected-solution.html"/>
    <updated>2012-10-30T14:08:10+00:00</updated>
    <id>http://edmondscommerce.github.io/magento/magento-warning-header-may-not-contain-more-than-a-single-header-new-line-detected-solution</id>
    <content type="html"><![CDATA[<p>If you are puzzled by the error message:</p>

<p><code>
Warning: Header may not contain more than a single header, new line detected
</code>
When dealing with a Magento migration, you might want to double check you have not accidentally added a new line character to the end of your base_url field when you were updating the core_config_data table.</p>

<p>I just did this using phpMyadmin&rsquo;s nifty ajax editing feature however I must have hit return by accident. Simply editing them again and making sure there is absolutely no white space at the end of the URL and the problem is solved.</p>
]]></content>
  </entry>
  
</feed>
