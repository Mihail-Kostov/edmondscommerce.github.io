<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: plesk | Edmonds Commerce Dev Blog]]></title>
  <link href="http://edmondscommerce.github.io/tag/plesk/atom.xml" rel="self"/>
  <link href="http://edmondscommerce.github.io/"/>
  <updated>2015-06-24T10:23:39+01:00</updated>
  <id>http://edmondscommerce.github.io/</id>
  <author>
    <name><![CDATA[EdmondsCommerce Development Team]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[How To Extract Files from Plesk Backups]]></title>
    <link href="http://edmondscommerce.github.io/plesk/how-to-extract-files-from-plesk-backups.html"/>
    <updated>2012-01-30T17:25:16+00:00</updated>
    <id>http://edmondscommerce.github.io/plesk/how-to-extract-files-from-plesk-backups</id>
    <content type="html"><![CDATA[<p>So you have a plesk backup file and you want to extract and open the files from it? No problem. This blog will show you how.</p>

<p>The file is a mime file. The &ldquo;mpack&rdquo; package will let you unpack it.</p>

<p>First we install the &ldquo;mpack&rdquo; package
<code>
sudo apt-get install mpack
</code></p>

<p>Let&rsquo;s imagine your file is called &ldquo;pleskDump.gz&rdquo;. If it doesn&rsquo;t have a &ldquo;.gz&rdquo; at the end it might not be bad to add it as some environments will complain if it&rsquo;s absent.</p>

<p>Next we unzip the file
<code>
gunzip pleskDump.gz
</code></p>

<p>Now let&rsquo;s un-mime the file
<code>
mkdir pleskDumpOutput
cd pleskDumpOutput
cat ../pleskDump | munpack
</code></p>

<p>Now we have a bunch of regular tar files, but be careful, if we just extract them, the root folders will not be recreated. In order to keep things together, it&rsquo;s best now to look at the output you have. Let&rsquo;s take a made up example:
<code>
example-domain.com.httpdocs
</code></p>

<p>Note that the format is essentially domain.rootfolder or in another way, the tar files have your domain name they are archiving, then a dot, then the name of the root folder they made up. We take that root folder and create it like this:
<code>
mkdir rootfolder
</code></p>

<p>Now let&rsquo;s apply that idea to our previoud example; &ldquo;example-domain.com&rdquo;
<code>
mkdir httpdocs
</code></p>

<p>It&rsquo;s time to untar into the folder you just created, let&rsquo;s assume you just created &ldquo;httpdocs&rdquo;
<code>
tar -xvf example-domain.com.httpdocs -C httpdocs
</code></p>

<p>There you go! You can now output any of the folders you wanted.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Run mysql commands with plesk username]]></title>
    <link href="http://edmondscommerce.github.io/plesk/run-mysql-commands-with-plesk-username.html"/>
    <updated>2011-09-14T15:33:04+01:00</updated>
    <id>http://edmondscommerce.github.io/plesk/run-mysql-commands-with-plesk-username</id>
    <content type="html"><![CDATA[<div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>There&rsquo;s a little-known trick to using the plesk admin user password to access the mysql database that works on many a plesk machine.</p>

<p>Effectively the plesk admin password is stored in /etc/psa/.psa.shadow &ndash; in plain text.</p>

<p>This means that the following commands for instance work very well as root :</p>

<ul>
    <li>mysql -uadmin -p`cat /etc/psa/.psa.shadow`</li>
    <li>mytop -uadmin -p`cat /etc/psa/.psa.shadow` -d[databasename]</li>
    <li>mysqldump --user=admin --password=`cat /etc/psa/.psa.shadow` [databasename] > /dev/null</li>
</ul>


<p>Enjoy automating mysql stuff on your plesk servers!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rebuild Plesk Config (Apply vhost.conf Settings)]]></title>
    <link href="http://edmondscommerce.github.io/linux/rebuild-plesk-config-apply-vhost-conf-settings.html"/>
    <updated>2010-08-10T14:41:33+01:00</updated>
    <id>http://edmondscommerce.github.io/linux/rebuild-plesk-config-apply-vhost-conf-settings</id>
    <content type="html"><![CDATA[<div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>just run this command once you have set up your vhost</p>

<p>/usr/local/psa/admin/bin/websrvmng -a</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Plesk IMAP Unable to Connect]]></title>
    <link href="http://edmondscommerce.github.io/linux/plesk-imap-unable-to-connect.html"/>
    <updated>2009-07-28T10:14:24+01:00</updated>
    <id>http://edmondscommerce.github.io/linux/plesk-imap-unable-to-connect</id>
    <content type="html"><![CDATA[<div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>If you are struggling to connect to your IMAP mailboxes but other machines on the same network are working fine, then chances are you are hitting the rather restrictive max connections per IP setting that is the default with Courier IMAP and Plesk. As standard it is limited to only 4 connections per IP. For me that was taken up by one machine connecting to 2 inboxes and also running a mail notifier system (which of course doubled up the connections).</p>

<p>After nearly tearing my hair out, I stumbled across the following posts:</p>

<p><a href="http://kb.mediatemple.net/questions/259/(dv)+HOWTO:+Raise+Courier-IMAP+Connections"><a href="http://kb.mediatemple.net/questions/259/">http://kb.mediatemple.net/questions/259/</a>(dv)+HOWTO:+Raise+Courier-IMAP+Connections</a></p>

<p><a href="http://blog.makeitcomplete.com/2008/11/increase-the-number-of-connection-for-courier-imap-in-plesk/"><a href="http://blog.makeitcomplete.com/2008/11/increase-the-number-of-connection-for-courier-imap-in-plesk/">http://blog.makeitcomplete.com/2008/11/increase-the-number-of-connection-for-courier-imap-in-plesk/</a></a></p>

<p>And 30 seconds later I&rsquo;m connected. I&rsquo;m bound to hit this issue again in the future so I have added this post as a reminder.</p>

<p>```</p>

<p>vi /etc/courier-imap/imapd</p>

<p>```
I changed MAXDAEMONS from 40 to 80 and MAXPERIP from 4 to 40.</p>

<p>```</p>

<p>/etc/init.d/courier-imap stop
/etc/init.d/courier-imap start</p>

<p>```</p>

<p>Sorted</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Plesk + Mod Security]]></title>
    <link href="http://edmondscommerce.github.io/apache/plesk-mod-security.html"/>
    <updated>2009-06-15T09:55:37+01:00</updated>
    <id>http://edmondscommerce.github.io/apache/plesk-mod-security</id>
    <content type="html"><![CDATA[<div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>If you are trying to modify your mod_security configuration on a plesk server and have tried using htaccess files you have probably realised that it won&rsquo;t work. That&rsquo;s a good thing, it makes it harder for people to screw up your server by turning off this protection.</p>

<p>Instead the way to do it is to edit the vhost.conf file located in the conf folder in the domain / sub domain root (the folder containing the httpdocs folder).</p>

<p>You can apply any settings you want to this file and then run the following command to get Plesk to rebuild your httpd configuration including your new settings. This is working with Plesk the way it was intended to be used and is a better solution that the htaccess file approach.</p>

<p>The command to rebuild your Apache configuration when you make a change to the vhost.conf ssl_vhost.conf file is:
```</p>

<pre><code>    /usr/local/psa/admin/bin/websrvmng -a -v
</code></pre>

<p>```
This rebuilds the configuration for ALL virtual hosts. It shouldn&rsquo;t take more than a few seconds, obviously you then need to restart Apache.</p>
]]></content>
  </entry>
  
</feed>
