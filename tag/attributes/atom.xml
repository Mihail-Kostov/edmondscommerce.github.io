<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: attributes | Edmonds Commerce Dev Blog]]></title>
  <link href="http://edmondscommerce.github.io/tag/attributes/atom.xml" rel="self"/>
  <link href="http://edmondscommerce.github.io/"/>
  <updated>2014-01-02T13:18:09+00:00</updated>
  <id>http://edmondscommerce.github.io/</id>
  <author>
    <name><![CDATA[EdmondsCommerce Development Team]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Update Magento category attribute sort order from the database]]></title>
    <link href="http://edmondscommerce.github.io/magento/update-magento-category-attribute-sort-order-from-the-database.html"/>
    <updated>2012-04-18T17:48:13+01:00</updated>
    <id>http://edmondscommerce.github.io/magento/update-magento-category-attribute-sort-order-from-the-database</id>
    <content type="html"><![CDATA[<p>If you have written your own modules, and need to rearrange the order that your attributes or displayed in, or change anything else, you can use the following SQL statements to fix their order.</p>

<p>First you need to get the attribute group that the attributes are under. This can be done by running the following
```mysql</p>

<p>SELECT attribute_group_id,  attribute_group_name FROM eav_attribute_group</p>

<p>```</p>

<p>This will give all of the different tabs for categories as well as the products. Find the group ID that you need and then run the following command to see all of the attributes associated with it
```mysql</p>

<p>SELECT eea.*, ea.attribute_code FROM eav_entity_attribute AS eea JOIN eav_attribute AS ea ON eea.attribute_id = ea.attribute_id WHERE eea.attribute_group_id = 4</p>

<p>```</p>

<p>Here we are using the group_id of 4 which gives the following result
<img src="/assets/screenshot2-600x234.png"></p>

<p>The sort_order is the attribute that you need to change to move the attributes around the page. If the sort order is sequential then a simple trick to add some padding is to run the following command
```mysql</p>

<p>UPDATE eav_entity_attribute SET sort_order = (sort_order*10) WHERE attribute_group_id = 4;</p>

<p>```</p>

<p>Which will multiple each sort order by 10 allowing you to move the attributes around easier.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Adding Customer Attributes in Magento!]]></title>
    <link href="http://edmondscommerce.github.io/php/adding-customer-attributes-in-magento.html"/>
    <updated>2012-02-24T14:19:39+00:00</updated>
    <id>http://edmondscommerce.github.io/php/adding-customer-attributes-in-magento</id>
    <content type="html"><![CDATA[<p>If you ever need to create a custom field to save data against a customer in Magento you will probably need to create a custom attribute.</p>

<p>Creating the attribute is easy, in your modules install script you do:
```php</p>

<p>&lt;?php
$installer = $this;
$installer->startSetup();
$installer->addAttribute(&lsquo;customer&rsquo;, &lsquo;my_custom_attribute&rsquo;, array(&lsquo;type&rsquo;=>&lsquo;text&rsquo;));
$installer->endSetup();</p>

<p>```</p>

<p>Then on the customer object you can update and save it accordingly:
```php</p>

<p>&lt;?php
$customer = Mage::getModel(&lsquo;customer/customer&rsquo;)&ndash;>load($customerId);</p>

<p>$customer->setMyCustomAttribute(&ldquo;Some custom data that needs to be saved&rdquo;)&ndash;>save();
echo Mage::getModel(&lsquo;customer/customer&rsquo;)&ndash;>load($customerId)&ndash;>getMyCustomAttribute(); // Outputs &lsquo;Some custom data that needs to be saved&rsquo;</p>

<p>```</p>

<p>To make your installer work you need to create a folder in the root of your module sql/mymodule_setup</p>

<p>In there create the file mysql4-install-0.1.0.php</p>

<p>And put the above installer code (plus any other install related code) in there.</p>

<p>You also need to add the following to your modules etc/config.xml file</p>

<p>```xml</p>

<pre><code>    &lt;resources&gt;
        &lt;mymodule_setup&gt;
            &lt;setup&gt;
                &lt;module&gt;EdmondsCommerce_Mymodule&lt;/module&gt;
                &lt;class&gt;Mage_Sales_Model_Mysql4_Setup&lt;/class&gt;
            &lt;/setup&gt;
            &lt;connection&gt;
                &lt;use&gt;core_setup&lt;/use&gt;
            &lt;/connection&gt;
        &lt;/mymodule_setup&gt;
    &lt;/resources&gt;
</code></pre>

<p>```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Magento Dataflow Not Updating Some Columns / Attributes + Solution]]></title>
    <link href="http://edmondscommerce.github.io/magento/magento-dataflow-not-updating-some-columns-attributes.html"/>
    <updated>2010-12-10T14:32:20+00:00</updated>
    <id>http://edmondscommerce.github.io/magento/magento-dataflow-not-updating-some-columns-attributes</id>
    <content type="html"><![CDATA[<div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you are scratching your head trying to figure out why Magento Dataflow seems to be totally ignoring the values you are putting in some columns (for me it was qty_increments and enable_qty_increments) then this is your solution.</p>

<p>In a nutshell, Dataflow totally ignores some columns despite including them in the output file &ndash; quite a few actually.</p>

<p>I am planning to release an extension that generally tidies up the behaviour of Dataflow and also includes creation of Attribute Sets and Categories which has come up as a requirement for a client project. However this little nugget of fun has cost me a few hours so I thought I would share the solution straight away.</p>

<p>The columns that are updated by dataflow are controlled by the modules (in this case Mage_Catalog) config.xml file. If you want to enable extra columns you need to create a simple custom module to override that xml.</p>

<p>This is the contents of the config.xml</p>

<p>```xml</p>

<p>&lt;?xml version=&ldquo;1.0&rdquo;?></p>

<!--
/**
 * EdmondsCommerce
 * www.edmondscommerce.co.uk
 * info@edmondscommerce.co.uk
 * +44 (0)844 357 0201
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * It is available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 *
 *
 * @category   EdmondsCommerce
 * @package    EdmondsCommerce_DataFlow
 * @copyright  Copyright (c) 2010 Edmonds Commerce (http://www.edmondscommerce.co.uk)
 * @license    http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 -->


<p><config></p>

<pre><code>&lt;modules&gt;
    &lt;EdmondsCommerce_DataFlow&gt;
            &lt;depends&gt;
                    &lt;Mage_Catalog /&gt;
                    &lt;Mage_Dataflow /&gt;
              &lt;/depends&gt;
            &lt;version&gt;0.1.0&lt;/version&gt;
    &lt;/EdmondsCommerce_DataFlow&gt;
&lt;/modules&gt;
   &lt;admin&gt;
    &lt;fieldsets&gt;
        &lt;catalog_product_dataflow&gt;
            &lt;qty&gt;
                &lt;inventory&gt;1&lt;/inventory&gt;
                &lt;to_number&gt;1&lt;/to_number&gt;
                &lt;product_type&gt;
                    &lt;simple /&gt;
                    &lt;virtual /&gt;
                &lt;/product_type&gt;
            &lt;/qty&gt;
            &lt;min_qty&gt;
                &lt;inventory&gt;1&lt;/inventory&gt;
                &lt;to_number&gt;1&lt;/to_number&gt;
                &lt;use_config&gt;1&lt;/use_config&gt;
                &lt;product_type&gt;
                    &lt;simple /&gt;
                    &lt;virtual /&gt;
                &lt;/product_type&gt;
            &lt;/min_qty&gt;
            &lt;is_qty_decimal&gt;
                &lt;inventory&gt;1&lt;/inventory&gt;
                &lt;product_type&gt;
                    &lt;simple /&gt;
                    &lt;virtual /&gt;
                &lt;/product_type&gt;
            &lt;/is_qty_decimal&gt;
            &lt;backorders&gt;
                &lt;inventory&gt;1&lt;/inventory&gt;
                &lt;use_config&gt;1&lt;/use_config&gt;
                &lt;product_type&gt;
                    &lt;simple /&gt;
                    &lt;virtual /&gt;
                &lt;/product_type&gt;
            &lt;/backorders&gt;
            &lt;min_sale_qty&gt;
                &lt;inventory&gt;1&lt;/inventory&gt;
                &lt;to_number&gt;1&lt;/to_number&gt;
                &lt;use_config&gt;1&lt;/use_config&gt;
                &lt;product_type&gt;
                    &lt;simple /&gt;
                    &lt;virtual /&gt;
                &lt;/product_type&gt;
            &lt;/min_sale_qty&gt;
            &lt;max_sale_qty&gt;
                &lt;inventory&gt;1&lt;/inventory&gt;
                &lt;to_number&gt;1&lt;/to_number&gt;
                &lt;use_config&gt;1&lt;/use_config&gt;
                &lt;product_type&gt;
                    &lt;simple /&gt;
                    &lt;virtual /&gt;
                &lt;/product_type&gt;
            &lt;/max_sale_qty&gt;
            &lt;is_in_stock&gt;
                &lt;inventory&gt;1&lt;/inventory&gt;
                &lt;inventory_other&gt;1&lt;/inventory_other&gt;
                &lt;product_type&gt;
                    &lt;simple /&gt;
                    &lt;virtual /&gt;
                    &lt;configurable /&gt;
                    &lt;grouped /&gt;
                &lt;/product_type&gt;
            &lt;/is_in_stock&gt;
            &lt;notify_stock_qty&gt;
                &lt;inventory&gt;1&lt;/inventory&gt;
                &lt;use_config&gt;1&lt;/use_config&gt;
                &lt;product_type&gt;
                    &lt;simple /&gt;
                    &lt;virtual /&gt;
                &lt;/product_type&gt;
            &lt;/notify_stock_qty&gt;
            &lt;manage_stock&gt;
                &lt;inventory&gt;1&lt;/inventory&gt;
                &lt;use_config&gt;1&lt;/use_config&gt;
                &lt;product_type&gt;
                    &lt;simple /&gt;
                    &lt;virtual /&gt;
                    &lt;configurable /&gt;
                    &lt;grouped /&gt;
                &lt;/product_type&gt;
            &lt;/manage_stock&gt;
            &lt;!-- EdmondsCommerce added //--&gt;
            &lt;enable_qty_increments&gt;
                &lt;inventory&gt;1&lt;/inventory&gt;
                &lt;use_config&gt;1&lt;/use_config&gt;
                &lt;product_type&gt;
                    &lt;simple /&gt;
                    &lt;virtual /&gt;
                    &lt;configurable /&gt;
                    &lt;grouped /&gt;
                &lt;/product_type&gt;
            &lt;/enable_qty_increments&gt;
            &lt;qty_increments&gt;
                &lt;inventory&gt;1&lt;/inventory&gt;
                &lt;use_config&gt;1&lt;/use_config&gt;
                &lt;product_type&gt;
                    &lt;simple /&gt;
                    &lt;virtual /&gt;
                    &lt;configurable /&gt;
                    &lt;grouped /&gt;
                &lt;/product_type&gt;
            &lt;/qty_increments&gt;
            &lt;!-- EdmondsCommerce ends //--&gt;
            &lt;image&gt;&lt;img&gt;1&lt;/img&gt;&lt;/image&gt;
            &lt;small_image&gt;&lt;img&gt;1&lt;/img&gt;&lt;/small_image&gt;
            &lt;thumbnail&gt;&lt;img&gt;1&lt;/img&gt;&lt;/thumbnail&gt;

            &lt;store&gt;&lt;external&gt;1&lt;/external&gt;&lt;/store&gt;
            &lt;websites&gt;&lt;external&gt;1&lt;/external&gt;&lt;/websites&gt;
            &lt;sku&gt;&lt;external&gt;1&lt;/external&gt;&lt;/sku&gt;
            &lt;attribute_set&gt;&lt;external&gt;1&lt;/external&gt;&lt;ignore&gt;1&lt;/ignore&gt;&lt;/attribute_set&gt;
            &lt;type&gt;&lt;external&gt;1&lt;/external&gt;&lt;ignore&gt;1&lt;/ignore&gt;&lt;/type&gt;
            &lt;name&gt;&lt;external&gt;1&lt;/external&gt;&lt;required&gt;1&lt;/required&gt;&lt;/name&gt;
            &lt;description&gt;&lt;external&gt;1&lt;/external&gt;&lt;required&gt;1&lt;/required&gt;&lt;/description&gt;
            &lt;short_description&gt;&lt;external&gt;1&lt;/external&gt;&lt;required&gt;1&lt;/required&gt;&lt;/short_description&gt;
            &lt;weight&gt;&lt;external&gt;1&lt;/external&gt;&lt;required&gt;1&lt;/required&gt;&lt;/weight&gt;
            &lt;price&gt;&lt;external&gt;1&lt;/external&gt;&lt;required&gt;1&lt;/required&gt;&lt;/price&gt;

            &lt;tax_class_id&gt;&lt;required&gt;1&lt;/required&gt;&lt;/tax_class_id&gt;
            &lt;category_ids&gt;&lt;system&gt;1&lt;/system&gt;&lt;ignore&gt;1&lt;/ignore&gt;&lt;/category_ids&gt;

            &lt;entity_id&gt;&lt;system&gt;1&lt;/system&gt;&lt;internal&gt;1&lt;/internal&gt;&lt;ignore&gt;1&lt;/ignore&gt;&lt;/entity_id&gt;
            &lt;old_id&gt;&lt;internal&gt;1&lt;/internal&gt;&lt;/old_id&gt;
            &lt;tier_price&gt;&lt;internal&gt;1&lt;/internal&gt;&lt;/tier_price&gt;
            &lt;media_gallery&gt;&lt;internal&gt;1&lt;/internal&gt;&lt;/media_gallery&gt;

            &lt;entity_type_id&gt;&lt;system&gt;1&lt;/system&gt;&lt;/entity_type_id&gt;
            &lt;attribute_set_id&gt;&lt;system&gt;1&lt;/system&gt;&lt;ignore&gt;1&lt;/ignore&gt;&lt;/attribute_set_id&gt;
            &lt;type_id&gt;&lt;system&gt;1&lt;/system&gt;&lt;ignore&gt;1&lt;/ignore&gt;&lt;/type_id&gt;
            &lt;created_at&gt;&lt;system&gt;1&lt;/system&gt;&lt;/created_at&gt;
            &lt;updated_at&gt;&lt;system&gt;1&lt;/system&gt;&lt;/updated_at&gt;
            &lt;item_id&gt;&lt;system&gt;1&lt;/system&gt;&lt;/item_id&gt;
            &lt;product_id&gt;&lt;system&gt;1&lt;/system&gt;&lt;/product_id&gt;
            &lt;stock_id&gt;&lt;system&gt;1&lt;/system&gt;&lt;/stock_id&gt;
            &lt;required_options&gt;&lt;system&gt;1&lt;/system&gt;&lt;ignore&gt;1&lt;/ignore&gt;&lt;/required_options&gt;
        &lt;/catalog_product_dataflow&gt;
    &lt;/fieldsets&gt;
&lt;/admin&gt;
</code></pre>

<p></config></p>

<p>```</p>

<p>If you look towards the middle you will see this bit:</p>

<p>```xml</p>

<pre><code>        &lt;!-- EdmondsCommerce added //--&gt;
            &lt;enable_qty_increments&gt;
                &lt;inventory&gt;1&lt;/inventory&gt;
                &lt;use_config&gt;1&lt;/use_config&gt;
                &lt;product_type&gt;
                    &lt;simple /&gt;
                    &lt;virtual /&gt;
                    &lt;configurable /&gt;
                    &lt;grouped /&gt;
                &lt;/product_type&gt;
            &lt;/enable_qty_increments&gt;
            &lt;qty_increments&gt;
                &lt;inventory&gt;1&lt;/inventory&gt;
                &lt;use_config&gt;1&lt;/use_config&gt;
                &lt;product_type&gt;
                    &lt;simple /&gt;
                    &lt;virtual /&gt;
                    &lt;configurable /&gt;
                    &lt;grouped /&gt;
                &lt;/product_type&gt;
            &lt;/qty_increments&gt;
            &lt;!-- EdmondsCommerce ends //--&gt;
</code></pre>

<p>```</p>

<p>If there are any other columns you need to enable then you will need to do something similar.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Magento Attributes and Attribute Sets - An Explanation]]></title>
    <link href="http://edmondscommerce.github.io/magento/magento-attributes-and-attribute-sets-an-explanation.html"/>
    <updated>2009-07-25T10:37:58+01:00</updated>
    <id>http://edmondscommerce.github.io/magento/magento-attributes-and-attribute-sets-an-explanation</id>
    <content type="html"><![CDATA[<div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>One of the really cool and powerful features of Magento compared to other more traditional ecommerce platforms is the way that product information is handled. On a traditional system you will likely have one or a small number of tables to store product information. For each element of product information there is a column on these tables. This might be things like price, weight, model code etc etc.</p>

<p>But lets imagine that you sell T shirts. So you decide that you want to add a new column to your system to store the following bits of info:</p>

<p>size
material
male/female</p>

<p>Ok no problem, you add these columns to your table, modify your administration system and front end to display this extra info. Easy enough. You also decide to modify your search page so that people can search by T shirt size, material or mens/womens so your search is much easier to use.</p>

<p>However, lets say you find a new supplier for footwear. You want to add all these new products to your system but you also want to be able to store the extra information related to shoes, for example:</p>

<p>UK Size
European Size
Upper
Sole</p>

<p>Of course you can go ahead and add a bunch more columns to your table and store this info. However, now you have the issue that you need to edit your front end to only display the shoe related info for shoes and only the T shirt related info for T shirts. You can probably figure out a way to handle this, but I&rsquo;m sure you can start to see the problem. This approach doesn&rsquo;t scale well. Lets say instead of 2 main product types you have 200 or even 2000.</p>

<p>In the end what ends up happening is that you only store basic specific information about a product and then all the finer details go into the product description. Thats fine, but its not great. Also you have to lose your nice new search functionality.</p>

<p>Magento deals with this in an entirely different way. Instead of having the traditional spreadsheet like database table relationships (1 row for each product), Magento does things differently and stores 1 item of information per row (over simplified but enough to illustrate my point). This means that there is no limit to how many elements of information can be stored for each product.</p>

<p>Magento Groups these attributes (as it calls them) into attribute sets. An attribute set is simply enough a collection of attributes. There is a default attribute set which you would generally make a copy of and then customise for each kind of product you want to have custom attributes for. So continuing our T shirts and shoes example, you would make a new attribute set called T shirts, based on the Default set, and also one for shoes.</p>

<p>The T shirts attribute set will contain all the standard attributes (such as price, title etc) inherited from the default set, but we can also add in our custom attributes. Same goes for the shoes.</p>

<p>Then when we want to add a new product (lets say a T shirt) we select the T shirts attribute set so that we then have fields to enter information for our custom T shirt attributes.</p>
]]></content>
  </entry>
  
</feed>
