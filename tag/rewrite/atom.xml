<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: rewrite | Edmonds Commerce Dev Blog]]></title>
  <link href="http://edmondscommerce.github.io/tag/rewrite/atom.xml" rel="self"/>
  <link href="http://edmondscommerce.github.io/"/>
  <updated>2015-02-12T15:36:15+00:00</updated>
  <id>http://edmondscommerce.github.io/</id>
  <author>
    <name><![CDATA[EdmondsCommerce Development Team]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Apache Mod Rewrite Escaped Slashes Problem + Solution]]></title>
    <link href="http://edmondscommerce.github.io/apache/apache-mod-rewrite-escaped-slashes-problem-solution.html"/>
    <updated>2013-04-11T11:05:20+01:00</updated>
    <id>http://edmondscommerce.github.io/apache/apache-mod-rewrite-escaped-slashes-problem-solution</id>
    <content type="html"><![CDATA[<p>As part of our Magento SEO service, the first thing we do is to make sure there are no issues with the crawlability and general health of the clients web site.</p>

<p>Whilst working on the Google Webmaster Tools crawl errors for a client I noticed one specific and intruiging problem for which I couldn&rsquo;t immediately see the reason, everything looked to be set up perfectly.</p>

<p>Certain URLs were getting 404 responses. The URL was being parsed by mod_rewrite but everything looked fine so why was apache giving a 404?</p>

<p>The problem turns out to be that the URLs contain escaped slashes (eg search/KTA-mb667k2%2F2g),</p>

<p>The problem is that Apache actually handles the escaped slash and helpfully converts it to a real slash. That then means that it is trying to look in a sub folder that does not exist and hence the 404.</p>

<p>Chances are you don&rsquo;t want escaped slashes to really be thought of as real directory separating slashes, especially if you are using mod_rewrite.</p>

<p>The answer is a simple one liner to be added to your vhost.conf or httpd.conf.</p>

<p>```</p>

<p>AllowEncodedSlashes On</p>

<p>```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Force WWW Domain and Prevent Canonicalisation Issues]]></title>
    <link href="http://edmondscommerce.github.io/magento/force-www-domain-and-prevent-canonicalisation-issues.html"/>
    <updated>2011-07-29T11:04:13+01:00</updated>
    <id>http://edmondscommerce.github.io/magento/force-www-domain-and-prevent-canonicalisation-issues</id>
    <content type="html"><![CDATA[<p>A really easy problem to fix that we still see on some live sites is having the site accessible with and without the www (or whatever sub domain).</p>

<p>On Magento sites this can cause issues with session IDs being appended to URLs that then get indexed by google and cause problems.</p>

<p>Here is a snippet which you can add to your htaccess file to fix this:
```</p>

<p>RewriteBase / RewriteCond %{THE_REQUEST} ^[A-Z]{3,9} /index.php HTTP/
RewriteRule ^index.php$ <a href="http://www.domain.com/">http://www.domain.com/</a> [R=301,L]</p>

<p>```</p>

<p>Obviously you need to change domain.com to be your actual domain.</p>

<p>If your store is running in a sub folder eg <a href="http://www.domain.com/magento/">http://www.domain.com/magento/</a></p>

<p>```</p>

<p>RewriteBase /magento/ RewriteCond %{THE_REQUEST} ^[A-Z]{3,9} /magento/index.php HTTP/
RewriteRule ^index.php$ <a href="http://www.domain.com/magento/">http://www.domain.com/magento/</a> [R=301,L]</p>

<p>```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Magento Upgrade for Love My Frames]]></title>
    <link href="http://edmondscommerce.github.io/portfolio/magento-upgrade-for-love-my-frames.html"/>
    <updated>2011-06-10T10:05:59+01:00</updated>
    <id>http://edmondscommerce.github.io/portfolio/magento-upgrade-for-love-my-frames</id>
    <content type="html"><![CDATA[<h2>Magento Upgrade with Custom Modules Rewrite</h2>


<p>The aim of this project was to upgrade a store from 1.3 to 1.5, without losing the functionality of the site. The old version had had its core files modified, requiring a forensic examination of them in order to find and extract what had been changed.</p>

<h3>Love My Frames</h3>


<p>Love My Frames is run by highly trained technicians with over 40 years' optical experience, offering the kind of personal service you would normally expect from a high street opticians. Offering the best for considerably less, professional service and door-to-door delivery, they give their customers the ultimate shopping experience online plus the opportunity to purchase the <a href=”http://www.lovemyframes.com/” >very latest designs at a great price</a>.</p>

<p><img src="/assets/lovemyframes.jpg"></p>

<p>The project asked for a clean install and then rewrite of the existing store. The biggest part of the project was taking the existing layered navigation and rewriting it to work on all pages with a custom design.</p>
]]></content>
  </entry>
  
</feed>
