<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: bug | Edmonds Commerce Dev Blog]]></title>
  <link href="http://edmondscommerce.github.io/tag/bug/atom.xml" rel="self"/>
  <link href="http://edmondscommerce.github.io/"/>
  <updated>2014-09-25T15:37:55+01:00</updated>
  <id>http://edmondscommerce.github.io/</id>
  <author>
    <name><![CDATA[EdmondsCommerce Development Team]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Magento 1.8 released]]></title>
    <link href="http://edmondscommerce.github.io/magento/magento-1-8-released.html"/>
    <updated>2013-09-30T10:01:28+01:00</updated>
    <id>http://edmondscommerce.github.io/magento/magento-1-8-released</id>
    <content type="html"><![CDATA[<p>Today I got a notification through that Magento 1.8 had finally been released.</p>

<p>This has been in beta since alpha since April, and contains server fixes that a lot of people have been waiting for.</p>

<p>The most important one for UK vendors is that the rounding issue in tax calculations has been fixed.</p>

<p>There are also improvements to caching and database performance. The full release notes can be seen <a href="http://www.magentocommerce.com/knowledge-base/entry/ce-18-later-release-notes">here</a></p>

<p>These are issues that have affected merchants since that change in the VAT rate, so we would recommend upgrading for everyone at this time.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Apache Mod Rewrite Escaped Slashes Problem + Solution]]></title>
    <link href="http://edmondscommerce.github.io/apache/apache-mod-rewrite-escaped-slashes-problem-solution.html"/>
    <updated>2013-04-11T11:05:20+01:00</updated>
    <id>http://edmondscommerce.github.io/apache/apache-mod-rewrite-escaped-slashes-problem-solution</id>
    <content type="html"><![CDATA[<p>As part of our Magento SEO service, the first thing we do is to make sure there are no issues with the crawlability and general health of the clients web site.</p>

<p>Whilst working on the Google Webmaster Tools crawl errors for a client I noticed one specific and intruiging problem for which I couldn&rsquo;t immediately see the reason, everything looked to be set up perfectly.</p>

<p>Certain URLs were getting 404 responses. The URL was being parsed by mod_rewrite but everything looked fine so why was apache giving a 404?</p>

<p>The problem turns out to be that the URLs contain escaped slashes (eg search/KTA-mb667k2%2F2g),</p>

<p>The problem is that Apache actually handles the escaped slash and helpfully converts it to a real slash. That then means that it is trying to look in a sub folder that does not exist and hence the 404.</p>

<p>Chances are you don&rsquo;t want escaped slashes to really be thought of as real directory separating slashes, especially if you are using mod_rewrite.</p>

<p>The answer is a simple one liner to be added to your vhost.conf or httpd.conf.</p>

<p>```</p>

<p>AllowEncodedSlashes On</p>

<p>```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Wordpress: Disqus plugin hiding content on mobile]]></title>
    <link href="http://edmondscommerce.github.io/wordpress/wordpress-disqus-plugin-hiding-content-on-mobile.html"/>
    <updated>2012-08-22T10:46:58+01:00</updated>
    <id>http://edmondscommerce.github.io/wordpress/wordpress-disqus-plugin-hiding-content-on-mobile</id>
    <content type="html"><![CDATA[<p>If you use the disqus plugin on your wordpress site, you may be surprised to learn that your content is hidden on mobile devices (specifically ipad/iphone).</p>

<p>The problem that occurs is that the content is covered by a nice white box that you can&rsquo;t see through.</p>

<p>Thankfully there&rsquo;s a nice quick fix.  In your site&rsquo;s css rules, simply add the following :&ndash;
```css</p>

<h1>disqus_thread { clear: both !important; }</h1>

<p>```</p>

<p>And mobile users can see your content again!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Magento bug: custom option values not showing in backend]]></title>
    <link href="http://edmondscommerce.github.io/magento/magento-bug-custom-option-values-not-showing-in-backend.html"/>
    <updated>2012-08-22T10:41:09+01:00</updated>
    <id>http://edmondscommerce.github.io/magento/magento-bug-custom-option-values-not-showing-in-backend</id>
    <content type="html"><![CDATA[<p>It&rsquo;s a little bit annoying that such a core feature is just broken in many versions of magento &ndash; the headings for the custom options chosen, whilst fully working on the cart; checkout and emails to the customer, only show the heading and no content on the backend order.</p>

<p>There are a couple of fixes :
in
  app/code/core/Mage/Adminhtml/Block/Sales/Items/Column/Name.php
there is no extending, so you can copy it to
  app/code/local/Mage/Adminhtml/Block/Sales/Items/Column/Name.php
and add the following class method :
```php</p>

<p>public function getFormattedOption($value) {
  $<em>remainder = &lsquo;&rsquo;;
  $value = Mage::helper(&lsquo;core/string&rsquo;)&ndash;>truncate($value, 55, &lsquo;&rsquo;, $</em>remainder);
  $result = array(</p>

<pre><code>'value' =&gt; nl2br($value),
'remainder' =&gt; nl2br($_remainder)
</code></pre>

<p>  );
  return $result;
}</p>

<p>```</p>

<p>and/or change the admin theme in
  app/design/adminhtml/default/default/template/sales/items/column/name.phtml
around about line 44 from :
```php</p>

<p>&lt;?php $<em>option = $this->getFormattedOption($</em>option[&lsquo;value&rsquo;]); ?></p>

<p><code>
to
</code>php</p>

<p>&lt;?php if (!is_null($this->getFormattedOption($_option[&lsquo;value&rsquo;]))) {</p>

<pre><code>$_option = $this-&gt;getFormattedOption($_option['value']);
</code></pre>

<p>} ?></p>

<p>```</p>

<p>Then the custom options chosen by customers will happily show in the backend.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Magento Security Patch Script]]></title>
    <link href="http://edmondscommerce.github.io/magento/magento-security-patch-script.html"/>
    <updated>2012-07-10T16:29:28+01:00</updated>
    <id>http://edmondscommerce.github.io/magento/magento-security-patch-script</id>
    <content type="html"><![CDATA[<p>We are currently offering a free service to apply the security patches for any Magento store. <a href="http://www.edmondscommerce.co.uk/magento/magento-security-vulnerability-free-assistance/">You can read all about that here</a>.</p>

<p>For those of you who are comfortable SSHing into your server and running things manually but would like this to be as easy as possible, you can use our bash script to automatically determine which Magento security patch you require and then apply it.</p>

<p>Simply run the following command:</p>

<p>```bash</p>

<p>wget -qO- <a href="http://www.edmondscommerce.co.uk/stuff/applysecuritypatch.sh">http://www.edmondscommerce.co.uk/stuff/applysecuritypatch.sh</a> | /bin/sh</p>

<p>```</p>

<p>For information, this is the source of the above file.</p>

<p>```bash</p>

<h1>!/bin/bash</h1>

<p>if [ ! -f app/Mage.php ]; then
  echo &ldquo;Not in the magento basedir. please run from public_html, httpdocs, www or wherever index.php is.&rdquo;
  exit 99
fi</p>

<p>WGET_BINARY=$(which wget)</p>

<p>if [ &ldquo;&rdquo; = &ldquo;$WGET_BINARY&rdquo; ]; then
  echo &ldquo;Can&rsquo;t find wget in path&hellip; can&rsquo;t continue&rdquo;
  exit 98
fi</p>

<p>MAGENTO_VERSION=$(grep &lsquo;function getVersionInfo()&rsquo; -A6 app/Mage.php | sed s/[^0-9]//g | tr &lsquo;\n&rsquo; &lsquo;.&rsquo; | sed s/&lsquo;..*&rsquo;// | sed s/&lsquo;.$&rsquo;//)
echo &ldquo;Your Magento version is $MAGENTO_VERSION&rdquo;</p>

<p>export $(grep &lsquo;function getVersionInfo()&rsquo; -A6 app/Mage.php | grep = | sed s/,// | sed s/>// | sed s/&lsquo;[\t ]&rsquo;//g | tr &ldquo;a-z&rdquo; &ldquo;A-Z&rdquo; | sed s/^/MAGENTO_/ | sed s/&ldquo;&lsquo;&rdquo;//g)</p>

<p>set | grep MAGENTO</p>

<p>#</p>

<h1>Community Edition 1.4.0.0 through 1.4.1.1 <a href="http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.4.0.0-1.4.1.1.patch">http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.4.0.0-1.4.1.1.patch</a></h1>

<h1>Community Edition 1.4.2.0 <a href="http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.4.2.0.patch">http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.4.2.0.patch</a></h1>

<h1>Community Edition 1.5.0.0 through 1.7.0.1 <a href="http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.5.0.0-1.7.0.1.patch">http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.5.0.0-1.7.0.1.patch</a></h1>

<p>#</p>

<p>if [ &ldquo;$MAGENTO_MAJOR&rdquo; -eq &ldquo;1&rdquo; ]; then
  if [ &ldquo;$MAGENTO_MINOR&rdquo; -eq &ldquo;4&rdquo; ]; then</p>

<pre><code>if [ $MAGENTO_PATCH -lt "2" ]; then
    CORRECT_PATCH='http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.4.0.0-1.4.1.1.patch'
  echo "Running Magento &lt; 1.4.2.0 - patch is $CORRECT_PATCH";
else
  CORRECT_PATCH='http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.4.2.0.patch'
  echo "Running Magento 1.4.2.0 - patch is $CORRECT_PATCH";
fi
</code></pre>

<p>  elif [ $MAGENTO_MINOR -gt &ldquo;4&rdquo; ]; then</p>

<pre><code>if [ $MAGENTO_MINOR -lt "7" ]; then
  CORRECT_PATCH='http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.5.0.0-1.7.0.1.patch'
  echo "Running Magento 1.5.0.0 or above - patch is $CORRECT_PATCH";
elif [ $MAGENTO_MINOR -eq "7" -a $MAGENTO_PATCH -eq "0" -a $MAGENTO_REVISION -lt "2" ]; then
  CORRECT_PATCH='http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.5.0.0-1.7.0.1.patch'
  echo "Running Magento 1.5.0.0 or above - patch is $CORRECT_PATCH";
else
  echo "Running Magento 1.7.0.2 - already patched."
  exit 1
fi
</code></pre>

<p>  fi
else
  echo &ldquo;You&rsquo;re not running version 1.x.x.x of Magento, I have no idea what to do!&rdquo;
  exit 97
fi</p>

<p>wget -O &ndash; $CORRECT_PATCH 2> /dev/null | patch -p0
if [ $? -eq 0 ]; then
  echo &ldquo;Patch succeeded.&rdquo;
else
  echo &ldquo;For some reason the patch failed.  See the output above.&rdquo;
  echo &ldquo;You could attempt to download the patch manually and apply it &ndash; the url is :&ndash; &rdquo;
  echo $CORRECT_PATCH
fi</p>

<p>```</p>

<p>Please note this script is supplied without any warranty, use at your own risk. We are not supplying the patch files simply making it easy to download and apply the correct one.</p>

<p>We strongly recommend you patch your store as soon as possible.</p>

<p><b><a href="http://www.edmondscommerce.co.uk/contact-us/?about=Free+Magento+Security+Fix"> If you need help, just ask!</a></b></p>
]]></content>
  </entry>
  
</feed>
