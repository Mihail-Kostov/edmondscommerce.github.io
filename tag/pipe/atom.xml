<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: pipe | Edmonds Commerce Dev Blog]]></title>
  <link href="http://edmondscommerce.github.io/tag/pipe/atom.xml" rel="self"/>
  <link href="http://edmondscommerce.github.io/"/>
  <updated>2014-04-28T13:25:53+01:00</updated>
  <id>http://edmondscommerce.github.io/</id>
  <author>
    <name><![CDATA[EdmondsCommerce Development Team]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Using Pipe Viewer for an Easy CLI Progress Bar]]></title>
    <link href="http://edmondscommerce.github.io/linux/using-pipe-viewer-for-an-easy-cli-progress-bar.html"/>
    <updated>2014-03-17T14:58:14+00:00</updated>
    <id>http://edmondscommerce.github.io/linux/using-pipe-viewer-for-an-easy-cli-progress-bar</id>
    <content type="html"><![CDATA[<p>If you have a large database file to import or any other longer running process that involves piping data from one place to another then this little utility should definitely be in your arsenal.</p>

<p>Simply enough you use this to give you a progress indication when you are piping large amounts of data.</p>

<p>To use this on a mysql import (which is where I am most likely to use this) you would do the following:</p>

<p><code>bash
pv ./dumpfile.sql | mysql -u$USER -p$PASS dbname
</code></p>

<p>This will then give you a simple progress bar and very usefully, an ETA that indicates how much time is left For example:
<code>
 308MB 0:07:57 [ 216kB/s] [===============&gt;                                          ] 10% ETA 1:08:32
</code></p>

<p>To install the utility you should first of all just try <code>yum install pv</code>. If that doesn&rsquo;t work then you can read more about installing for your distribution here:
<a href="http://www.ivarch.com/programs/pv.shtml">http://www.ivarch.com/programs/pv.shtml</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Server Migration - Pipe Tar from Server to Server using Netcat]]></title>
    <link href="http://edmondscommerce.github.io/linux/server-migration-pipe-tar-from-server-to-server-using-netcat.html"/>
    <updated>2012-01-06T14:17:46+00:00</updated>
    <id>http://edmondscommerce.github.io/linux/server-migration-pipe-tar-from-server-to-server-using-netcat</id>
    <content type="html"><![CDATA[<p>If you need to transfer a large amount of data from one server to another you might normally create a large tar archive, send it across and then untar it on the other end.</p>

<p>However a slightly slicker and easier repeated way of doing this is to pipe tar directly from one server to the other doing all three steps in one go.</p>

<p>For this you would create a script on each server. You could of course type the commands directly but in the interests of easy repeatability and removing the scope for human error, scripts are my preferred way of doing this kind of task.</p>

<p>Old server script:</p>

<p>```</p>

<h1>!/bin/bash</h1>

<p>cd /var/www/vhosts</p>

<h1>where new server IP is 123.123.123.123 and 9999 is the port the new server is listening on</h1>

<p>tar -xvj . | nc 123.123.123.123 9999</p>

<p>```</p>

<p>New Server Script:</p>

<p>```</p>

<h1>!/bin/bash</h1>

<p>cd /var/www/vhosts</p>

<p>nc -l 9999 | tar -xvf &mdash;same-owner</p>

<p>```</p>

<p>Now save these scripts and make them executable (chmod +x)</p>

<p>Now run the new server script on the new server and then run the old server script. You should quickly see the list of files being transferred appearing in both terminals.</p>

<p>That&rsquo;s it.</p>
]]></content>
  </entry>
  
</feed>
