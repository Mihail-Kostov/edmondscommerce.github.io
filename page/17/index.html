<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Edmonds Commerce Dev Blog</title>
  <meta name="author" content="EdmondsCommerce Development Team">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://edmondscommerce.github.io/page/17">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Edmonds Commerce Dev Blog" type="application/atom+xml">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27853727-2', 'edmondscommerce.github.io');
  ga('send', 'pageview');

</script>

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img height="20" src="https://2.gravatar.com/avatar/04b807394911b26ea8a79dbe25ea4e1a?d=https%3A%2F%2Fidenticons.github.com%2Fccb745f4b144d30c4b883330a1114834.png&amp;r=x&amp;s=140" width="20"> Dev Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
                
                <li ><a href="/categories/index.html">Categories</a></li>
                
                <li ><a href="/contact-us/index.html">Contact</a></li>
                
            </ul>
            <ul class="nav pull-right">
                
                
                <li><a href="http://linkedin.com/in/edmondscommerce" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
                
                
                
                <li><a href="http://plus.google.com/104488822194646220248" title="Google+ Profile"><i class="icon-google-plus-sign social-navbar"></i></a></li>
                
                
                
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:edmondscommerce.github.io">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index">
      
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-11-05T16:48:08+00:00" pubdate data-updated="true">Nov 5<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/concrete5/concrete5-developer-uk.html">Concrete5 Developer UK</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p><a href="http://www.concrete5.org/">Concrete5</a> is a CMS system based on Zend Framework that uses Jquery for it&rsquo;s Javascript layer. Both of these are very popular and powerful frameworks that are really great to work with.</p>

<p>The thing that users really love though is the ability to edit Concrete5 pages on the fly making it very easy to use by non techies.</p>

<p>You can see the real ethos of the platform (from our techie point of view) <a href="http://www.concrete5.org/about/blog/client-work/an-open-letter-to-php-developers-about-concrete5/" target="_blank">here</a>.</p>

<p>If you are looking for some expert PHP developers to help you get your Concrete5 site off the ground then <a href="/contact-us">get in touch with Edmonds Commerce today</a>.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-11-05T16:42:47+00:00" pubdate data-updated="true">Nov 5<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/rsync-for-beginners-2.html">Rsync for Beginners</a></h1>
    
  </header>


  <div class="entry-content clearfix"><h3>What is Rsync in general ?</h3>


<p>Rsync works like the <a href="http://linux.about.com/od/commands/l/blcmdl1_rcp.htm" rel="nofollow">rcp</a> command in linux. It is used to copy files across machines. It uses efficient checksum algorithm that looks for modified files by time and size. It is used for two purposes:</p>

<h2>Backup</h2>


<p>Rsync is used to transfer file from the local to a remote machine. By default Rsync will use rsh, however you can instead use <a href="http://linux.about.com/od/commands/l/blcmdl1_ssh.htm" rel="nofollow">ssh</a> for high security. Compressed files are transferred to save file transfer time and reduce the load on the network. It helps to transfer bulk files in minutes.</p>

<h2>Mirroring</h2>


<p>Rsync can synchronize file between two servers location(i.e) local and remote. By using the checksum algorithm it updates local files only if it is updated in remote server.</p>

<h3>How to use Rsync</h3>


<p></p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">rsync</span> <span class="o">-</span><span class="nx">avze</span> <span class="nx">ssh</span> <span class="o">-</span><span class="nx">p2020</span> <span class="nx">root</span><span class="o">@</span><span class="nx">server</span><span class="o">.</span><span class="nx">com</span><span class="o">:/</span><span class="nx">sitepath</span><span class="o">/</span><span class="nx">files</span>   <span class="o">/</span><span class="nx">localdata</span>
</span></code></pre></td></tr></table></div></figure>


<p>This command transfer files from remote server to local machine.</p>

<p>a  Archive. It is denotes all related files and documents.
v  Verbose.It will display status message as it is processing.
z  Compression.It achives better compression ratio.
e  It allows to chose alternative remote shell program for communication.</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">rsync</span> <span class="o">-</span><span class="nx">avze</span> <span class="nx">ssh</span> <span class="o">-</span><span class="nx">p2020</span> <span class="o">--</span><span class="nx">exclude</span> <span class="nx">home</span><span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="nx">cache</span> <span class="nx">root</span><span class="o">@</span><span class="nx">server</span><span class="o">.</span><span class="nx">com</span><span class="o">:/</span><span class="nx">sitepath</span><span class="o">/</span><span class="nx">files</span> <span class="o">/</span><span class="nx">localdata</span>
</span></code></pre></td></tr></table></div></figure>


<p>This command will transfer files from remote server to local machine by excluding cache folder.</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">rsync</span> <span class="o">-</span><span class="nx">avz</span> <span class="o">/</span><span class="nx">sitepath</span><span class="o">/</span><span class="nx">files</span> <span class="nx">root</span><span class="o">@</span><span class="nx">server</span><span class="o">.</span><span class="nx">com</span><span class="o">:/</span><span class="nx">localdata</span>
</span></code></pre></td></tr></table></div></figure>


<p>This command will  transfer all file from local to remote server. It is uses default remote shell protocol.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-11-05T16:29:37+00:00" pubdate data-updated="true">Nov 5<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/server/ssh-access-what-is-it-all-about-in-simple-words.html">SSH Access, What Is It All About in Simple Words?</a></h1>
    
  </header>


  <div class="entry-content clearfix"><h3>What is an SSH access?</h3>


<p>SSH stands for Secure Socket Shell. SSH is a protocol, like HTTP, it gives us a way to gain a secure access to remote computers.</p>

<p>The principle is to connect two networked computers via a secure encrypted channel within an insecure network environment such as the Internet.</p>

<p>With SSH access we can easily move files around and run programs on your server. We can also transmit files to and from our own network onto your server, for example to take a copy of your site for local development or to push updated files onto your server.</p>

<p>SSH needs a server application installing on your server (most web servers will have this by default) and an SSH client on your local machine to allow you to connect to your server.</p>

<h3>Where do you get your SSH access from?</h3>


<p>If you need SSH access details you should ask your hosting company, they should be able to install it for you if it is not already in place. If you are on shared hosting then the chances are that you will not be able to get SSH access details, if you need SSH access then you should consider upgrading your hosting to something that will support it.</p>

<p>SSH access details will consist of at least:</p>

<p>domain or IP address:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>domain.com
</span></code></pre></td></tr></table></div></figure>


<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>123.123.123.123
</span></code></pre></td></tr></table></div></figure>


<p>username:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>mywebserverlogin
</span></code></pre></td></tr></table></div></figure>


<p>password:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>ihy324579ySDWf
</span></code></pre></td></tr></table></div></figure>


<p>it may also include a port if SSH is not running on the standard port.</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>2020
</span></code></pre></td></tr></table></div></figure>


<h3>Why do we need the SSH access details?</h3>


<p>We will always ask our customers to provide us with SSH access details. This is for two main reasons:</p>

<h4>1. Power and Speed</h4>


<p>SSH access allows us to run commands directly on the server, compress files, run scripts etc. For example we will generally run some static analysis scripts for our <a href="/platforms/magento">Magento</a> customers using a bash script that we can run with SSH access. This gives us some instant feedback on the state of your Magento installation and allows us to spot any potential problems.</p>

<p>If we need to get a copy of your site files, using SSH we can prepare a compressed archive of your site files allowing us to download them much faster. Likewise we can easily get a reliable database dump, especially if you have a large database that might cause problems for browser based tools such as phpMyAdmin.</p>

<h4>2. Security</h4>


<p>SSH is a much more secure protocol than something like FTP. In SSH everything is encrypted. It has been built from the ground up to be a very secure way of networking and inter communicating between servers on an insecure network such as the web.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-11-02T17:42:15+00:00" pubdate data-updated="true">Nov 2<span>nd</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/web%20design/responsive-web-design-for-mobile-and-tablet-optimised-web-sites.html">Responsive Web Design for Mobile and Tablet Optimised Web Sites</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you are at all involved or exposed to the world of web design and web development then you have no doubt heard of the phrase &ldquo;responsive&rdquo; web design. If you browse the popular theme sites for themes for platforms like WordPress and Magento then you can see responsive themes becoming more popular.</p>

<p>So what does it mean and how does it work?</p>

<h3>What does Responsive Web Design Mean?</h3>


<p>Responsive designs change the layout and visible content on a page depending on the width, height and other factors of the device or window rendering the page. You can generally test out responsive designs by simply unmaximising a browser window and then resizing it down to smaller sizes such as 320 pixels wide. On a normal design you would be quite lucky if the site still rendered in a readable way at that width. More than likely you will only be able to see a fraction of the page and would have to sideways scroll to see the rest of it.</p>

<p>On a responsively designed site, the layout would change as the screen width gets smaller. It might hide certain elements such as side columns and may make things rearrange in a more vertical way to allow them to be displayed without the need for side scrolling.</p>

<p>In a nutshell, this is what responsive web design means.</p>

<h3>How Does Responsive Web Design Work?</h3>


<p>Responsive web design works by using a CSS3 technique called <a href="http://www.w3.org/TR/css3-mediaqueries/" title="W3C Media Queries Information" target="_blank">Media Queries</a>.</p>

<p>CSS has had the concept of media specific style sheets for quite some time. Traditionally though this was limited to print and screen, allowing for example to remove background images from a page when printing and perhaps adjust font family and size for better printing results.</p>

<p>The media queries functionality extends this concept significantly, allowing custom style rules to be applied based upon a range of differnt media options. The most commonly used of these for responsive web design are width and height.</p>

<p>The full list of properties that can be utilised with media queries include:</p>

<blockquote>width
height
device-width
device-height
orientation
aspect-ratio
device-aspect-ratio
color
color-index
monochrome
resolution
scan
grid</blockquote>




<h3>Get Your Web Site Working Responsively</h3>


<p>If you want to upgrade your web site to use responsive design techniques to better support the wide range of internet devices in use today then <strong><a href="/contact-us">get in touch</a></strong> with Edmonds Commerce today to discuss how we can help you.</p>

<h3>Some Useful and Interesting Links</h3>


<p><a href="http://www.w3.org/TR/css3-mediaqueries/ " target="_blank"><a href="http://www.w3.org/TR/css3-mediaqueries/">http://www.w3.org/TR/css3-mediaqueries/</a></a>
<a href="http://johnpolacek.github.com/scrolldeck.js/decks/responsive/" target="_blank"><a href="http://johnpolacek.github.com/scrolldeck.js/decks/responsive/">http://johnpolacek.github.com/scrolldeck.js/decks/responsive/</a></a>
<a href="http://reference.sitepoint.com/css/mediaqueries" target="_blank"><a href="http://reference.sitepoint.com/css/mediaqueries">http://reference.sitepoint.com/css/mediaqueries</a></a>
<a href="http://mediaqueri.es/" target="_blank"><a href="http://mediaqueri.es/">http://mediaqueri.es/</a></a>
<a href="http://mac-blog.org.ua/css-3-media-queries-cheat-sheet/" target="_blank"><a href="http://mac-blog.org.ua/css-3-media-queries-cheat-sheet/">http://mac-blog.org.ua/css-3-media-queries-cheat-sheet/</a></a></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-11-02T16:09:03+00:00" pubdate data-updated="true">Nov 2<span>nd</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/javascript/php/magento/jquery/boost-your-magento-stores-image-display-with-magiczoom.html">Boost Your Magento Store&#8217;s Image Display With MagicZoom</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>Magento&rsquo;s product images come with a workable, although somewhat unusual image zoom functionality. But many users want a lightbox which lets users click an image and see a large version. Of course, you can use just about any jQuery plugin in your templates &ndash; <a href="http://www.magictoolbox.com/magiczoom/" target="_blank">Magic Zoom</a> being one such perfect example.</p>

<p>But instead of manually installing and configuring the Javascript yourself, <a href="http://www.magictoolbox.com/magiczoom/modules/magento/" target="_blank">MagicZoom has its own Magento MagicZoom extension</a> which can be dropped straight in and integrates beautifully with Magento</p>

<p><img src="/assets/MagicZoomMagento1.png"></p>

<h2>Some highlights MagicZoom&#8217;s Magento extension</h2>


<ul>
    <li>Automatically inserts the product title onto the zoomed box</li>
    <li>Automatically linking main image and thumbnails for navigation when zoomed</li>
    <li>Visible on pretty much any area of the site, not just the product view page</li>
    <li>Per-theme customisation</li>
    <li>An insane amount of user-configurable options without touching a line of code (see below)</li>
</ul>


<p><img src="/assets/MagentoMagicZoomConfig.png"></p>

<h2>Installation</h2>


<p>MagicZoom&rsquo;s extension comes with its own installer, although for me it was perfectly sufficient to simply drop in the files</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-11-01T12:30:21+00:00" pubdate data-updated="true">Nov 1<span>st</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/phpunit-and-pdoexception-solution.html">PHPUnit and PDOException + Solution</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>I recently needed to run a test suite against a couple of classes that were making use of PDO.</p>

<p>When I tried to run the I got the following errors in the output for every test</p>

<p>PDOException: You cannot serialize or unserialize PDO instances</p>

<p>There is a quick way around this you just need to add the following lines to the class level doc block</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> *</span>
</span><span class='line'><span class="sd"> * @backupGlobals disabled</span>
</span><span class='line'><span class="sd"> * @backupStaticAttributes disabled</span>
</span><span class='line'><span class="sd"> */</span>
</span></code></pre></td></tr></table></div></figure>


<p>A full explanation of these, and other annotations can be found <a title="PHP Unit Appendix B. Annotations" href="http://www.phpunit.de/manual/current/en/appendixes.annotations.html">here</a></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-10-30T14:08:10+00:00" pubdate data-updated="true">Oct 30<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-warning-header-may-not-contain-more-than-a-single-header-new-line-detected-solution.html">Magento Warning: Header May Not Contain More Than a Single Header, New Line Detected + Solution</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you are puzzled by the error message:</p>

<p><code>
Warning: Header may not contain more than a single header, new line detected
</code>
When dealing with a Magento migration, you might want to double check you have not accidentally added a new line character to the end of your base_url field when you were updating the core_config_data table.</p>

<p>I just did this using phpMyadmin&rsquo;s nifty ajax editing feature however I must have hit return by accident. Simply editing them again and making sure there is absolutely no white space at the end of the URL and the problem is solved.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-10-22T16:40:10+01:00" pubdate data-updated="true">Oct 22<span>nd</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/reduce-catalog-url-rewrites-time-in-magento.html">Reduce Catalog URL Rewrites Time in Magento</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>I recently had a client that wanted to remove the category structure from their product urls.</p>

<p>There is a option to do this in the admin, but they wanted to redirect all of the existing urls to the shorter one.</p>

<p>The way that I wanted to do this was to truncate the current core_url_rewrite table and regenerate the urls with the &ldquo;Use Categories Path for Product URLs&rdquo; set to no, and then override the 404 controller to redirect to the correct url.</p>

<p>However, after the urls were generated, I found that all of the urls including the category path were still included, which meant that the override would not work.</p>

<p>After spending quite a bit of time looking for a way to get round this, I put together a simple override to prevent the category path urls from getting generated.</p>

<p>This had the added benefit of reducing the number of entries in the core_url_rewite table from ~2k entries to under 500, which cut the amount of time that was needed to generate it.</p>

<p>The code is below for anyone else that needs to use this in the future. There are three files in total, set up like this</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">EdmondsCommerce</span><span class="o">/</span>
</span><span class='line'><span class="sb">`-- Redirects</span>
</span><span class='line'><span class="sb">    |-- controllers</span>
</span><span class='line'><span class="sb">    |   `</span><span class="o">--</span> <span class="nx">Cms</span>
</span><span class='line'>    <span class="o">|</span>       <span class="sb">`-- IndexController.php</span>
</span><span class='line'><span class="sb">    |-- etc</span>
</span><span class='line'><span class="sb">    |   `</span><span class="o">--</span> <span class="nx">config</span><span class="o">.</span><span class="nx">xml</span>
</span><span class='line'>    <span class="sb">`-- Model</span>
</span><span class='line'><span class="sb">        `</span><span class="o">--</span> <span class="nx">Catalog</span>
</span><span class='line'>            <span class="err">`</span><span class="o">--</span> <span class="nx">Url</span><span class="o">.</span><span class="nx">php</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is the code for the Model</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">class</span> <span class="nc">EdmondsCommerce_Redirects_Model_Catalog_Url</span>
</span><span class='line'>  <span class="k">extends</span> <span class="nx">Mage_Catalog_Model_Url</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * This method is called each time that a url </span>
</span><span class='line'><span class="sd">     * is generated for a product. It is called for the </span>
</span><span class='line'><span class="sd">     * root category and each category that the product is in.</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * This code checks to see if the category passed to it is</span>
</span><span class='line'><span class="sd">     * the root category. If it is it will </span>
</span><span class='line'><span class="sd">     * add the url rewrite as normal. If not it does nothing</span>
</span><span class='line'><span class="sd">     * </span>
</span><span class='line'><span class="sd">     * @param Varien_Object $product</span>
</span><span class='line'><span class="sd">     * @param Varien_Object $category</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">protected</span> <span class="k">function</span> <span class="nf">_refreshProductRewrite</span><span class="p">(</span><span class="nx">Varien_Object</span> <span class="nv">$product</span><span class="p">,</span> <span class="nx">Varien_Object</span> <span class="nv">$category</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nv">$rootCategory</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getStoreRootCategory</span><span class="p">(</span><span class="nv">$category</span><span class="o">-&gt;</span><span class="na">getStoreId</span><span class="p">());</span>
</span><span class='line'>        <span class="k">if</span><span class="p">(</span><span class="nv">$category</span><span class="o">-&gt;</span><span class="na">getId</span><span class="p">()</span> <span class="o">==</span> <span class="nv">$rootCategory</span><span class="o">-&gt;</span><span class="na">getId</span><span class="p">())</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">parent</span><span class="o">::</span><span class="na">_refreshProductRewrite</span><span class="p">(</span><span class="nv">$product</span><span class="p">,</span> <span class="nv">$category</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>If you want to redirect from the existing urls to the new ones, you will need to use the following controller</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">include_once</span><span class="p">(</span><span class="s1">&#39;Mage/Cms/controllers/IndexController.php&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">EdmondsCommerce_Redirects_Cms_IndexController</span>
</span><span class='line'><span class="k">extends</span> <span class="nx">Mage_Cms_IndexController</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="sd">/**</span>
</span><span class='line'><span class="sd">     * This checks to see if the site can redirect</span>
</span><span class='line'><span class="sd">     * before displaying a 404</span>
</span><span class='line'><span class="sd">     * @param type $coreRoute</span>
</span><span class='line'><span class="sd">     */</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">noRouteAction</span><span class="p">(</span><span class="nv">$coreRoute</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// Get the request</span>
</span><span class='line'>        <span class="nv">$request</span> <span class="o">=</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;REQUEST_URI&#39;</span><span class="p">];</span>
</span><span class='line'>        <span class="c1">// Strip off get params if there are any</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nb">strpos</span><span class="p">(</span><span class="nv">$request</span><span class="p">,</span> <span class="s1">&#39;?&#39;</span><span class="p">)</span> <span class="o">!==</span> <span class="k">FALSE</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$request</span> <span class="o">=</span> <span class="nx">substr</span><span class="p">(</span><span class="nv">$request</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">strpos</span><span class="p">(</span><span class="nv">$request</span><span class="p">,</span> <span class="s1">&#39;?&#39;</span><span class="p">));</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="sd">/**</span>
</span><span class='line'><span class="sd">         *  This makes sure that no part of the request is included</span>
</span><span class='line'><span class="sd">         *  in the base url. This should help</span>
</span><span class='line'><span class="sd">         *  the system work if it is running from a sub folder</span>
</span><span class='line'><span class="sd">         */</span>
</span><span class='line'>        <span class="nv">$parts</span> <span class="o">=</span> <span class="nb">explode</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">getBaseUrl</span><span class="p">());</span>
</span><span class='line'>        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$parts</span> <span class="k">AS</span> <span class="nv">$part</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nv">$request</span> <span class="o">=</span> <span class="nb">str_replace</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="nv">$part</span><span class="p">,</span> <span class="s1">&#39;//&#39;</span><span class="p">),</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nv">$request</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="cm">/*</span>
</span><span class='line'><span class="cm">         * Combine the request with the base path to get the full url</span>
</span><span class='line'><span class="cm">         * and remove any trailing slashes</span>
</span><span class='line'><span class="cm">         */</span>
</span><span class='line'>        <span class="nv">$path</span> <span class="o">=</span> <span class="nx">trim</span><span class="p">(</span><span class="nb">str_replace</span><span class="p">(</span><span class="s1">&#39;http:/&#39;</span><span class="p">,</span> <span class="s1">&#39;http://&#39;</span><span class="p">,</span> <span class="nb">str_replace</span><span class="p">(</span><span class="s1">&#39;//&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">getBaseUrl</span><span class="p">()</span> <span class="o">.</span> <span class="nv">$request</span><span class="p">)),</span> <span class="s1">&#39;/&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="c1">//Get the last section which should be the product title</span>
</span><span class='line'>        <span class="nv">$cleanedPath</span> <span class="o">=</span> <span class="nb">explode</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="nv">$path</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$key</span> <span class="o">=</span> <span class="nb">array_pop</span><span class="p">(</span><span class="nv">$cleanedPath</span><span class="p">);</span>
</span><span class='line'>        <span class="c1">//Here we find url keys like the title</span>
</span><span class='line'>        <span class="nv">$collection</span> <span class="o">=</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">getModel</span><span class="p">(</span><span class="s1">&#39;catalog/product&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">getCollection</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">addAttributeToSelect</span><span class="p">(</span><span class="s1">&#39;url_key&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">addFieldToFilter</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
</span><span class='line'>            <span class="k">array</span><span class="p">(</span><span class="s1">&#39;attribute&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;url_key&#39;</span><span class="p">,</span> <span class="s1">&#39;like&#39;</span> <span class="o">=&gt;</span> <span class="s2">&quot;</span><span class="si">$key</span><span class="s2">&quot;</span><span class="p">)));</span>
</span><span class='line'>        <span class="nv">$products</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">load</span><span class="p">();</span>
</span><span class='line'>        <span class="cm">/*</span>
</span><span class='line'><span class="cm">         * Proceed if there is only 1 result, if there are more we</span>
</span><span class='line'><span class="cm">         * don&#39;t know which one is correct</span>
</span><span class='line'><span class="cm">         */</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nb">count</span><span class="p">(</span><span class="nv">$products</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">foreach</span> <span class="p">(</span><span class="nv">$products</span> <span class="k">AS</span> <span class="nv">$product</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="nv">$url</span> <span class="o">=</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">getBaseUrl</span><span class="p">(</span><span class="nx">Mage_Core_Model_Store</span><span class="o">::</span><span class="na">URL_TYPE_WEB</span><span class="p">)</span> <span class="o">.</span> <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">getUrlKey</span><span class="p">();</span>
</span><span class='line'>                <span class="c1">//Check to make sure the url is not the same as the path, should prevent infinite redirects</span>
</span><span class='line'>                <span class="k">if</span> <span class="p">(</span><span class="nv">$path</span> <span class="o">!=</span> <span class="nv">$url</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                    <span class="nx">header</span><span class="p">(</span><span class="s1">&#39;HTTP/1.1 301 Moved Permanently&#39;</span><span class="p">);</span>
</span><span class='line'>                    <span class="nx">header</span><span class="p">(</span><span class="s1">&#39;Location: &#39;</span> <span class="o">.</span> <span class="nv">$url</span><span class="p">);</span>
</span><span class='line'>                    <span class="k">die</span><span class="p">();</span>
</span><span class='line'>                <span class="p">}</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="c1">// Could not find a suitable url carry out the 404</span>
</span><span class='line'>        <span class="k">parent</span><span class="o">::</span><span class="na">noRouteAction</span><span class="p">(</span><span class="nv">$coreRoute</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then use the following xml file</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
</span><span class='line'><span class="nt">&lt;config&gt;</span>
</span><span class='line'>    <span class="nt">&lt;modules&gt;</span>
</span><span class='line'>        <span class="nt">&lt;EdmondsCommerce_Redirects&gt;</span>
</span><span class='line'>            <span class="nt">&lt;version&gt;</span>0.1.0<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>            <span class="nt">&lt;depends&gt;&lt;/depends&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/EdmondsCommerce_Redirects&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/modules&gt;</span>
</span><span class='line'>    <span class="nt">&lt;global&gt;</span>
</span><span class='line'>        <span class="nt">&lt;models&gt;</span>
</span><span class='line'>            <span class="nt">&lt;redirects&gt;</span>
</span><span class='line'>                <span class="nt">&lt;class&gt;</span>EdmondsCommerce_Redirects_Model<span class="nt">&lt;/class&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/redirects&gt;</span>
</span><span class='line'>            <span class="nt">&lt;catalog&gt;</span>
</span><span class='line'>                <span class="nt">&lt;rewrite&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;url&gt;</span>EdmondsCommerce_Redirects_Model_Catalog_Url<span class="nt">&lt;/url&gt;</span>
</span><span class='line'>                <span class="nt">&lt;/rewrite&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/catalog&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/models&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/global&gt;</span>
</span><span class='line'>    <span class="nt">&lt;frontend&gt;</span>
</span><span class='line'>        <span class="nt">&lt;routers&gt;</span>
</span><span class='line'>            <span class="nt">&lt;cms&gt;</span>
</span><span class='line'>                <span class="nt">&lt;args&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;modules&gt;</span>
</span><span class='line'>                        <span class="nt">&lt;EdmondsCommerce_Redirects</span> <span class="na">before=</span><span class="s">&quot;Mage_Cms&quot;</span><span class="nt">&gt;</span>EdmondsCommerce_Redirects_Cms<span class="nt">&lt;/EdmondsCommerce_Redirects&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;/modules&gt;</span>
</span><span class='line'>                <span class="nt">&lt;/args&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/cms&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/routers&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/frontend&gt;</span>
</span><span class='line'><span class="nt">&lt;/config&gt;</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-10-16T13:56:19+01:00" pubdate data-updated="true">Oct 16<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-multi-store-websites-and-storeviews-explained.html">Magento Multi Store, Websites and Storeviews Explained</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>One of the most exciting features of Magento for many merchants is the ability to run multiple front end websites with a single administration area. For those of you who have managed multiple separate installations of a cart system to power many websites, perhaps selling the same products, then this on its own can make a huge difference in terms of ease of management.</p>

<p>Magento has had multi store functionality designed in from the ground up. This results in a multistore implementation that feels solid and intuitive and also very powerful. This is in contrast to other carts&#8217; multi store systems which can often feel like a bit of a bolt on after thought that isn&rsquo;t as clearly embedded into the system.</p>

<h2>Magento Scopes</h2>


<p>Magento has a hierarchical system of stores with 4 levels.</p>

<h3>Global Scope</h3>


<p>The top of the hierarchy is the global scope. This scope defines the default values for the various attributes that products and categories contain. You can not see the global scope as a store front but in the admin side the global scope is the one you work in by default and is likely to be where you spend most of your admin time.</p>

<h3>Website Scope</h3>


<p>Magento has the concept of websites. You can think of a website as a domain name (though this is perhaps an over simplification). A website can contain one or more stores.</p>

<h3>Store Scope</h3>


<p>A store is the item that contains products and categories. A category structure is built from a &ldquo;root&rdquo; category. The root category is not displayed on the front end, its children categories become the top level categories for the store when viewed in the front end. A store can have it&rsquo;s own root category and structure or can share the same one used by other stores.</p>

<h3>Store View</h3>


<p>Every store contains at least one store view. You can generally think of store views as translations of a store (though this is not the only use case). The category structure will be the same for the various store views and this scope is generally used to store alternative values for textual content such as product names, descriptions etc.</p>

<h2>Editing Values on a Per Scope Basis</h2>


<p>When you are editing products, categories or configuration in your Magento admin you will have a drop down in the top left of the screen that determines which scope you are currently working in. As a best practice always try to be as close to the global scope as possible when making your edits, only descending into the lower scopes as required.</p>

<h2>Possibilites</h2>


<p>The possibilities of these various scopes are almost limitless, you can manage a large and diverse range of store fronts that may or may not be clearly related to each other from the customers point of view from a single Magento administration. Like many things in Magento, this powerful system can become complex and we really strongly advise that you plan out your store structure before you start actually adding things so that you ensure you are building a nice logical system that is going to scale up as you grow.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-10-15T14:44:29+01:00" pubdate data-updated="true">Oct 15<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/magento-upgrade-to-1-7-fix-for-sales-order-tab-contents-in-left-sidebar.html">Magento Upgrade to 1.7, Fix for Sales Order Tab Contents in Left Sidebar</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If following an upgrade to Magento 1.7 you&rsquo;re having a problem that the Sales Order View tab contents are stuck in the sidebar (see below) you&rsquo;re likely ripping your hair out as to why this is happening
<img src="/assets/Sales-Order-View-Problem-502x600.png"></p>

<p>In the page you&rsquo;ll find a line of Javascript:
<code>sales_order_view_tabsJsTabs = new varienTabs(&lsquo;sales_order_view_tabs&rsquo;, &lsquo;sales_order_view&rsquo;, &lsquo;sales_order_view_tabs_order_info&rsquo;, []);</code></p>

<h2>The problem</h2>


<p>This is the javascript which renders the tabs on the page, moving the tab contents to the main content area once the page has loaded. The second parameter here is the destination element. The issue I was having was that the element with the id &lsquo;sales_order_view&rsquo; wasn&rsquo;t in the HTML. This div is contained in app/design/adminhtml/default/default/template/sales/order/view/form.phtml, but this wasn&rsquo;t being loaded.</p>

<h3>The solution</h3>


<p>In my case this was a code/local overridden core class Mage_Sales_Model_Order. In Magento 1.7 the method canReorder() has been renamed to canReorderIgnoreSalable(). Renaming the overridden method fixed my problem</p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/page/18/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next"><a href="/page/16/">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/testing/test-post-from-michael.html">Test Post From Michael</a>
    
    <a class="list-group-item " href="/testing/this-is-a-test-post.html">This Is a Test Post</a>
    
    <a class="list-group-item " href="/magento/intermittent-paypal-ipn-failure-in-magento.html">Intermittent PayPal IPN Failure in Magento</a>
    
    <a class="list-group-item " href="/linux/selinux-configuration-for-alternative-document-root.html">SELinux Configuration for Alternative Document Root</a>
    
    <a class="list-group-item " href="/linux/nice-gnome-shell-theme-elegance-colours.html">Nice Gnome Shell Theme - Elegance Colours</a>
    
  </div>
</section>




<section class="googleplus panel panel-default">
  <div class="panel-body">
    <h3>
      <a href="https://plus.google.com/104488822194646220248?rel=author">
        <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
        Google+
      </a>
    </h3>
  </div>
</section>


<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">About Us</h3>
    </div>
    <div class="panel-body">
        <p>
            <a href="http://www.edmondscommerce.co.uk">Edmonds Commerce</a> are a UK based E-Commerce web development
            agency.
        </p>

        <p>
            We are based in <a href="http://www.yorkshire.com/">Yorkshire</a> near <a
                href="http://www.visitleeds.co.uk/">Leeds</a> and <a href="http://www.visitbradford.com/">Bradford</a>.
        </p>

        <p>
            Our primary specialism is <a href="http://magento.com/">Magento</a> and other PHP based E-Commerce platforms
            such as <a href="http://www.opencart.com/">OpenCart</a>.
        </p>

        <p>
            In terms of technology we are very strong in:
        <ul>
            <li><a href="http://php.net/">PHP</a>,</li>
            <li><a href="http://www.mysql.com/">MySQL</a>,</li>
            <li><a href="http://www.linuxfoundation.org/">Linux</a>,</li>
            <li><a href="http://www.w3.org/standards/techs/html#w3c_all">HTML<a/>,</li>
            <li><a href="http://www.w3.org/Style/CSS/Overview.en.html">CSS</a></li>
            <li><a href="http://en.wikipedia.org/wiki/JavaScript">Javascript</a>.</li>
        </ul>
        </p>
    </div>
</section>

<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Commercial Enquiries</h3>
    </div>
    <div class="panel-body">
        <p>
            If you would like to discuss your project requirements then please get in touch today.
        </p>

        <p>
            <a href="http://www.edmondscommerce.co.uk">www.edmondscommerce.co.uk</a><br/><br/>
            <a href="mailto:info@edmondscommerce.co.uk">info@edmondscommerce.co.uk</a><br/><br/>
            <a href="tel:00441274590036">+44 1274 590036</a>
        </p>
    </div>
</section>

      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2014 - EdmondsCommerce Development Team<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>






  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </body>
</html>
