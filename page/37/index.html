<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Edmonds Commerce Dev Blog</title>
  <meta name="author" content="EdmondsCommerce Development Team">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://edmondscommerce.github.io/page/37">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Edmonds Commerce Dev Blog" type="application/atom+xml">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27853727-2', 'edmondscommerce.github.io');
  ga('send', 'pageview');

</script>

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img height="20" src="https://2.gravatar.com/avatar/04b807394911b26ea8a79dbe25ea4e1a?d=https%3A%2F%2Fidenticons.github.com%2Fccb745f4b144d30c4b883330a1114834.png&amp;r=x&amp;s=140" width="20"> Dev Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
                
                <li ><a href="/categories/index.html">Categories</a></li>
                
                <li ><a href="/contact-us/index.html">Contact</a></li>
                
            </ul>
            <ul class="nav pull-right">
                
                
                <li><a href="http://linkedin.com/in/edmondscommerce" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
                
                
                
                <li><a href="http://plus.google.com/104488822194646220248" title="Google+ Profile"><i class="icon-google-plus-sign social-navbar"></i></a></li>
                
                
                
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:edmondscommerce.github.io">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index">
      
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-05-27T11:48:41+01:00" pubdate data-updated="true">May 27<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-extensions-publish-magento-extension-successfully.html">Magento Extensions - Publish Magento Extension Successfully</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you have just created your Magento extension but you are now wondering how you can successfully publish it to the community then this article is for you!!</p>

<p>Magento-Connect is an official &ldquo;repository&rdquo; for all Magento extensions and a better place where developers can add custom extensions or plugins for community or commercial use.</p>

<p>However, publishing or registering your extension on Magento Connect can sometimes be a pain especially if it is your first ever time to do so. Publishing your extension incorrectly can easily result to unexpected results notably upgrading someone&rsquo;s entire site</p>

<p>I will definitely recommend packaging your extension on Magento 1.5.x.x as the packaging tool there seems to be well improved compared to the previous versions.</p>

<p>Lets get things started:</p>

<p>Login to admin and go to System &ndash;> Magento Connect &ndash;> Package Extensions</p>

<p>Once there, please follow the following steps.</p>

<h2>Package Info:</h2>


<p>Here is where you will need to provide the details of your extension.
<img src="/assets/Packaging_info-300x296.png"></p>

<p><b>The supported release works like this.</b></p>

<pre><code>&lt;ul&gt;
</code></pre>

<p><li>If you want your extension to only work on Magento version 1.5.x.x and above (Select 1.5.0.0 &amp; later)</li></p>

<pre><code>&lt;li&gt;If you want to support previous versions as well you will need to select Pre-1.5.0.0 (Magento will automatically create the URL for version 2.0 of the Magento Connect. This will effectively make your extension available for later versions as well.)&lt;/li&gt;

&lt;li&gt;Name must be the same as the name of your extension.&lt;/li&gt;

&lt;li&gt;License and License URI are the same for most part, unless you want to use a different license.&lt;/li&gt;
</code></pre>

<p></ul></p>

<h2>Release</h2>


<p>Specify your extension release details. Straight forward matters.
<img src="/assets/Screenshot-300x231.png"></p>

<p><b>Release Version is the version of your extension.</b></p>

<h2>Authors</h2>


<p>Here you will need to list the author names of the extension.
<img src="/assets/Screenshot-1-300x28.png"></p>

<p><b>Note:</b> The user field, MUST be the same as the name on your Magento Account. This is NOT your screen name, it is the user name as found in My Account on your Magento account.</p>

<h2>Dependencies:</h2>


<p>Most likely you will only need to specify the PHP versions dependencies. However, if your extension depends on other extensions/packages or other libraries, here is the place for your to specify.</p>

<p><img src="/assets/Dependence-300x74.png"></p>

<h2>Contents</h2>


<p>Here is the place you tell Extension packager where the extension files are. Below I specified the relative paths to the target field.
<img src="/assets/Screenshot-2-300x36.png"></p>

<p>The path field, is where you will enter the path to the directory of files relative to the Target. The relative folders to the targets are</p>

<p>Magento Local module file:  is app/code/local/
Magento Community module file:  is app/code/community/
Magento Global Configuration:  is app/etc/
Magento Core team module file:  is app/code/core/
Magento User Interface (layouts, templates):  is app/design/
Magento PHP Library file:  is lib/
Magento Locale language file:  is app/locale/
Magento Media library: is media/
Magento Theme Skin (Images, CSS, JS):  is skin/
Magento Other web accessible file:  is /
Magento PHPUnit test: is tests/
Magento other: is /</p>

<p>You are now ready to package your extension. Press the Save Data and Create Package button at top right of the page.</p>

<p>Depending on the supported release choice you have made in the first step, your extension files will be in the following location
<b>Release 1.5.0.0 &amp; later: var/connect</p>

<p>Release Pre-1.5.0.0 : var/pear</b></p>

<h2>Possible Gotchas / Errors</h2>


<p><b>Release file already exists:</b>
If you get this error: Simply increase the version of the package, re-save the extension and upload it again.</p>

<p><b>Release refered to unknown or non-existent extension </b>
The package name in package info section MUST be the same as the name of your package.</p>

<p>I hope you find this article helpfully.</p>

<p>If you have any question or feedback please feel free to drop a comment with your own experience.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-05-27T10:04:15+01:00" pubdate data-updated="true">May 27<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/programming/linux/ubuntu/building-bash-function-libraries.html">Building Bash Function Libraries</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>Bash provides many powerful functions but how can you use these easily?</p>

<p>If you spend any time using the command line, either to manage a server or on the desktop, you have to quickly become proficient with bash. You will also find the you carry out many of the same tasks time after time.</p>

<p>This can quickly become tiresome and error prone, particularly if you are piping several commands together. However, bash provides several ways to make your life easier.</p>

<h3>Aliases</h3>


<p>If you are always going to be using the same flags with a command, you can ensure that they are called by default by using an alias.</p>

<p>An alias is a shorthand that bash uses in order to fire commands. Several are included as standard with Ubuntu (and other distros) and are stored in your .bashrc file. You can edit these and add your own as the need occurs.</p>

<p>An example of this is that I prefer the human readable file sizes when using ls. You can turn these on using the -h flag, but you have to include this every time you run the command. To make things easier I changed the alias for ll (long list) to read as follows</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>alias ll="ls -ahlF"
</span></code></pre></td></tr></table></div></figure>


<p>This way I don&rsquo;t need to remember to put the flag in.</p>

<p>As you build up more of these commands, it makes sense to store them in a separate file so you can easily find and edit them. You can place all of you aliases in a file called .bash_aliases and they will be available for use.</p>

<h3>Scripts</h3>


<p>Aliases are fine for quickly calling simple commands, but many times you will need to carry out more complex tasks. In order to do this, you can make a script, and then call that.</p>

<p>By placing everything into a script, you benefit from being able to carry out more complicated functions, and the easy of calling it from a single command.</p>

<p>An example of this would be if you wanted to compare two branches in git, and see all of the files that had been created or modified, but not the files that had been deleted. You create a file called git_get_changed_files and put the following in</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>#!/bin/bash
</span><span class='line'>local ORIGINAL CHANGED FILES 
</span><span class='line'>ORIGINAL="$1"
</span><span class='line'>CHANGED="$2"
</span><span class='line'>
</span><span class='line'>    FILES=$(git diff --name-status $ORIGINAL..$CHANGED public/ | awk '{print $1"@@@@@"$2}')
</span><span class='line'>    for FILE in $FILES
</span><span class='line'>    do
</span><span class='line'>            echo "$FILE" | awk -F "@@@@@" '{ i=""; if ($1 != "D") print $2}'
</span><span class='line'>    done
</span></code></pre></td></tr></table></div></figure>


<p>If you place this in your home/bin folder you will then be able to run  git_get_changed_files like a normal command.</p>

<h3>A Global Function Library</h3>


<p>You can expand on this by creating a global library of functions. This works by putting all of the functions into a folder, where each file is a namespace for different functions.</p>

<p>This can be achieved by creating a script that will source of all of the files in a folder, like so:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>#!/bin/bash
</span><span class='line'>for f in $(ls /path/to/folder/); 
</span><span class='line'>    do source /path/to/folder/$f; 
</span><span class='line'>done
</span></code></pre></td></tr></table></div></figure>


<p>Call this script func and place it in your home/bin folder. Then you put a script in the folder referenced in the file and use the following structure.</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>function parse.(){ # auto complete helper, second argument is a grep against the function list     
</span><span class='line'>    if [[ '' == "$@" ]]
</span><span class='line'>    then
</span><span class='line'>        echo "Parse Namespaced Functions List"
</span><span class='line'>        cat $BASH_SOURCE | grep "^function[^(]" | awk '{j=" USAGE:"; for (i=5; i&lt;=NF; i++) j=j" "$i; print $2" "j}'
</span><span class='line'>    else
</span><span class='line'>        echo "Parse Functions Matching: $@"
</span><span class='line'>        cat $BASH_SOURCE | grep "^function[^(]" | awk '{j=" USAGE:"; for (i=5; i&lt;=NF; i++) j=j" "$i; print $2" "j}' | grep $@
</span><span class='line'>    fi
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>function parse.access_log_top_ten_code() { # Show the top ten code from access_log: useage ...code $FILE $CODE
</span><span class='line'>  FILE=$1
</span><span class='line'>  CODE=$2
</span><span class='line'>  echo "Count the top ten $CODE'd pages"
</span><span class='line'>
</span><span class='line'>  cat $FILE | awk '{ i=($9=="$CODE" ) ? $7 : ""; print i; }' | sort | uniq -c | sort -n | tail -n 11 | head -n 10
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<p>In this folder a namespace of parse is created. Running</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>func parse. 
</span></code></pre></td></tr></table></div></figure>


<p>Will list all of the function in the file. Running func parse. log will list all of the function that contain log in the function name or description. When the files are listed, the function name will be displayed with the comment along side it.</p>

<p>As the func command sources all of the different files, you are able to makes use of the functions across different namespaces. This means that you can create a file that will format output and then use that in with your git functions.</p>

<p>I hope that you are able to make use of this idea, and build your own library of functions. Anything that you thing would be useful to add to the library, please mention below.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-05-22T21:19:48+01:00" pubdate data-updated="true">May 22<span>nd</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/ubuntu/permanently-and-automatically-mount-hd-in-ubuntu-linux.html">Permanently and Automatically Mount HD in Ubuntu Linux</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you have a secondary hard drive that you have to manually mount in Ubuntu/Linux everytime you boot up and you are not too comfortable with the syntax for fstab, this is a possible easy shortcut for you.</p>

<p>You can view the currently mounted partitions by looking at mtap</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>cat /etc/mtab
</span></code></pre></td></tr></table></div></figure>


<p>If you do this after you have mounted the drive, you can see the full mount command that has been used, eg</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>/dev/sdc1 /media/BigDrive ext4 rw,nosuid,nodev,uhelper=udisks 0 0
</span></code></pre></td></tr></table></div></figure>


<p>You can copy that line and paste it into your fstab and from then on when you boot up the drive will be mounted automatically.</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>sudo gedit /etc/fstab
</span></code></pre></td></tr></table></div></figure>


<p>I have no idea what all that stuff means and to be honest I don&rsquo;t care I just want to use my hard drive.</p>

<p>ALWAYS back up your fstab before making changes!</p>

<p>Hope that helps ;)</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-05-18T18:55:33+01:00" pubdate data-updated="true">May 18<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/php-job-leeds-hiring-developers.html">PHP Job Leeds, Still Hiring Developers</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>Just an update for any PHP developers in and around the Leeds, Bradford and West Yorkshire region:</p>

<p>Edmonds Commerce are still looking for skilled and enthusiastic PHP developers to join the team.</p>

<p>Our focus is entirely on e-commerce which is an exciting and challenging field for the right kind of person.</p>

<p>We expect our developers to be at or around the Zend Certified Developer level but other than that there are no specific criteria.</p>

<p>If you are interested please do get in touch.</p>

<p>We will initially ask you to do a quick PHP quiz, if you want to do that straight away just go here</p>

<p><a href="http://www.edmonds-commerce.co.uk/PHPTest/form.php"><a href="http://www.edmonds-commerce.co.uk/PHPTest/form.php">http://www.edmonds-commerce.co.uk/PHPTest/form.php</a></a></p>

<p>Do <a href="/contact-us">get in touch directly</a> as well though, the spam bots quite enjoy filling it out as well and I haven&rsquo;t got around to protecting it.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-05-16T11:01:46+01:00" pubdate data-updated="true">May 16<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/netbeans/netbeans-path-tools-plugin.html">Netbeans Path Tools Plugin</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>Just stumbled across a simple and incredibly useful Netbeans plugin.</p>

<p><a href="http://plugins.netbeans.org/plugin/676/path-tools"><a href="http://plugins.netbeans.org/plugin/676/path-tools">http://plugins.netbeans.org/plugin/676/path-tools</a></a></p>

<p>Path Tools.</p>

<p>It&rsquo;s not listed in the standard list of available plugins, but if you download the nbm file and just drag and drop it into the plugin install dialog window it works easily enough.</p>

<p>Once installed you can right click any folder or file and explore in the OS file manager (Nautilus for example). You can also set up shell commands. From this point your imagination is your only restriction, this gives you easy integration to various external tools.</p>

<p>Nice :)</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-05-12T11:20:58+01:00" pubdate data-updated="true">May 12<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/php-custom-error-and-exception-handler-make-php-stricter.html">PHP Custom Error and Exception Handler - Make PHP Stricter</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you prefer a coding style that doesn&rsquo;t let you get away with as much as PHP does by default then you may like this trick.</p>

<p>As standard PHP will let you get away with quite a lot of things that are probably not a good idea. Some times that can be great, allowing you to quickly prototype things or achieve results quickly without having to go through nit picking your code.</p>

<p>However on the other hand if you are working on a production system that you would really rather complained as much as possible in the dev stage to help to minimise the likelihood that bugs will creep through to production then this looseness can work against you.</p>

<p>For this reason I often use this trick to make PHP much more fussy and strict and make errors much more obvious and easier to deal with.</p>

<p>First of all, we need to create a custom error handler. This will override the standard error handling in PHP and allow us to do what we want. What I am going to do is convert all of the standard PHP errors into exceptions.</p>

<p><b>Error Handler</b></p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">function</span> <span class="nf">ec_error_handler</span><span class="p">(</span><span class="nv">$severity</span><span class="p">,</span> <span class="nv">$message</span><span class="p">,</span> <span class="nv">$filename</span><span class="p">,</span> <span class="nv">$lineno</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nb">error_reporting</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="c1">//if (error_reporting() &amp; $severity) {</span>
</span><span class='line'>    <span class="k">throw</span> <span class="k">new</span> <span class="nx">ErrorException</span><span class="p">(</span><span class="nv">$message</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">$severity</span><span class="p">,</span> <span class="nv">$filename</span><span class="p">,</span> <span class="nv">$lineno</span><span class="p">);</span>
</span><span class='line'>    <span class="c1">//}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>You will notice that 2 lines are commented out. If uncommented, this will respect the error reporting settings of PHP. Commented out it throws an exception regardless of PHP error reporting settings.</p>

<p>To make PHP use this function as my error handler we do the following:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nb">set_error_handler</span><span class="p">(</span><span class="s1">&#39;ec_error_handler&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>So now every PHP error, notice etc is being converted into an exception. This gives me the ability to view stack traces and see exactly which file, line etc is involved so tracking issues down is a snap.</p>

<p>Now though I want a nice system to capture these exceptions and dump this info to the screen.</p>

<p><b>Exception Handler</b></p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">function</span> <span class="nf">ec_exceptions_handler</span><span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nb">ob_start</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">h</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Uncaught Exception&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">h</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">());</span>
</span><span class='line'>    <span class="nx">h</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;Line &#39;</span> <span class="o">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getLine</span><span class="p">()</span> <span class="o">.</span> <span class="s1">&#39; of &#39;</span> <span class="o">.</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getFile</span><span class="p">());</span>
</span><span class='line'>    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getTrace</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$t</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nb">var_dump</span><span class="p">(</span><span class="nv">$t</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="nx">dumpObjects</span><span class="p">();</span>
</span><span class='line'>    <span class="nv">$exceptionMessage</span> <span class="o">=</span> <span class="nb">ob_get_clean</span><span class="p">();</span>
</span><span class='line'>    <span class="k">echo</span> <span class="nv">$exceptionMessage</span><span class="p">;</span>
</span><span class='line'>    <span class="k">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>This function starts the output buffer then dumps a large amount of information including the message, line and file for the exception. The full stack trace.</p>

<p>It&rsquo;s also dumping all global objects using another function.</p>

<p>This output is captured into a variable with ob_get_clean(). At this point, you might decide to log this variable to a file, database, ticketing system etc &ndash; I leave that bit to you. Finally the info is dumped to the screen and the program exits.</p>

<p>Of course this is not something you should do in a production environment, this level of information on a production system is a welcome invitation to hackers to exploit you. However in a secure local dev environment its exactly what you need.</p>

<p>To get PHP to use this exception handler, we do the following:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nb">set_exception_handler</span><span class="p">(</span><span class="s1">&#39;ec_exceptions_handler&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here are the other functions you will need:</p>

<p><b>Dump Objects</b>
This one simply var dumps all the objects as they are at the time of the exception. This may be overkill for your situation, I leave that up to you.</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">function</span> <span class="nf">dumpObjects</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">h</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Dumping Objects&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$GLOBALS</span> <span class="k">as</span> <span class="nv">$g</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nb">is_object</span><span class="p">(</span><span class="nv">$g</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>            <span class="nx">h</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">get_class</span><span class="p">(</span><span class="nv">$g</span><span class="p">));</span>
</span><span class='line'>            <span class="nb">var_dump</span><span class="p">(</span><span class="nv">$g</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><b>H Tag Helper</b>
And this is just a html helper to create H tags</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">function</span> <span class="nf">h</span><span class="p">(</span><span class="nv">$n</span><span class="p">,</span> <span class="nv">$m</span><span class="p">){</span>
</span><span class='line'>    <span class="k">echo</span> <span class="s2">&quot;&lt;h</span><span class="si">$n</span><span class="s2">&gt;</span><span class="si">$m</span><span class="s2">&lt;/h</span><span class="si">$n</span><span class="s2">&gt;&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="nb">flush</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>I hope you find this useful. Feel free to add any comments etc below.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-05-10T11:03:51+01:00" pubdate data-updated="true">May 10<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/mysql-got-error-28-from-storage-engine-solution.html">MySQL Got Error 28 From Storage Engine + Solution</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you get the error:</p>

<p><strong>Got error 28 from storage engine query</strong></p>

<p>When you are trying to access your web site, database or phpMyAdmin then the problem is likely to be that you have run out of hard disk space.</p>

<p>If you have command line access you can quickly check this by running</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>df -h
</span></code></pre></td></tr></table></div></figure>


<p>If you do see a partition with low or no space then the solution is simply to find and remove files that are not required and you should be back up and running.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-04-29T08:11:14+01:00" pubdate data-updated="true">Apr 29<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/ubuntu/remove-raid-array-on-ubuntu.html">Remove Raid Array on Ubuntu</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>Trying to upgrade to Natty and it seems to have tried to set up a RAID array which is causing me issues.</p>

<p>After a bit of messing around, the easy solution is to run:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>sudo dmraid -rE
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-04-27T14:37:20+01:00" pubdate data-updated="true">Apr 27<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/netbeans/netbeans-quick-find-variable-declaration.html">Netbeans Quick Find Variable Declaration</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>A nice little feature I stumbled across the other day.</p>

<p>If you hold down [Ctrl] whilst left clicking a variable, you get taken straight to its definition.</p>

<p>Handy!</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-04-21T14:46:14+01:00" pubdate data-updated="true">Apr 21<span>st</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-template-path-hints-in-admin-updated.html">Magento Template Path Hints in Admin - Updated</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>A while ago we posted a technique for displaying template path hints in admin which involved running a couple of DB queries. That worked, but a nicer method is to create a custom module with some special XML config to get it configurable as standard.</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>&lt;?xml version="1.0"?&gt;
</span><span class='line'>&lt;config&gt;
</span><span class='line'>    &lt;sections&gt;
</span><span class='line'>        &lt;dev translate="label" module="core"&gt;
</span><span class='line'>            &lt;groups&gt;
</span><span class='line'>                &lt;debug translate="label"&gt;
</span><span class='line'>                    &lt;fields&gt;
</span><span class='line'>                        &lt;template_hints translate="label"&gt;
</span><span class='line'>                            &lt;frontend_type&gt;select&lt;/frontend_type&gt;
</span><span class='line'>                            &lt;source_model&gt;adminhtml/system_config_source_yesno&lt;/source_model&gt;
</span><span class='line'>                            &lt;sort_order&gt;20&lt;/sort_order&gt;
</span><span class='line'>                            &lt;show_in_default&gt;1&lt;/show_in_default&gt;
</span><span class='line'>                            &lt;show_in_website&gt;1&lt;/show_in_website&gt;
</span><span class='line'>                            &lt;show_in_store&gt;1&lt;/show_in_store&gt;
</span><span class='line'>                        &lt;/template_hints&gt;
</span><span class='line'>                        &lt;template_hints_blocks translate="label"&gt;
</span><span class='line'>                            &lt;label&gt;Add Block Names to Hints&lt;/label&gt;
</span><span class='line'>                            &lt;frontend_type&gt;select&lt;/frontend_type&gt;
</span><span class='line'>                            &lt;source_model&gt;adminhtml/system_config_source_yesno&lt;/source_model&gt;
</span><span class='line'>                            &lt;sort_order&gt;21&lt;/sort_order&gt;
</span><span class='line'>                            &lt;show_in_default&gt;1&lt;/show_in_default&gt;
</span><span class='line'>                            &lt;show_in_website&gt;1&lt;/show_in_website&gt;
</span><span class='line'>                            &lt;show_in_store&gt;1&lt;/show_in_store&gt;
</span><span class='line'>                        &lt;/template_hints_blocks&gt;
</span><span class='line'>                    &lt;/fields&gt;
</span><span class='line'>                &lt;/debug&gt;
</span><span class='line'>            &lt;/groups&gt;
</span><span class='line'>        &lt;/dev&gt;
</span><span class='line'>    &lt;/sections&gt;
</span><span class='line'>&lt;/config&gt;
</span></code></pre></td></tr></table></div></figure>


<p>Original credits and full instructions here:
<a href="http://www.deanoj.co.uk/web-development/magento/magento-template-path-hints-in-adminhtml/"><a href="http://www.deanoj.co.uk/web-development/magento/magento-template-path-hints-in-adminhtml/">http://www.deanoj.co.uk/web-development/magento/magento-template-path-hints-in-adminhtml/</a></a></p>

<p>Cheers Deano :)</p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/page/38/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next"><a href="/page/36/">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/Symonfy2/symonfy2-phpstorm-project-setup.html">Symonfy2 PHPStorm Project Setup</a>
    
    <a class="list-group-item " href="/vim/octopress-syntax-highlighting-for-vim.html">Octopress Syntax Highlighting for Vim</a>
    
    <a class="list-group-item " href="/phpstorm/ruby/ruby-syntax-highlighting-with-phpstorm.html">Ruby Syntax Highlighting With PHPStorm</a>
    
    <a class="list-group-item " href="/fedora/setting-up-a-fedora-19-based-php-development-installation.html">Setting Up a Fedora 19 Based PHP Development Installation</a>
    
    <a class="list-group-item " href="/bash/automatically-convert-old-php-file-to-camelcase.html">Automatically Convert Old PHP File to camelCase</a>
    
  </div>
</section>




<section class="googleplus panel panel-default">
  <div class="panel-body">
    <h3>
      <a href="https://plus.google.com/104488822194646220248?rel=author">
        <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
        Google+
      </a>
    </h3>
  </div>
</section>


<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">About Us</h3>
    </div>
    <div class="panel-body">
        <p>
            <a href="http://www.edmondscommerce.co.uk">Edmonds Commerce</a> are a UK based E-Commerce web development
            agency.
        </p>

        <p>
            We are based in <a href="http://www.yorkshire.com/">Yorkshire</a> near <a
                href="http://www.visitleeds.co.uk/">Leeds</a> and <a href="http://www.visitbradford.com/">Bradford</a>.
        </p>

        <p>
            Our primary specialism is <a href="http://magento.com/">Magento</a> and other PHP based E-Commerce platforms
            such as <a href="http://www.opencart.com/">OpenCart</a>.
        </p>

        <p>
            In terms of technology we are very strong in:
        <ul>
            <li><a href="http://php.net/">PHP</a>,</li>
            <li><a href="http://www.mysql.com/">MySQL</a>,</li>
            <li><a href="http://www.linuxfoundation.org/">Linux</a>,</li>
            <li><a href="http://www.w3.org/standards/techs/html#w3c_all">HTML<a/>,</li>
            <li><a href="http://www.w3.org/Style/CSS/Overview.en.html">CSS</a></li>
            <li><a href="http://en.wikipedia.org/wiki/JavaScript">Javascript</a>.</li>
        </ul>
        </p>
    </div>
</section>

<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Commercial Enquiries</h3>
    </div>
    <div class="panel-body">
        <p>
            If you would like to discuss your project requirements then please get in touch today.
        </p>

        <p>
            <a href="http://www.edmondscommerce.co.uk">www.edmondscommerce.co.uk</a><br/><br/>
            <a href="mailto:info@edmondscommerce.co.uk">info@edmondscommerce.co.uk</a><br/><br/>
            <a href="tel:00441274590036">+44 1274 590036</a>
        </p>
    </div>
</section>

      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2013 - EdmondsCommerce Development Team<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>






  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </body>
</html>
