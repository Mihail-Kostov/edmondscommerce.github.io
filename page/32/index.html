<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Edmonds Commerce Dev Blog</title>
  <meta name="author" content="EdmondsCommerce Development Team">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://edmondscommerce.github.io/page/32">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Edmonds Commerce Dev Blog" type="application/atom+xml">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img height="20" src="https://2.gravatar.com/avatar/04b807394911b26ea8a79dbe25ea4e1a?d=https%3A%2F%2Fidenticons.github.com%2Fccb745f4b144d30c4b883330a1114834.png&amp;r=x&amp;s=140" width="20"> Edmonds Commerce Dev Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
                
                <li ><a href="/categories/index.html">Categories</a></li>
                
                <li ><a href="/contact-us/index.html">Contact</a></li>
                
            </ul>
            <ul class="nav pull-right">
                
                
                <li><a href="http://linkedin.com/in/edmondscommerce" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
                
                
                
                <li><a href="http://plus.google.com/104488822194646220248" title="Google+ Profile"><i class="icon-google-plus-sign social-navbar"></i></a></li>
                
                
                
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:edmondscommerce.github.io">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index">
      
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-11-02T15:22:00+00:00" pubdate data-updated="true">Nov 2<span>nd</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/web%20design/the-end-of-an-era-internet-explorer-drops-below-50-percent-of-web-usage.html">The End of an Era: Internet Explorer Drops Below 50 Percent of Web Usage</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p><a href="http://www.webmonkey.com/2011/11/the-end-of-an-era-internet-explorer-drops-below-50-percent-of-web-usage/">http://www.webmonkey.com/2011/11/the-end-of-an-era-internet-explorer-drops-below-50-percent-of-web-usage/</a> </p>


<p>Anyone who had had to either do an extra 50% of work to get IE working, or had to pay someone else to do so. I&#8217;m sure you are thinking what we think. Yes!</p>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-10-31T21:34:07+00:00" pubdate data-updated="true">Oct 31<span>st</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/php-swift-mailer-not-working-with-google-apps.html">PHP Swift Mailer Not Working With Google Apps</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you are struggling trying to get PHPMailer working with Google Apps then perhaps this is the solution for you.</p>

<p>I went to the PHPMailer site and found my way to a SourceForge download. After a lot of debugging and wrestling with this I just could not get it to work. In the end I looked at other projects that I knew were using PHPMailer for their mail and that were working with Google Apps or Gmail and found that their version was drastically more up to date than the one I downloaded from SourceForge.</p>

<p>In a nutshell &ndash; the version I had was never going to work.</p>

<p>A quick update later and I have PHPMailer working with Google Apps.</p>

<p>For reference the version <a href="https://github.com/KyleAMathews/phpmailer/blob/master/class.phpmailer.php">here</a> seems to be the up to date.</p>

<p>Here is some example code that IS working with Google Apps</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;</span>
</span><span class='line'>    <span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'>    <span class="nv">$to</span> <span class="o">=</span> <span class="s1">&#39;info@edmondscommerce.co.uk&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nv">$message</span> <span class="o">=</span> <span class="s1">&#39;testing swift mailer&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">require</span><span class="p">(</span><span class="s2">&quot;class.phpmailer.php&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="nv">$mail</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PHPMailer</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">IsSMTP</span><span class="p">();</span>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">SMTPAuth</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">SMTPSecure</span> <span class="o">=</span> <span class="s1">&#39;tls&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Host</span> <span class="o">=</span> <span class="s1">&#39;smtp.gmail.com&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Port</span> <span class="o">=</span> <span class="mi">587</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Username</span> <span class="o">=</span> <span class="s1">&#39;your@email.com&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Password</span> <span class="o">=</span> <span class="s1">&#39;yourpasswordwhatever&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">From</span> <span class="o">=</span> <span class="nv">$to</span><span class="p">;</span>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">FromName</span> <span class="o">=</span> <span class="s1">&#39;test&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Subject</span> <span class="o">=</span> <span class="s1">&#39;test&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">WordWrap</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span> <span class="c1">// set word wrap</span>
</span><span class='line'>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Body</span> <span class="o">=</span> <span class="nb">eregi_replace</span><span class="p">(</span><span class="s2">&quot;[\]&quot;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nv">$message</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">IsHTML</span><span class="p">(</span><span class="k">true</span><span class="p">);</span> <span class="c1">// send as HTML</span>
</span><span class='line'><span class="c1">//To</span>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">AddAddress</span><span class="p">(</span><span class="nv">$to</span><span class="p">);</span>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">SMTPDebug</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">CharSet</span> <span class="o">=</span> <span class="s1">&#39;us-ascii&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Encoding</span> <span class="o">=</span> <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Charset</span> <span class="o">!=</span> <span class="s1">&#39;us-ascii&#39;</span> <span class="o">?</span> <span class="s1">&#39;8bit&#39;</span> <span class="o">:</span> <span class="s1">&#39;7bit&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Send</span><span class="p">())</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">echo</span> <span class="s2">&quot;Message could not be sent. &lt;p&gt;&quot;</span><span class="p">;</span>
</span><span class='line'>        <span class="k">echo</span> <span class="s2">&quot;Mailer Error: &quot;</span> <span class="o">.</span> <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">ErrorInfo</span><span class="p">;</span>
</span><span class='line'>        <span class="k">exit</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">echo</span> <span class="s2">&quot;Message has been sent&quot;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-10-31T17:32:23+00:00" pubdate data-updated="true">Oct 31<span>st</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-create-admin-user-script.html">Magento Create Admin User Script</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>Often we will be asked to work on a site and have to test backend features but without asking for admin passwords, so we need a way to create admin users without admin access.  Of course we already have file and database access.</p>

<p>For this, we use phpmyadmin or adminer to give us database access and run the following php script at the commandline :&ndash;</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">function</span> <span class="nf">Readln</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$handle</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="s1">&#39;php://stdin&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="k">return</span> <span class="nb">rtrim</span><span class="p">(</span><span class="nb">fgets</span><span class="p">(</span><span class="nv">$handle</span><span class="p">),</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;Enter username [or hit enter for &quot;someadminuser&quot;]: &#39;</span><span class="p">;</span>
</span><span class='line'><span class="nv">$username</span> <span class="o">=</span> <span class="nx">Readln</span><span class="p">();</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="s2">&quot;&quot;</span> <span class="o">==</span> <span class="nv">$username</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$username</span> <span class="o">=</span> <span class="s1">&#39;someadminuser&#39;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">echo</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;Enter password [or hit enter for the usual one]: &#39;</span><span class="p">;</span>
</span><span class='line'><span class="nv">$password</span> <span class="o">=</span> <span class="nx">Readln</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;Enter table prefix [or hit enter for none]: &#39;</span><span class="p">;</span>
</span><span class='line'><span class="nv">$prefix</span> <span class="o">=</span> <span class="nx">Readln</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'><span class="nv">$salt</span> <span class="o">=</span> <span class="s1">&#39;EC&#39;</span><span class="p">;</span>
</span><span class='line'><span class="k">echo</span> <span class="s2">&quot;Salted is : &quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$password</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">echo</span> <span class="nv">$hash</span> <span class="o">=</span> <span class="nb">md5</span><span class="p">(</span><span class="nv">$salt</span><span class="o">.</span><span class="nv">$password</span><span class="p">)</span><span class="o">.</span><span class="s1">&#39;:&#39;</span><span class="o">.</span><span class="nv">$salt</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">echo</span> <span class="nv">$hash</span> <span class="o">=</span> <span class="s1">&#39;20f808df3d6e913ec43164ad2e7be85e:EC&#39;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">echo</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">echo</span> <span class="s2">&quot;SQL for insert : </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">echo</span> <span class="o">&lt;&lt;&lt;</span> <span class="nx">EOT</span>
</span><span class='line'><span class="nx">insert</span> <span class="nx">into</span> <span class="err">$</span><span class="p">{</span><span class="nx">prefix</span><span class="p">}</span><span class="nx">admin_user</span>
</span><span class='line'><span class="nx">select</span>
</span><span class='line'><span class="p">(</span><span class="nx">select</span> <span class="nx">max</span><span class="p">(</span><span class="nx">user_id</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="nx">from</span> <span class="err">$</span><span class="p">{</span><span class="nx">prefix</span><span class="p">}</span><span class="nx">admin_user</span><span class="p">)</span> <span class="nx">user_id</span><span class="p">,</span>
</span><span class='line'><span class="s1">&#39;Edmonds&#39;</span> <span class="nx">first_name</span><span class="p">,</span>
</span><span class='line'><span class="s1">&#39;Commerce&#39;</span> <span class="nx">last_name</span><span class="p">,</span>
</span><span class='line'><span class="s1">&#39;nojunkplease@mailinator.com&#39;</span> <span class="nx">email</span><span class="p">,</span>
</span><span class='line'><span class="s1">&#39;$username&#39;</span> <span class="nx">username</span><span class="p">,</span>
</span><span class='line'><span class="s1">&#39;$hash&#39;</span> <span class="nx">password</span><span class="p">,</span>
</span><span class='line'><span class="nx">now</span><span class="p">()</span> <span class="nx">created</span><span class="p">,</span>
</span><span class='line'><span class="k">NULL</span> <span class="nx">modified</span><span class="p">,</span>
</span><span class='line'><span class="k">NULL</span> <span class="nx">logdate</span><span class="p">,</span>
</span><span class='line'><span class="mi">0</span> <span class="nx">lognum</span><span class="p">,</span>
</span><span class='line'><span class="mi">0</span> <span class="nx">reload_acl_flag</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span> <span class="nx">is_active</span><span class="p">,</span>
</span><span class='line'><span class="p">(</span><span class="nx">select</span> <span class="nx">max</span><span class="p">(</span><span class="nx">extra</span><span class="p">)</span> <span class="nx">from</span> <span class="err">$</span><span class="p">{</span><span class="nx">prefix</span><span class="p">}</span><span class="nx">admin_user</span> <span class="nx">where</span> <span class="nx">extra</span> <span class="nx">is</span> <span class="k">not</span> <span class="k">null</span><span class="p">)</span> <span class="nx">extra</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nx">insert</span> <span class="nx">into</span> <span class="err">$</span><span class="p">{</span><span class="nx">prefix</span><span class="p">}</span><span class="nx">admin_role</span>
</span><span class='line'><span class="nx">select</span>
</span><span class='line'><span class="p">(</span><span class="nx">select</span> <span class="nx">max</span><span class="p">(</span><span class="nx">role_id</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="nx">from</span> <span class="err">$</span><span class="p">{</span><span class="nx">prefix</span><span class="p">}</span><span class="nx">admin_role</span><span class="p">)</span> <span class="nx">role_id</span><span class="p">,</span>
</span><span class='line'><span class="p">(</span><span class="nx">select</span> <span class="nx">role_id</span> <span class="nx">from</span> <span class="err">$</span><span class="p">{</span><span class="nx">prefix</span><span class="p">}</span><span class="nx">admin_role</span> <span class="nx">where</span> <span class="nx">role_name</span> <span class="o">=</span> <span class="s1">&#39;Administrators&#39;</span><span class="p">)</span> <span class="nx">parent_id</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span> <span class="nx">tree_level</span><span class="p">,</span>
</span><span class='line'><span class="mi">0</span> <span class="nx">sort_order</span><span class="p">,</span>
</span><span class='line'><span class="s1">&#39;U&#39;</span> <span class="nx">role_type</span><span class="p">,</span>
</span><span class='line'><span class="p">(</span><span class="nx">select</span> <span class="nx">user_id</span> <span class="nx">from</span> <span class="err">$</span><span class="p">{</span><span class="nx">prefix</span><span class="p">}</span><span class="nx">admin_user</span> <span class="nx">where</span> <span class="nx">username</span> <span class="o">=</span> <span class="s1">&#39;$username&#39;</span><span class="p">)</span> <span class="nx">user_id</span><span class="p">,</span>
</span><span class='line'><span class="s1">&#39;$username&#39;</span> <span class="nx">role_name</span>
</span><span class='line'><span class="nx">\n</span>
</span><span class='line'><span class="nx">\n</span>
</span><span class='line'><span class="nx">EOT</span><span class="p">;</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>The output looks like this :&ndash;
<code>Enter username [or hit enter for &ldquo;someadminuser&rdquo;]:
Enter password [or hit enter for the usual one]:
Enter table prefix [or hit enter for none]:</p>

<p>Salted is : 20f808df3d6e913ec43164ad2e7be85e:EC</p>

<p>SQL for insert :
insert into admin_user
select
(select max(user_id) + 1 from admin_user) user_id,
&lsquo;Edmonds&rsquo; first_name,
&lsquo;Commerce&rsquo; last_name,
&lsquo;<a href="&#109;&#x61;&#x69;&#x6c;&#116;&#111;&#58;&#110;&#111;&#x6a;&#117;&#110;&#x6b;&#x70;&#108;&#101;&#97;&#x73;&#101;&#x40;&#x6d;&#97;&#x69;&#x6c;&#x69;&#x6e;&#97;&#x74;&#x6f;&#x72;&#x2e;&#99;&#x6f;&#109;">&#x6e;&#x6f;&#106;&#117;&#110;&#107;&#x70;&#108;&#x65;&#x61;&#115;&#x65;&#x40;&#109;&#97;&#x69;&#x6c;&#105;&#110;&#97;&#x74;&#x6f;&#x72;&#x2e;&#99;&#111;&#109;</a>&rsquo; email,
&lsquo;someadminuser&rsquo; username,
&lsquo;20f808df3d6e913ec43164ad2e7be85e:EC&rsquo; password,
now() created,
NULL modified,
NULL logdate,
0 lognum,
0 reload_acl_flag,
1 is_active,
(select max(extra) from admin_user where extra is not null) extra;</p>

<p>insert into admin_role
select
(select max(role_id) + 1 from admin_role) role_id,
(select role_id from admin_role where role_name = &lsquo;Administrators&rsquo;) parent_id,
2 tree_level,
0 sort_order,
&lsquo;U&rsquo; role_type,
(select user_id from admin_user where username = &lsquo;someadminuser&rsquo;) user_id,
&lsquo;someadminuser&rsquo; role_name</code></p>

<p>Which we can then copy and paste into the database admin.  No prizes for guessing the first programming language of the dev who wrote the script.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-10-31T16:38:13+00:00" pubdate data-updated="true">Oct 31<span>st</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/mount-bind-like-symlinks-only-better.html">Mount &#8211;bind - Like Symlinks Only Better!</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you use Linux on a regular basis, you&rsquo;ll probably know just how useful a symlink is.</p>

<p>This makes things extremely annoying when a program refuses to work with them &ndash; treats them as a file or just refuses to work.</p>

<p>Enter: <strong>mount &mdash;bind</strong></p>

<p>mount &mdash;bind is a special type of mount that will mount one directory as a child of another.  Quite often this is used for simplifying partitioning or if a cpanel server runs out of disk space.</p>

<p>The general usage at the commandline is :&ndash;
<code>mount &mdash;bind olddir newdir</code></p>

<p>and in the fstab :&ndash;
<code>olddir    newdir      none    defaults,bind   0   0</code></p>

<p>For instance, setting up a system where /home, /var and /opt share a partition and everything else is on another can be done like this in your fstab :&ndash;
<code></p>

<h1>root fs</h1>

<p>UUID=ebb8043d-6f1e-4a65-8d73-2c05f7ec213a /               xfs     defaults        0       1</p>

<h1>two tibibyte partition</h1>

<p>UUID=6210e43f-83a3-4001-83c7-40e3b1fb9c8e /twotib         xfs     defaults        0       2</p>

<h1>Following binds</h1>

<p>/twotib/home    /home       none    defaults,bind   0   0
/twotib/opt /opt        none    defaults,bind   0   0
/twotib/var /var        none    defaults,bind   0   0
</code></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-10-25T16:19:59+01:00" pubdate data-updated="true">Oct 25<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/ecommerce/starting-an-ecommerce-business-in-a-nutshell.html">Starting an Ecommerce Business, in a Nutshell</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>It may be obvious but after a discussion in the office we decided to put together a simple guideline for getting into e-commerce.</p>

<p>This is a list of things that you need to do in order to start selling from your own web site.</p>

<p><b>Get a Domain Name</b>
These are so cheap yet so fundamentally important it really should be one of the first things you do. Always ensure you can get the .com even if you intend to run from the .co.uk. If budget allows, buy all the top level domains you can afford simply to ensure they are yours &ndash; eg .com, .net, .co.uk, .org.uk, .info etc etc.</p>

<p><b>Find a Supplier</b>
The first thing you need is a supplier that you can buy from cheap enough to markup and earn a reasonable profit. Often this is one of the hardest bits, especially when you are starting out, finding a supplier that will agree to supply you can be tough. Be prepared to pay for stock up front initially and also to take on stock holdings.</p>

<p><b>You May need Retail Shop</b>
Even though you intend to make ecommerce the primary focus of your business, you may find some suppliers simply will not work with you if you do not have a retail shop. You need to double check this. Some times it is enough to have a few counters or a display rack in your warehouse, or some kind of &ldquo;trade counter&rdquo;. Other times you may really need a plate glass high street store front to get supply.</p>

<p><b>Decide on your Fulfillment</b>
You need to decide how you are going to fulfill customer orders. Are you going to do everything yourself? Are you going to use a fulfilment company to take care of this for you. You may find that your supplier(s) offer a drop shipping service where they will fulfill orders directly for you.</p>

<p><b>Decide on Shipping Methods and Charges</b>
Are you going to offer next day courier? Do you need to worry about insurance? Can you get away with Royal Mail? There are lots of things to consider when thinking about this aspect of the business.</p>

<p><b>Merchant Account</b>
If you want to take credit card payments, and any serious ecommerce business should &ndash; I definitely believe it is not enough to simply offer paypal &ndash; then you are going to need a merchant account. You will also need a business account &ndash; these do not have to be from the same bank, though they would have you believe they do. Shop around for the best rates &ndash; this can have a distinct impact on your bottom line, especially if margins are tight.</p>

<p><b>Payment Service Provider</b>
The payment service provider is the system that will actually allow customers to enter card details and will report transactions back to your merchant account. Again its worth shopping around for the best rates. Bear in mind you can only have one PSP per merchant account.</p>

<p><b>Choose your Shopping Cart Platform</b>
You need to choose which platform you want to base the site on. Choices generally include Magento which is without a doubt the most popular and powerful, Open Cart, osCommerce and derivatives are still popular though not really for new sites these days.</p>

<p><b>Get a Design</b>
Your choices for design range from using an off the shelf theme which is the cheapest option through to getting a full custom design created. If you are looking for templates, simply search google for {platform} template or {platform} theme. For example <a href="http://www.google.co.uk/search?gcx=c&sourceid=chrome&client=ubuntu&channel=cs&ie=UTF-8&q=magento+templates">Magento Templates</a>.</p>

<p><b>Implement your design on your Cart</b>
If you have chosen a template then this is usually a case of installing that template and then making whatever customisations you want/need to make in order to brand the site with your logos, colour schemes etc. If you have chosen to go for a custom design then this is a much larger task but the end result is something that is exactly what you want. This is definitely something that Edmonds Commerce can help you with.</p>

<p><b>Load your Product Data</b>
You need to populate your store with product information. In its barest form this should include name, description, SKU, price and images. You may find getting the data is tricky. Alternatively you may be lucky enough to have suppliers that offer a full data feed and images for their products making this very easy. If you need to bridge the gap, getting a custom scraper built to get product data from your suppliers web sites can be a very cost effective solution.</p>

<p><b>Choose a Hosting Company</b>
Whilst your store is in development you will not generally need hosting. All of our client work is carried out on our local environment and staging server. It is only when the site is ready to go live that hosting is required. When choosing a host there is lots to consider. The first and most obvious is the hardware spec of your server. Are you going to go for the cheapest shared hosting, a VPS with reasonable power or a dedicated with large RAM and CPU resources?</p>

<p>The other big question that I think a lot of people do not consider in enough detail is the level of support you need from your hosting company. This has a dramatic impact on the price. It&rsquo;s possible to get a very powerful dedicated for around the £100 per month mark. However don&rsquo;t bother calling the support line at 2am on a Saturday Morning. If you need full phone support, especially 24/7 then expect to pay for this. I would also advise trying to ring the support lines at these kinds of times just to check that it really is there.</p>

<p><b>Launch Your Store</b>
You can launch your store as soon as you have product data and a means of payment set up and the store is accessible by visiting your domain name. There are different schools of thought on when you should launch. One is that you should not launch until your site is 100% finished and ready to impress your visitors with its sheer amazingness. Another school of thought is that you should launch ASAP to allow search engine spiders to get in and also to allow visitors to start trickling in allowing you to ensure your systems are all working properly before you switch on the more powerful marketing that will drive large traffic.</p>

<p><b>Register Self Employed</b>
If you are starting out in business you need to remember to register yourself as self employed with the revenue. Here is some more <a href="http://www.hmrc.gov.uk/selfemployed/register-selfemp.htm">info</a>.</p>

<p><b>Unleash the Marketing</b>
Your store will not succeed unless you have an effective marketing strategy in place. This could involve simply SEO + PPC or might extend through to TV adverts, billboards etc. The main differentiator is scale and budget. SEO is a long term strategy, it is unlikley you will achieve great results from the get go. PPC offers an instant response though the costs can be very high so maintaining profitability can be a concern.</p>

<p><b>Continuous Improvement</b>
Once your ecommerce business is up and running you should commit yourself to a continuous cycle of improvement. It&rsquo;s the only way to ensure you stay ahead of the game and achieve the level of progress you desire.</p>

<p>You need to plan on the fact that you will need to periodically upgrade your shopping cart. Especially if you are using Magento &ndash; it is being updated all the time.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-10-25T11:24:37+01:00" pubdate data-updated="true">Oct 25<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/quickly-get-a-list-of-files-in-php-with-glob.html">Quickly Get a List of Files in PHP With Glob()</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>Perhaps not as well known as it should be, PHP&rsquo;s glob() function is really quite powerful and exceptionally handy.</p>

<p>Need to get a list of files in a directory &ndash; try this:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$tools</span> <span class="o">=</span> <span class="nb">glob</span><span class="p">(</span><span class="s1">&#39;includes/tools/*&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nb">var_dump</span><span class="p">(</span><span class="nv">$tools</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Want to delete all files matching a specific pattern, try this:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nb">array_map</span><span class="p">(</span><span class="s1">&#39;unlink&#39;</span><span class="p">,</span> <span class="nb">glob</span><span class="p">(</span><span class="s1">&#39;export_feeds/my_feed_*&#39;</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure>


<p>Theres lots more tricks you can do.</p>

<p>One word of warning though &ndash; with great power comes great responsibility!</p>

<p>I would advise against using any kind of user input with this function.</p>

<p><a href="http://php.net/manual/en/function.glob.php">Read more</a></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-10-14T10:27:39+01:00" pubdate data-updated="true">Oct 14<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/netbeans-xdebug-not-highlighting-lines-or-opening-files-when-step-through-debugging-solution.html">Netbeans + Xdebug Not Highlighting Lines or Opening Files When Step Through Debugging + Solution</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you use Netbeans along with Xdebug to facilitate step through debugging when coding PHP then you may come across this issue.</p>

<p>It&rsquo;s possible to get it into a semi working scenario where you can have working breakpoints and see variable values but you have no idea which bit of code you are actually stepped up to.</p>

<p>This can happen if your server path and project path are not correctly configured.</p>

<p>To resolve this simply go to your project properties, run configuration and then hit the advanced button.</p>

<p>The server path should be the absolute path to the project root on the server (eg /home/server/sites/blah/) and the project path should be the path on your local machine to the project files (eg /home/joseph/projects/blah/).</p>

<p>Stop any debugging sessions and then start another one up and if you have the paths set right, you should get the behaviour you expect where Netbeans highlights the current line of code and allows you to step through the code to figure out what&rsquo;s going on.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-10-13T18:06:26+01:00" pubdate data-updated="true">Oct 13<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/freely-available-windows-virtual-machines-for-testing-ie.html">Freely Available Windows Virtual Machines for Testing IE</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you need to test your code against the (ahem) interesting interpretations of the various iterations of Internet Explorer then this is a great resource for you.</p>

<p>Turns out Microsoft have thrown web devs a bone by offering free virtual machine images with the various IE/OS flavours for you to test on. You can download them <a href="http://www.microsoft.com/download/en/details.aspx?id=11575">here</a>.</p>

<p>If you use VirtualBox and also a *nix based operating system such as Linux or OSX then you can use <a href="https://github.com/xdissent/ievms">this, frankly awesome, bash script</a> to automatically download one or all of these machines and fully set them up in VirtualBox for you.</p>

<p>VirtualBox, if you are not aware, is a freely available Virtualisation platform allowing you to run other operating systems on your desktop. On todays powerful machines its perfectly easy to run Linux as your core operating system and then for either running windows only apps or for testing dodgy browsers, you can fire up one of these VMs.</p>

<p>Bear in mind that they are not for keeps, you will need to reset them every 30 days due to the fact that they can not be activated. For our purposes though this is not really a problem.</p>

<h2>Usage</h2>


<p>Please note all of this has been copied and pasted from <a href="http://www.webupd8.org/2011/09/test-websites-in-internet-explorer-9-8.html">here</a>. Posted here for reference only, all original attribution and credit goes to webupd8.</p>

<ol>
<li>Before proceeding, make sure you have the latest VirtualBox installed &ndash; you can find Ubuntu installation instructions HERE. You&rsquo;ll also need &ldquo;curl&rdquo; (for both Linux and OSX) and &ldquo;unrar&rdquo; (Linux only). In Ubuntu, install them using the command below:</li>
</ol>


<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>sudo apt-get install curl unrar
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>To download and run the CODE, use the following command in a terminal:</li>
</ol>


<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>curl -s https://raw.github.com/xdissent/ievms/master/ievms.sh | bash
</span></code></pre></td></tr></table></div></figure>


<p>If you want to check out the bash source before running it, you can find it @ GitHub.</p>

<p>The above command will download Windows WHDs for IE7, IE8 and IE9. If you only need one Internet Explorer version, you can run:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>curl -s https://raw.github.com/xdissent/ievms/master/ievms.sh | IEVMS_VERSIONS="9" bash
</span></code></pre></td></tr></table></div></figure>


<p>Where &ldquo;9&rdquo; is the IE version you want (you can also add two versions here, like &ldquo;7 9&rdquo;).</p>

<p>At this point, the download should start and it will take a while so be patient.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-10-13T14:00:26+01:00" pubdate data-updated="true">Oct 13<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/mysql/very-high-speed-batch-update-multiple-rows-of-a-table-in-single-query.html">Very High Speed Batch Update Multiple Rows of a Table in Single Query</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you need to update a large number of rows on a single table then your first reaction may be to write a loop that updates one row at a time.</p>

<p>Of course if the table is large then this can result in a very large number of SQL queries.</p>

<p>Taking a bit of inspiration from <a href="http://www.kavoir.com/2009/05/mysql-update-multiple-rows-with-one-single-query.html">this post</a> I have put together this simple PHP function that will allow you to update as many rows as you want.</p>

<p>The trade off is basically memory usage as you build up a big array of row update information preparing for the batch. For this reason you may want to tune the number of rows you update per query.</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">function</span> <span class="nf">bulkUpdateSingleColumn</span><span class="p">(</span><span class="nv">$table</span><span class="p">,</span> <span class="nv">$id_column</span><span class="p">,</span> <span class="nv">$update_column</span><span class="p">,</span> <span class="k">array</span> <span class="o">&amp;</span><span class="nv">$idstovals</span><span class="p">){</span>
</span><span class='line'>        <span class="nv">$sql</span> <span class="o">=</span> <span class="s2">&quot;update </span><span class="si">$table</span><span class="s2"> set </span><span class="si">$update_column</span><span class="s2"> = CASE </span><span class="si">$id_column</span><span class="s2"> &quot;</span><span class="p">;</span>
</span><span class='line'>        <span class="k">foreach</span><span class="p">(</span><span class="nv">$idstovals</span> <span class="k">as</span> <span class="nv">$id</span><span class="o">=&gt;</span><span class="nv">$val</span><span class="p">){</span>
</span><span class='line'>            <span class="nv">$sql</span> <span class="o">.=</span> <span class="s2">&quot; WHEN &#39;</span><span class="si">$id</span><span class="s2">&#39; THEN &#39;</span><span class="si">$val</span><span class="s2">&#39; </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="nv">$sql</span> <span class="o">.=</span> <span class="s2">&quot; END </span>
</span><span class='line'><span class="s2">        WHERE </span><span class="si">$id_column</span><span class="s2"> in (&quot;</span> <span class="o">.</span> <span class="nb">implode</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="nb">array_keys</span><span class="p">(</span><span class="nv">$idstovals</span><span class="p">))</span> <span class="o">.</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
</span><span class='line'><span class="c1">//debugging info</span>
</span><span class='line'>        <span class="k">echo</span> <span class="s1">&#39;&lt;small&gt;&#39;</span><span class="o">.</span><span class="nv">$sql</span><span class="o">.</span><span class="s1">&#39;&lt;/small&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="nv">$idstovals</span><span class="o">=</span><span class="k">array</span><span class="p">();</span>
</span><span class='line'>        <span class="nx">db_query</span><span class="p">(</span><span class="nv">$sql</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">done</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-10-12T11:02:59+01:00" pubdate data-updated="true">Oct 12<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/generic-xml-to-csv-converter.html">Generic XML to CSV Converter</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>Some times you might have a legacy system that is built around csv or similar and you need to import an XML data source into this system.</p>

<p>Of course one possibility is to build full XML handling capabilities into the system. Perhaps a more sane solution is to simply convert the XML to CSV so that the legacy system does not have to be touched.</p>

<p>This little snippet will generally take an XML file and create a CSV file that should be useable. Of course its impossible to guarantee this for every XML file as its such a widely varied format, however in general this should work.</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$xml</span> <span class="o">=</span> <span class="nb">simplexml_load_file</span><span class="p">(</span><span class="s1">&#39;feed.xml&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nv">$outstream</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="s1">&#39;feed.csv&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nv">$header</span><span class="o">=</span><span class="k">false</span><span class="p">;</span>
</span><span class='line'><span class="k">foreach</span><span class="p">(</span><span class="nv">$xml</span> <span class="k">as</span> <span class="nv">$k</span><span class="o">=&gt;</span><span class="nv">$details</span><span class="p">){</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nv">$header</span><span class="p">){</span>
</span><span class='line'>        <span class="nb">fputcsv</span><span class="p">(</span><span class="nv">$outstream</span><span class="p">,</span><span class="nb">array_keys</span><span class="p">(</span><span class="nb">get_object_vars</span><span class="p">(</span><span class="nv">$details</span><span class="p">)));</span>
</span><span class='line'>        <span class="nv">$header</span><span class="o">=</span><span class="k">true</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="nb">fputcsv</span><span class="p">(</span><span class="nv">$outstream</span><span class="p">,</span><span class="nb">get_object_vars</span><span class="p">(</span><span class="nv">$details</span><span class="p">));</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nb">fclose</span><span class="p">(</span><span class="nv">$outstream</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/page/33/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next"><a href="/page/31/">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/phpstorm/ruby/ruby-syntax-highlighting-with-phpstorm.html">Ruby Syntax Highlighting With PHPStorm</a>
    
    <a class="list-group-item " href="/fedora/setting-up-a-fedora-19-based-php-development-installation.html">Setting Up a Fedora 19 Based PHP Development Installation</a>
    
    <a class="list-group-item " href="/bash/automatically-convert-old-php-file-to-camelcase.html">Automatically Convert Old PHP File to camelCase</a>
    
    <a class="list-group-item " href="/linux/vim-locking-up-always-when-you-are-ready-to-save-solution.html">Vim Locking Up, Always When You Are Ready to Save? Solution</a>
    
    <a class="list-group-item " href="/magento/magento-1-8-released.html">Magento 1.8 Released</a>
    
  </div>
</section>




<section class="googleplus panel panel-default">
  <div class="panel-body">
    <h3>
      <a href="https://plus.google.com/104488822194646220248?rel=author">
        <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
        Google+
      </a>
    </h3>
  </div>
</section>


<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">About Us</h3>
    </div>
    <div class="panel-body">
        <p>
            <a href="http://www.edmondscommerce.co.uk">Edmonds Commerce</a> are a UK based E-Commerce web development
            agency.
        </p>

        <p>
            We are based in <a href="http://www.yorkshire.com/">Yorkshire</a> near <a
                href="http://www.visitleeds.co.uk/">Leeds</a> and <a href="http://www.visitbradford.com/">Bradford</a>.
        </p>

        <p>
            Our primary specialism is <a href="http://magento.com/">Magento</a> and other PHP based E-Commerce platforms
            such as <a href="http://www.opencart.com/">OpenCart</a>.
        </p>

        <p>
            In terms of technology we are very strong in:
        <ul>
            <li><a href="http://php.net/">PHP</a>,</li>
            <li><a href="http://www.mysql.com/">MySQL</a>,</li>
            <li><a href="http://www.linuxfoundation.org/">Linux</a>,</li>
            <li><a href="http://www.w3.org/standards/techs/html#w3c_all">HTML<a/>,</li>
            <li><a href="http://www.w3.org/Style/CSS/Overview.en.html">CSS</a></li>
            <li><a href="http://en.wikipedia.org/wiki/JavaScript">Javascript</a>.</li>
        </ul>
        </p>
    </div>
</section>

<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Commercial Enquiries</h3>
    </div>
    <div class="panel-body">
        <p>
            If you would like to discuss your project requirements then please get in touch today.
        </p>

        <p>
            <a href="http://www.edmondscommerce.co.uk">www.edmondscommerce.co.uk</a><br/><br/>
            <a href="mailto:info@edmondscommerce.co.uk">info@edmondscommerce.co.uk</a><br/><br/>
            <a href="tel:00441274590036">+44 1274 590036</a>
        </p>
    </div>
</section>

      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2013 - EdmondsCommerce Development Team<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>






  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </body>
</html>
