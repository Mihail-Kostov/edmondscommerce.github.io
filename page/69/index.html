<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Edmonds Commerce Dev Blog</title>
  <meta name="author" content="EdmondsCommerce Development Team">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://edmondscommerce.github.io/page/69">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Edmonds Commerce Dev Blog" type="application/atom+xml">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27853727-2', 'edmondscommerce.github.io');
  ga('send', 'pageview');

</script>

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img height="20" src="https://2.gravatar.com/avatar/04b807394911b26ea8a79dbe25ea4e1a?d=https%3A%2F%2Fidenticons.github.com%2Fccb745f4b144d30c4b883330a1114834.png&amp;r=x&amp;s=140" width="20"> Dev Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
                
                <li ><a href="/categories/index.html">Categories</a></li>
                
                <li ><a href="/contact-us/index.html">Contact</a></li>
                
            </ul>
            <ul class="nav pull-right">
                
                
                <li><a href="http://linkedin.com/in/edmondscommerce" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
                
                
                
                <li><a href="http://plus.google.com/104488822194646220248" title="Google+ Profile"><i class="icon-google-plus-sign social-navbar"></i></a></li>
                
                
                
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:edmondscommerce.github.io">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index">
      
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-05-15T15:56:58+01:00" pubdate data-updated="true">May 15<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/new-magento-based-site-launched-with-advanced-catalogue-handling.html">New Magento Based Site Launched With Advanced Catalogue Handling.</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>This week has seen the full launch of <a href="http://247electrical.co.uk">247Electrical.co.uk</a>. The site is based on Magento and the specific requirements where that it needs to be able to handle a large scale catalogue with frequent updates whilst still enjoying all the fancy features such as layered navigation and custom attributes.</p>

<p>As Magento&rsquo;s own bulk catalogue handling tools are a little bit underpowered and overbloated, the solution was to create a standalone system for handling csv file uploads and then pushing this data across to the Magento database directly without that much interaction with the Magento codebase. We have managed to achieve product insert times (including building category structure and handling custom attributes) of around 0.1 second per product.</p>

<p>The result is a large fully featured catalogue that can be torn down and rebuilt in a matter of minutes. Stock and Price information can be updated even faster, with a full catalogue stock and price level update taking only a matter of seconds.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-05-11T15:00:46+01:00" pubdate data-updated="true">May 11<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-bulk-cache-index-update-script.html">Magento Bulk Cache / Index Update Script</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you are doing any kind of bulk updating etc then you also need to make sure that you rebuild all of the caches and indexes after your bulk updates otherwise things can go wrong.</p>

<p>I have just managed to get the following script to work including when flat catalog is enabled (thanks to <a href="http://www.nicksays.co.uk/2009/02/testing-magento-modules/" target="_blank">Nick of Meanbee</a> for the Mage::app() tip).</p>

<p>This script can be called from the browser (I would highly recommend some form of IP restriction or other security) or called from a cron job.</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="nv">$magePath</span> <span class="o">=</span> <span class="s1">&#39;/path/to/Mage.php&#39;</span><span class="p">;</span>
</span><span class='line'><span class="k">require_once</span> <span class="nv">$magePath</span><span class="p">;</span>
</span><span class='line'><span class="c1">//Varien_Profiler::enable();</span>
</span><span class='line'><span class="c1">//Mage::setIsDeveloperMode(true);</span>
</span><span class='line'><span class="c1">//ini_set(&#39;display_errors&#39;, 1);</span>
</span><span class='line'><span class="nb">umask</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="nx">Mage</span><span class="o">::</span><span class="na">app</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setCurrentStore</span><span class="p">(</span><span class="nx">Mage_Core_Model_App</span><span class="o">::</span><span class="na">ADMIN_STORE_ID</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;&lt;h3&gt;Cleaning overall Cache&lt;/h3&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">flush</span><span class="p">();</span>
</span><span class='line'><span class="c1">// clean overall cache</span>
</span><span class='line'><span class="nx">Mage</span><span class="o">::</span><span class="na">app</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">cleanCache</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;done&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">flush</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;&lt;h3&gt;Cleaning Catalog Rewrites&lt;/h3&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">flush</span><span class="p">();</span>
</span><span class='line'><span class="c1">// clear &#39;refresh_catalog_rewrites&#39;:</span>
</span><span class='line'><span class="c1">//Mage::getSingleton(&#39;catalog/url&#39;)-&gt;refreshRewrites();</span>
</span><span class='line'><span class="nx">Mage</span><span class="o">::</span><span class="na">getModel</span><span class="p">(</span><span class="s1">&#39;catalog/url&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">refreshRewrites</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;Catalog Rewrites was refreshed succesfuly&lt;br&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">flush</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;&lt;h3&gt;Cleaning Image Cache&lt;/h3&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">flush</span><span class="p">();</span>
</span><span class='line'><span class="c1">//  clear &#39;clear_images_cache&#39;:</span>
</span><span class='line'><span class="nx">Mage</span><span class="o">::</span><span class="na">getModel</span><span class="p">(</span><span class="s1">&#39;catalog/product_image&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">clearCache</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;Image cache was cleared succesfuly&lt;br&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">flush</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;&lt;h3&gt;Cleaning Layered Navigation&lt;/h3&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">flush</span><span class="p">();</span>
</span><span class='line'><span class="c1">//  clear &#39;refresh_layered_navigation&#39;:</span>
</span><span class='line'><span class="nx">Mage</span><span class="o">::</span><span class="na">getSingleton</span><span class="p">(</span><span class="s1">&#39;catalogindex/indexer&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">plainReindex</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;Layered Navigation Indices was refreshed succesfuly&lt;br&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">flush</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;&lt;h3&gt;Clearing out Search Index&lt;/h3&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">flush</span><span class="p">();</span>
</span><span class='line'><span class="nx">Mage</span><span class="o">::</span><span class="na">getModel</span><span class="p">(</span><span class="s1">&#39;catalogsearch/fulltext&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">rebuildIndex</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;Search index was rebuilt succesfully&lt;br&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">flush</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;&lt;h3&gt;Rebuilding Flat Category&lt;/h3&gt;&#39;</span><span class="p">;</span>
</span><span class='line'><span class="nx">Mage</span><span class="o">::</span><span class="na">getResourceSingleton</span><span class="p">(</span><span class="s1">&#39;catalog/category_flat&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">rebuild</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;flat category was rebuilt successfully&lt;br&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">flush</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;&lt;h3&gt;Rebuilding Flat Products&lt;/h3&gt;&#39;</span><span class="p">;</span>
</span><span class='line'><span class="nx">Mage</span><span class="o">::</span><span class="na">getResourceSingleton</span><span class="p">(</span><span class="s1">&#39;catalog/product_flat_indexer&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">rebuild</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;flat product was rebuilt successfully&lt;br&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">flush</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-05-08T19:39:27+01:00" pubdate data-updated="true">May 8<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/oscommerce/creloaded-uk.html">CRE Loaded UK</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>I&rsquo;ve been spending a hell of a lot of time coding <b>Magento</b> recently, and for any full time serious ecommerce business I would recommend a Magento solution. However I have spent much more of my time coding <b>osCommerce</b> and usually <b>CRE Loaded</b> osCommerce based ecommerce sites.</p>

<p>CRELoaded is still a great package (once you get rid of the annoying nags and ads) and is really taking the osCommerce platform and polishing it up to a nice usable fully featured system. If you are looking for a UK based developer who specialises in ecommerce, osCommerce and CRELoaded development then definitely get in touch. Don&rsquo;t be surprised though if I mention that Magento is definitely worth a close look!</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-30T14:50:24+01:00" pubdate data-updated="true">Apr 30<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/zend%20framework/zend-framework-more-detailed-stack-trace.html">Zend Framework More Detailed Stack Trace</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>If like me you kicked off your Zend Framework experience with the Quick Start and have kept the error controller system of the Quick Start for your other ZF projects, you might find this little snippet useful.</p>

<p>The Quick Start uses the Exception::getTraceAsString() method to give you the stack trace. Unfortunately this function seems to snip off a bit of useful info.. almost tantalising you with the info but not quite giving you enough to actually know what is going wrong!</p>

<p>To get a more detailed stack trace, I recommend changing this and using the Exception::getTrace() function which returns and array of the trace. You can then echo out all of this info in full.</p>

<p>For me (as I have xdebug for my dev environment, which is the only place you should be dumping stack traces anyway) I use the following chunk of code in my views/scripts/error/error.phtml</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span> <span class="c1">// application/views/scripts/error/error.phtml ?&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">An</span> <span class="nx">error</span> <span class="nx">occurred</span><span class="o">&lt;/</span><span class="nx">h1</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;&lt;?=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">message</span> <span class="cp">?&gt;</span><span class="x">&lt;/h2&gt; </span>
</span><span class='line'>
</span><span class='line'><span class="cp">&lt;?</span> <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;production&#39;</span> <span class="o">!=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">env</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">    &lt;h3&gt;Exception information:&lt;/h3&gt; </span>
</span><span class='line'><span class="x">    &lt;p&gt; </span>
</span><span class='line'><span class="x">        &lt;b&gt;Message:&lt;/b&gt; </span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">exception</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="x"> </span>
</span><span class='line'><span class="x">    &lt;/p&gt; </span>
</span><span class='line'><span class="x">    &lt;h3&gt;Request Parameters:&lt;/h3&gt; </span>
</span><span class='line'><span class="x">    &lt;pre&gt;</span><span class="cp">&lt;?</span> <span class="nb">var_dump</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">getParams</span><span class="p">())</span> <span class="cp">?&gt;</span><span class="x">&lt;/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="x">    &lt;h3&gt;Stack Trace 2:&lt;/h3&gt;</span>
</span><span class='line'><span class="x">    </span><span class="cp">&lt;?php</span>
</span><span class='line'>    <span class="k">foreach</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">exception</span><span class="o">-&gt;</span><span class="na">getTrace</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$t</span><span class="p">){</span>
</span><span class='line'>        <span class="nb">var_dump</span><span class="p">(</span><span class="nv">$t</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="cp">?&gt;</span><span class="x"></span>
</span><span class='line'><span class="cp">&lt;?</span> <span class="k">endif</span> <span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-29T07:34:30+01:00" pubdate data-updated="true">Apr 29<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/internet%20news/nice-hi-res-desktops.html">Nice Hi Res Desktops</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>This is my favourite source for hi resolution desktop images. Some really nice pictures and all available in resolutions to suit whichever display you have.</p>

<p><a href="http://interfacelift.com/wallpaper_beta/downloads/date/any/?promo=disabled"><a href="http://interfacelift.com">http://interfacelift.com</a></a></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-28T13:56:31+01:00" pubdate data-updated="true">Apr 28<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/zend%20framework/flushing-zend-framework.html">Flushing Zend Framework</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>I have recently been messing around trying to figure out the best way of running long processes within a Zend Framework App.</p>

<p>Usually I would code in regular flush(); commands to make sure that the browser didnt time out and also that the user can see that something is happening.</p>

<p>However, the standard MVC structure of the default ZF application system wraps the entire response in an output buffer which is only flushed once everything is done. This has lots of advantages including allowing to add extra headers (FirePHP) on the fly throughout the application process.</p>

<p>For long running scripts though, it is important for me to flush output. My solution to this is twofold.</p>

<p>Firstly set up an &lsquo;output&rsquo; action in my base controller. The output action is looking for an &lsquo;act&rsquo; parameter in its view script. This act param is then used to generate a url string based on the current controller and the action as the act param. This url string is then used to create an iframe which will be used to output the flushing results of the long running script.</p>

<p>For the long running script action itself, I am going to disable layout and also disable view render. Its really important to switch both of these off.</p>

<p>The following needs to be declared at the top of any action that you intend to be viewed via the output iframe.</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'>    <span class="c1">// accessed via output action</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">longrunningAction</span><span class="p">(){</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_helper</span><span class="o">-&gt;</span><span class="na">layout</span><span class="o">-&gt;</span><span class="na">disableLayout</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_helper</span><span class="o">-&gt;</span><span class="na">viewRenderer</span><span class="o">-&gt;</span><span class="na">setNoRender</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_model</span><span class="o">-&gt;</span><span class="na">grabImages</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now I am free to echo out basic HTML and also call flush from within my model. To flush the output you need to call both ob_flush() and then flush(). To make this easier I set up a static method in my static Tools class</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'>    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">flush</span><span class="p">(){</span>
</span><span class='line'>        <span class="nb">ob_flush</span><span class="p">();</span>
</span><span class='line'>        <span class="nb">flush</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>One issue I have had though is that any time the ZF internals try to add a header, you will get a basically meaningless exception telling you that headers have already been sent. It doesn&rsquo;t tell you what header was attempted to be added or why, so you can be left out in the cold a bit when trying to debug.</p>

<p>If anyone knows a good workaround for this, or can offer a better solution for handling these long running processes I would love to hear about it.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-28T11:07:26+01:00" pubdate data-updated="true">Apr 28<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/hosting/htaccess-force-ssl-with-redirect-non-standard-ssl-port-compatible.html">Htaccess Force SSL With Redirect (Non Standard SSL Port Compatible)</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>Check out this little snippet of htaccess code to force SSL usage. Works regardless of port.</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>RewriteEngine On
</span><span class='line'>RewriteCond %{HTTPS} off
</span><span class='line'>RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}
</span></code></pre></td></tr></table></div></figure>


<p></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-27T15:54:22+01:00" pubdate data-updated="true">Apr 27<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/hosting/plesk-phpmyadmin-copy-database-bug-workaround.html">Plesk phpMyAdmin Copy Database Bug + Workaround</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>If you are administering a plesk server running version 8.x then you are likely dealing with phpMyAdmin version 2.8.x.x which has a bug that prevents you from performing database copy operations due to one missing space in the generated SQL.</p>

<p>One possible solution here is to simply install phpMyAdmin in its own right and of course use the latest version which has resolved this bug.</p>

<p>If however you would rather not bother with that, you can do this quite easily from the command line using the following commands.</p>

<p>First the SQL query:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>CREATE DATABASE db2;
</span></code></pre></td></tr></table></div></figure>


<p>Then, from the command-line, do the following:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>$ mysqldump -u root --password=pass db1 | mysql -u root --password=pass db2
</span></code></pre></td></tr></table></div></figure>


<p>I suppose you could start hacking on the bundled phpMyAdmin source code to fix the bug without upgrading the whole version&hellip; Ever looked at the phpMyAdmin source code?</p>

<p>:&ndash;)</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-25T08:23:28+01:00" pubdate data-updated="true">Apr 25<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/creative-zen-x-fi-and-ubuntu-linux-solution.html">Creative Zen X-Fi and Ubuntu Linux - Solution</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<blockquote>
<h2>Update</h2>
Just use Banshee, it seems to work fine and its actually pretty slick :)

BTW - to format your X-FI, just start it up whilst holding down the play/pause button to get into &#8220;recovery mode&#8221; the rest is easy
</blockquote>




<h2>Original Blog</h2>


<p>I have now decided to totally abandon my windows installation and use Linux for everything. I was pretty much using Linux for everything already but there were a few apps that I still used windows for or simply hadn&rsquo;t got around to trying out on Linux.</p>

<p>I have a projector hooked up for watching movies. I used to use windows XP for this but the windows driver for my Nvidia GT 9400 started to get really picky about giving me dual view, requiring reboots to get it to work properly. With the release of Jaunty and SOAS boot times, my windows XP partition was starting to look like a really unattractive solution. Its probably infected with conficker and god knows what else anyway.</p>

<p>Thankfully the Nvidia driver and admin software for Linux is actually really good. It needs to be launched as Sudo to work properly &ndash; simply edit the launcher and prepend gksudo before the command to give you a GUI sudo box. That&rsquo;s the projector and dual view taken care of (note you need to enable Xineview or whatever its called to get a proper desktop stretching across both monitors.)</p>

<p>Now the last little thing is my Creative ZEN X-Fi 16GB mp3 player. I love that little box of tricks and don&rsquo;t often feel the need to update the music on there as its got such a generous storage capacity. However I came to do it, plugged it in and it wasn&rsquo;t picked up as a removable drive as I thought it might be. A quick search later and I discover a programme called <strong>gnomad2</strong>.</p>

<blockquote>&#8220;Gnomad 2 is a GUI built on top of GTK/GNOME 2, id3lib and libnjb that
makes it possible to transfer tracks and files from/to a Creative
Nomad Jukebox (all brands). It is designed much like an ordinary
graphical FTP program.</blockquote>


<p>You can find it in syntaptic package manager. Install this and also edit the command to gksudo and you should then be able to move your music around freely. Oh yeah it runs a damn site faster than the creative windows software &ndash; sweet :&ndash;)</p>

<p>Windows already feels like a distant memory&hellip;</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-23T20:14:39+01:00" pubdate data-updated="true">Apr 23<span>rd</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/ubuntu/jaunty-released.html">Jaunty Released</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>I&rsquo;ve been using the beta of Ubuntu Jaunty for about a month now and its been great. I&rsquo;m now upgrading my standard Ubuntu installs with this latest edition which went live today.</p>

<p>Many thanks to all the team at Canonical for continuing to produce an excellent open source desktop environment.</p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/page/70/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next"><a href="/page/68/">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/Behat/multiple-behat-and-mink-profiles-for-testing-multiple-browsers.html">Multiple Behat and Mink Profiles for Testing Multiple Browsers</a>
    
    <a class="list-group-item " href="/PageSpeed/pagespeed-and-issue-with-images-on-safari.html">PageSpeed and Issue With Images on Safari</a>
    
    <a class="list-group-item " href="/nginx/varnish/varnish-and-nginx-redirecting-to-port-8080.html">Varnish and Nginx Redirecting to Port 8080</a>
    
    <a class="list-group-item " href="/bash/combined-csv.html">Combined CSV</a>
    
    <a class="list-group-item " href="/bash/bash-script-to-kill-sleeping-mysql-processes.html">Bash Script to Kill Sleeping MySQL Processes</a>
    
  </div>
</section>




<section class="googleplus panel panel-default">
  <div class="panel-body">
    <h3>
      <a href="https://plus.google.com/104488822194646220248?rel=author">
        <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
        Google+
      </a>
    </h3>
  </div>
</section>


<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">About Us</h3>
    </div>
    <div class="panel-body">
        <p>
            <a href="http://www.edmondscommerce.co.uk">Edmonds Commerce</a> are a UK based E-Commerce web development
            agency.
        </p>

        <p>
            We are based in <a href="http://www.yorkshire.com/">Yorkshire</a> near <a
                href="http://www.visitleeds.co.uk/">Leeds</a> and <a href="http://www.visitbradford.com/">Bradford</a>.
        </p>

        <p>
            Our primary specialism is <a href="http://magento.com/">Magento</a> and other PHP based E-Commerce platforms
            such as <a href="http://www.opencart.com/">OpenCart</a>.
        </p>

        <p>
            In terms of technology we are very strong in:
        <ul>
            <li><a href="http://php.net/">PHP</a>,</li>
            <li><a href="http://www.mysql.com/">MySQL</a>,</li>
            <li><a href="http://www.linuxfoundation.org/">Linux</a>,</li>
            <li><a href="http://www.w3.org/standards/techs/html#w3c_all">HTML<a/>,</li>
            <li><a href="http://www.w3.org/Style/CSS/Overview.en.html">CSS</a></li>
            <li><a href="http://en.wikipedia.org/wiki/JavaScript">Javascript</a>.</li>
        </ul>
        </p>
    </div>
</section>

<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Commercial Enquiries</h3>
    </div>
    <div class="panel-body">
        <p>
            If you would like to discuss your project requirements then please get in touch today.
        </p>

        <p>
            <a href="http://www.edmondscommerce.co.uk">www.edmondscommerce.co.uk</a><br/><br/>
            <a href="mailto:info@edmondscommerce.co.uk">info@edmondscommerce.co.uk</a><br/><br/>
            <a href="tel:00441274590036">+44 1274 590036</a>
        </p>
    </div>
</section>

      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2015 - EdmondsCommerce Development Team<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>






  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </body>
</html>
