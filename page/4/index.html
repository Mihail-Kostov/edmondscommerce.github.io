<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Edmonds Commerce Dev Blog</title>
  <meta name="author" content="EdmondsCommerce Development Team">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://edmondscommerce.github.io/page/4">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Edmonds Commerce Dev Blog" type="application/atom+xml">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27853727-2', 'edmondscommerce.github.io');
  ga('send', 'pageview');

</script>

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img height="20" src="https://2.gravatar.com/avatar/04b807394911b26ea8a79dbe25ea4e1a?d=https%3A%2F%2Fidenticons.github.com%2Fccb745f4b144d30c4b883330a1114834.png&amp;r=x&amp;s=140" width="20"> Dev Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
                
                <li ><a href="/categories/index.html">Categories</a></li>
                
                <li ><a href="/contact-us/index.html">Contact</a></li>
                
            </ul>
            <ul class="nav pull-right">
                
                
                <li><a href="http://linkedin.com/in/edmondscommerce" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
                
                
                
                <li><a href="http://plus.google.com/104488822194646220248" title="Google+ Profile"><i class="icon-google-plus-sign social-navbar"></i></a></li>
                
                
                
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:edmondscommerce.github.io">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index">
      
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-05-30T11:52:30+01:00" pubdate data-updated="true">May 30<span>th</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/ecommerce/13-best-practices-to-highly-effective-newsletter.html">13 Practices for Highly Effective Email Marketing</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>Each email email must have specific and measurable goals defined. For example &ndash; to read an article, sell a product or sign up for an event. It&rsquo;s a Call to Action, a short but precise message which tells the recipient exactly what to do &ndash; no more, no less. The Call to Action is one of the most important email email elements; therefore it must be noticeable and inviting. This article will cover best practices on how to create a highly effective email.</p>

<p>If you are not sure on how to create a highly effective email that converts customers in to a successful sales leads, then here are the basic questions you need to ask yourself:</p>

<ul>
    <li>What I want my recipients to do?</li>

    <li>How will they know how to do it?</li>

    <li>How will they benefit from doing what I want?</li>
</ul>


<p>It sounds dead easy, but it&rsquo;s not that simple, because you don&rsquo;t want to scare away your customers with an overly insisting tone. On the other hand, if you don&rsquo;t give your recipient clear guidance on what to do it is most likely they will not do it.</p>

<p>Here are the core principles on how to create a highly effective email:</p>

<h3>1. The value of the email</h3>


<p>Your Call To Action must clearly communicate the benefits that the customer will receive. Benefits must be clearly visible, order them by priority.</p>

<h3>2. Use simple and convincing language</h3>


<p>Remember that your recipients are wise and most likely &ndash; very busy people. Therefore make the message as clear and simple as possible. Don&rsquo;t make their lives more complicated by using complex language and long paragraphs. Ease their decision and make the choice simple.</p>

<h3>3. Make the email urgent and limited</h3>


<p>When the message is urgent and somehow limited (for first 50 respondents or while product is in stock, etc), people are more motivated to act. Use words like Now, Today, Only, Limited, etc. Say why they must act now, explain the benefits.</p>

<h3>4. Catchy headlines</h3>


<p>Web users read by scanning the headlines, therefore they must be short, but catchy. The main point regarding the headline is not to sell the product (if you sell one), but to engage recipient to read the content of the email.</p>

<h3>5. Use numbers and make them meaningful</h3>


<p>Numbers deliver a clear message, they create an impression. However, numbers alone are meaningless, use them in context. For example, 4Gb of music storage is meaningless, say how many songs it can carry. Feel free to break it down even further.</p>

<h3>6. Ask questions</h3>


<p>Questions are great for attention grabbing. Especially, when you send a targeted email, you most likely know your audience and you know what they need. Make sure you ask. For example &ndash; Is your laptop too heavy? And follow with an immediate solution. Create questions so they are intriguing and recipients want to know more.</p>

<h3>7. Less is more. (Yes)</h3>


<p>Don&rsquo;t include too many Call To Actions. Don&rsquo;t over fill the email with products or offers. It is very easy for the recipient to get lost if there are too many adverts.</p>

<h3>8. Call To Action placement</h3>


<p>Remember to place your Call To Action in a highly visible location. If you have multiple Calls to Action make sure that the supporting information is clearly grouped. The primary message has to be as close to the top as possible with supporting information or offers taking position below the fold.</p>

<h3>9. Related design and style</h3>


<p>Your email email need to use represent your company and branding. Don&rsquo;t try to use different design, colours and overall style in your email. Recipients remember who you are (or at least they should), changing email design will only bring in confusion and most likely dramatically reduce the conversions.</p>

<h3>10. Use a consistent layout</h3>


<p>Your email must be well organized and content should be prioritized. Do this by placing elements within the layout. Once your email design is created, stick to it. Don&rsquo;t try to use different sizes and colours, unless you are testing various variations for better conversion rates.</p>

<h3>11. Use white space</h3>


<p>White space is good. It&rsquo;s not unused sales place. It actually helps the recipient to focus more on the proposal without distraction.</p>

<h3>12. Send relevant content to the right audience</h3>


<p>Emails shouldn&rsquo;t be generic. Most mistakes are made when a proposal is created that is very generic and sent out to everyone &ndash; it can apply to everybody on your list or none at all. Make sure that you know your audience and you send offers that are relevant to them. This can be done by automatically grouping customers by what they&rsquo;ve browsed or bought recently. This is normally called List Segmentation for example only emailing people who have bought a blue widget in the last six months.</p>

<h3>13. Don&#8217;t send for the sake of it</h3>


<p>Add value to your emails. Send offers that are really beneficial to the target customer. Make them anticipate your offer. If you send overly frequent and generic emails, you risk simply loosing subscribers.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-05-24T17:39:35+01:00" pubdate data-updated="true">May 24<span>th</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/php-pdo-fetch-object-and-columns-with-spaces.html">PHP PDO Fetch Object and Columns With Spaces</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you use PDO and Fetch Object, it might not be clear exactly to access row properties that are based on columns that have spaces.</p>

<p>I know I searched for things like:</p>

<p>PDO Columns with spaces
PDO::fetchObject spaces
and PDO spaces in column names</p>

<p>I eventually found what I was looking for in the depths of the PHP.net comments however hopefully this post will be a little bit easier to find thanks to a bit of primitive SEO up there.</p>

<p>The solution to using columns with spaces is simply this:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$sql</span><span class="o">=</span><span class="s2">&quot;select * from table_with_spaces_in_column_names &quot;</span><span class="p">;</span>
</span><span class='line'><span class="nv">$statement</span> <span class="o">=</span> <span class="nv">$myPDOObject</span><span class="o">-&gt;</span><span class="na">prepare</span><span class="p">(</span><span class="nv">$sql</span><span class="p">);</span>
</span><span class='line'><span class="nv">$statement</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">();</span>
</span><span class='line'><span class="nv">$row</span> <span class="o">=</span> <span class="nv">$statement</span><span class="o">-&gt;</span><span class="na">fetchObject</span><span class="p">();</span>
</span><span class='line'><span class="nv">$ColumnWithSpaces</span> <span class="o">=</span> <span class="nv">$row</span><span class="o">-&gt;</span><span class="p">{</span><span class="s1">&#39;Column With Spaces&#39;</span><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-05-22T14:58:25+01:00" pubdate data-updated="true">May 22<span>nd</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/payment-has-failed-magento-and-sagepay-ce-error-solution.html">Payment Has Failed&#8230; Magento and SagePay CE Error + Solution</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>I recently upgraded a magento store and installed the Sage Pay Suite CE module from EbizMarks.</p>

<p>The following error came up twice during the testing of the module, once in the frontend and once in the admin.</p>

<p><strong>Payment has failed, please reload checkout page and try again. Your card has not been charged</strong></p>

<p>The error itself is triggered from the saveAfter method in the Ebizmarts_SagePaySuite_Model_Observer_Sales class and is called every time an order is saved.</p>

<p>The error on the frontend was caused by a javascript error. Adding the following to the top of the sagePaySuite_Checkout.js file corrected it</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">sagePayIsMobile</span> <span class="o">==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">sagePayIsMobile</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/BlackBerry/i</span><span class="p">)</span> <span class="o">||</span>
</span><span class='line'>            <span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/webOS/i</span><span class="p">)</span> <span class="o">||</span>
</span><span class='line'>            <span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/Android/i</span><span class="p">)</span> <span class="o">||</span>
</span><span class='line'>            <span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/iPhone/i</span><span class="p">)</span> <span class="o">||</span>
</span><span class='line'>            <span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/iPod/i</span><span class="p">)</span> <span class="o">||</span>
</span><span class='line'>            <span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/iPad/i</span><span class="p">));</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The error in the admin was caused by a different extension being called when the order was saved. Normally the extension ensures that the method is not called when it is not needed and this is done by checking the route and the registry. If an extension saves the order these checks are not triggered so you will need to add in your own. To do that you will need add the following code to the action that is saving the error</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">Mage</span><span class="o">::</span><span class="na">register</span><span class="p">(</span><span class="s1">&#39;skipSagePay&#39;</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>and then change the following line in the Ebizmarts/SagePaySuite/Model/Observer/Sales.php file</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">if</span><span class="p">(</span> <span class="p">(</span><span class="nx">Mage</span><span class="o">::</span><span class="na">app</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getRequest</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getControllerModule</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Mage_Api&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">registry</span><span class="p">(</span><span class="s1">&#39;current_shipment&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">registry</span><span class="p">(</span><span class="s1">&#39;sales_order&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">registry</span><span class="p">(</span><span class="s1">&#39;current_creditmemo&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">registry</span><span class="p">(</span><span class="s1">&#39;current_invoice&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nv">$order</span><span class="o">-&gt;</span><span class="na">getPayment</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getMethod</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;sagepayrepeat&#39;</span><span class="p">)</span> <span class="p">){</span>
</span></code></pre></td></tr></table></div></figure>


<p>to</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">if</span><span class="p">(</span> <span class="p">(</span><span class="nx">Mage</span><span class="o">::</span><span class="na">app</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getRequest</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getControllerModule</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Mage_Api&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">registry</span><span class="p">(</span><span class="s1">&#39;current_shipment&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">registry</span><span class="p">(</span><span class="s1">&#39;sales_order&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">registry</span><span class="p">(</span><span class="s1">&#39;current_creditmemo&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">registry</span><span class="p">(</span><span class="s1">&#39;current_invoice&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nv">$order</span><span class="o">-&gt;</span><span class="na">getPayment</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getMethod</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;sagepayrepeat&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">registry</span><span class="p">(</span><span class="s1">&#39;skipSagePay&#39;</span><span class="p">)){</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-05-21T09:11:44+01:00" pubdate data-updated="true">May 21<span>st</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/using-magento-database-migrations-to-track-configuration-changes.html">Using Magento Database Migrations to Track Configuration Changes</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>Often when working on a Magento site, there is a requirement to build custom functionality or implement new themes etc but to finish the job, the final step will be to perform some admin configuration.</p>

<p>This manual step can introduce the possiblity of human error if a step is missed or not performed exactly correctly.</p>

<p>Also if the configuration is to be applied multiple times across staging, pre production and final production then these risks increase.</p>

<p>The only sure way to make sure that the correct configuration is applied and also to provide a proper audit trail for configuration changes is to use Magento&rsquo;s database migrations &ndash; install and upgrade scripts &ndash; to update the database programmatically with the required configuration changes.</p>

<p>To assist with this, there is a nice simple module you can find on Git Hub:</p>

<p><a href="https://github.com/danslo/MigrationHelper"><a href="https://github.com/danslo/MigrationHelper">https://github.com/danslo/MigrationHelper</a></a></p>

<p>This module will automatically create the migration files for you which can be a real time saver.</p>

<p>I would always suggest you create your own custom namespaced configuration migration module that is purely to track these configuration changes.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-05-17T13:58:20+01:00" pubdate data-updated="true">May 17<span>th</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/phpstorm/magicento/magicento-has-a-super-quick-way-to-enable-template-path-hints-in-magento.html">Magicento Has a Super Quick Way to Enable Template Path Hints in Magento</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>Magento&rsquo;s Template Path Hints feature can be super handy for working out which templates are in use, but <em>logging into the Admin, navigating to System, Configuration, Developer, Debug, Change Store Scope, Change to Yes, Press Save, Reload</em> is an arduous process. So much so that often it&rsquo;s easier to just suss it out from the folder structure.</p>

<p>No more! Magicento has an entry in its menu to enable these at the click of a menu item.</p>

<p><img src="/assets/MagicentoMenu.png"></p>

<p>There&rsquo;s a couple of settings which need to be enabled (see below) but once set up, it works great.</p>

<p><img src="/assets/MagicentoSettings-600x317.png"></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-05-09T12:15:23+01:00" pubdate data-updated="true">May 9<span>th</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/testing-a-magento-site-in-maintenance-mode.html">Testing a Magento Site in Maintenance Mode</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>Often you&rsquo;ll have your site in maintenance mode, but obviously before you show your changes to the world you&rsquo;ll want to check the site over.</p>

<p>The best way to set Magento into Maintenance Mode is to add a maintenance.flag file to the web root, and there&rsquo;s a snippet of code in Magento&rsquo;s index.php which handles this:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$maintenanceFile</span> <span class="o">=</span> <span class="s1">&#39;maintenance.flag&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="o">...</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nb">file_exists</span><span class="p">(</span><span class="nv">$maintenanceFile</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">include_once</span> <span class="nb">dirname</span><span class="p">(</span><span class="k">__FILE__</span><span class="p">)</span> <span class="o">.</span> <span class="s1">&#39;/errors/503.php&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="k">exit</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>You&rsquo;ll want to set this to also take your IP address into consideration, so just make the following amends and you&rsquo;ll have added conditional maintenance mode:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$maintenanceFile</span> <span class="o">=</span> <span class="s1">&#39;maintenance.flag&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="o">...</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nb">file_exists</span><span class="p">(</span><span class="nv">$maintenanceFile</span><span class="p">)</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;REMOTE_ADDR&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="o">&amp;</span><span class="nx">quot</span><span class="p">;</span><span class="mf">123.123</span><span class="o">.</span><span class="mf">123.123</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;REMOTE_ADDR&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="o">&amp;</span><span class="nx">quot</span><span class="p">;</span><span class="mf">123.123</span><span class="o">.</span><span class="mf">123.123</span><span class="o">&amp;</span><span class="nx">quot</span><span class="p">;)</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">//Do nothing, but it&#39;s safer to check if it *is* your IP than *isn&#39;t*</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">include_once</span> <span class="nb">dirname</span><span class="p">(</span><span class="k">__FILE__</span><span class="p">)</span> <span class="o">.</span> <span class="s1">&#39;/errors/503.php&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="k">exit</span><span class="p">;</span>
</span><span class='line'>   <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-04-25T11:12:37+01:00" pubdate data-updated="true">Apr 25<span>th</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/how-to-setup-mybalsamiq-for-responsive-design-mockups.html">How to Setup Balsamiq for Fast Mockup Process</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>Here at Edmonds Commerce when we are working on Magento design projects we use <a href="http://www.balsamiq.com/" title="Balsamiq - Mockup tool" target="_blank">MyBalsamiq</a> on-line mockup tool which We&rsquo;ve found as one of the greatest in terms of support provided and especially for &ndash; live linking, which allows you to create live mockups in order to deliver the overall feel of navigation and User Experience to client more effectively. It has awesome sharing function as well &ndash; really easy to work and communicate ideas with clients, especially important in e-commerce projects where we like to test different approaches and see which could generate highest conversion rates.</p>

<p>However, nobody&rsquo;s perfect as well as Balsamiq. They don&rsquo;t have grid system integrated which makes mockup process messy as well as lacking some other essential forms and elements. The good news are that it&rsquo;s possible to Upload existing grid templates and add them to your mockup, whether they are created by Balsamiq, other users or you! I was lucky enough to find well designed Twitter Bootstrap Grid Template mockup on Balsamiq on-line resource <a href="https://mockupstogo.mybalsamiq.com/projects" title="Balsamiq Mockups">database</a> so I could really save time and concentrate on more important tasks.</p>

<p>After mockup is downloaded in .bmml format &ndash; it can be easily uploaded on the system here:
<img src="/assets/Upload_mockup-600x426.jpg"></p>

<p>Might be useful to create your own collection of most used elements and share with others! So Go ahead and create your own collection of most used elements to speed up your mock-up process and share with others. I will definitely create my own. See for updates from time to time.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-04-25T10:14:30+01:00" pubdate data-updated="true">Apr 25<span>th</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/prestashop/prestashop-debug-mode-using-the-magento-environment-variable-method.html">Prestashop Debug Mode Using the Magento Environment Variable Method</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>Magento developers are no doubt familiar with the concept of defining a server environment variable MAGE_IS_DEVELOPER_MODE so that when running Magento locally it is always in developer mode but there is no chance of accidently deploying a live site in developer mode.</p>

<p>This little trick will allow you to use the same environment variable to also have the same effect when working with PrestaShop.</p>

<p>To explain &ndash; developer mode generally means that things like error messages and debugging information are displayed clearly in the browser which makes things much easier when you are developing, to see what is going wrong.</p>

<p>On a live site you want to keep error information hidden and generally display to the customer a more friendly error message screen that perhaps helps them find their way back to a functional section of the site or gives them information to contact the site owner directly for assistance.</p>

<p>Anyway, to put PrestaShop in debug mode locally but have no risk of deployign this to live you can alter the file: config/defines.inc.php</p>

<p>from</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nb">define</span><span class="p">(</span><span class="s1">&#39;_PS_MODE_DEV_&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>to</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nb">define</span><span class="p">(</span><span class="s1">&#39;_PS_MODE_DEV_&#39;</span><span class="p">,</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;MAGE_IS_DEVELOPER_MODE&#39;</span><span class="p">]));</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-04-22T13:57:49+01:00" pubdate data-updated="true">Apr 22<span>nd</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/apache/apache-mod-rewrite-and-escaped-hashes-and-other-characters.html">Apache Mod Rewrite and Escaped Hashes (and Other Characters)</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you are having issues with mod rewrite apparently abandoning sections of variables after encoded hashes then this could be your solution.</p>

<p>The use case is particularly clear when using mod_rewrite in front of a search engine (such as Solr which I am really enjoying working with at the moment).</p>

<p>Imagine someone search for a partcode ABC#123</p>

<p>This gets encoded to search/abc%23123</p>

<p>Your rewritten search term will then be mangled by Apache and your search script will only actually see ABC. That is of course a problem and the solution is not really clear.</p>

<p>After a bit of searching around I found the solution is to add a B flag to your mod_rewrite rule so that mod_rewrite will escape these characters so that they are cleanly passed through.</p>

<p>For example:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">RewriteRule</span> <span class="o">^</span><span class="p">(</span><span class="o">.*</span><span class="p">)</span><span class="nx">search</span><span class="o">/</span><span class="p">(</span><span class="o">.*</span><span class="p">)</span><span class="err">$</span> <span class="nx">advanced_search_result</span><span class="o">.</span><span class="nx">php</span><span class="o">?</span><span class="nx">keywords</span><span class="o">=</span><span class="err">$</span><span class="mi">2</span> <span class="p">[</span><span class="nx">L</span><span class="p">,</span><span class="nx">B</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-04-11T11:05:20+01:00" pubdate data-updated="true">Apr 11<span>th</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/apache/apache-mod-rewrite-escaped-slashes-problem-solution.html">Apache Mod Rewrite Escaped Slashes Problem + Solution</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>As part of our Magento SEO service, the first thing we do is to make sure there are no issues with the crawlability and general health of the clients web site.</p>

<p>Whilst working on the Google Webmaster Tools crawl errors for a client I noticed one specific and intruiging problem for which I couldn&rsquo;t immediately see the reason, everything looked to be set up perfectly.</p>

<p>Certain URLs were getting 404 responses. The URL was being parsed by mod_rewrite but everything looked fine so why was apache giving a 404?</p>

<p>The problem turns out to be that the URLs contain escaped slashes (eg search/KTA-mb667k2%2F2g),</p>

<p>The problem is that Apache actually handles the escaped slash and helpfully converts it to a real slash. That then means that it is trying to look in a sub folder that does not exist and hence the 404.</p>

<p>Chances are you don&rsquo;t want escaped slashes to really be thought of as real directory separating slashes, especially if you are using mod_rewrite.</p>

<p>The answer is a simple one liner to be added to your vhost.conf or httpd.conf.</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>AllowEncodedSlashes On
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/page/5/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next"><a href="/page/3/">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/vim/octopress-syntax-highlighting-for-vim.html">Octopress Syntax Highlighting for Vim</a>
    
    <a class="list-group-item " href="/phpstorm/ruby/ruby-syntax-highlighting-with-phpstorm.html">Ruby Syntax Highlighting With PHPStorm</a>
    
    <a class="list-group-item " href="/fedora/setting-up-a-fedora-19-based-php-development-installation.html">Setting Up a Fedora 19 Based PHP Development Installation</a>
    
    <a class="list-group-item " href="/bash/automatically-convert-old-php-file-to-camelcase.html">Automatically Convert Old PHP File to camelCase</a>
    
    <a class="list-group-item " href="/linux/vim-locking-up-always-when-you-are-ready-to-save-solution.html">Vim Locking Up, Always When You Are Ready to Save? Solution</a>
    
  </div>
</section>




<section class="googleplus panel panel-default">
  <div class="panel-body">
    <h3>
      <a href="https://plus.google.com/104488822194646220248?rel=author">
        <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
        Google+
      </a>
    </h3>
  </div>
</section>


<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">About Us</h3>
    </div>
    <div class="panel-body">
        <p>
            <a href="http://www.edmondscommerce.co.uk">Edmonds Commerce</a> are a UK based E-Commerce web development
            agency.
        </p>

        <p>
            We are based in <a href="http://www.yorkshire.com/">Yorkshire</a> near <a
                href="http://www.visitleeds.co.uk/">Leeds</a> and <a href="http://www.visitbradford.com/">Bradford</a>.
        </p>

        <p>
            Our primary specialism is <a href="http://magento.com/">Magento</a> and other PHP based E-Commerce platforms
            such as <a href="http://www.opencart.com/">OpenCart</a>.
        </p>

        <p>
            In terms of technology we are very strong in:
        <ul>
            <li><a href="http://php.net/">PHP</a>,</li>
            <li><a href="http://www.mysql.com/">MySQL</a>,</li>
            <li><a href="http://www.linuxfoundation.org/">Linux</a>,</li>
            <li><a href="http://www.w3.org/standards/techs/html#w3c_all">HTML<a/>,</li>
            <li><a href="http://www.w3.org/Style/CSS/Overview.en.html">CSS</a></li>
            <li><a href="http://en.wikipedia.org/wiki/JavaScript">Javascript</a>.</li>
        </ul>
        </p>
    </div>
</section>

<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Commercial Enquiries</h3>
    </div>
    <div class="panel-body">
        <p>
            If you would like to discuss your project requirements then please get in touch today.
        </p>

        <p>
            <a href="http://www.edmondscommerce.co.uk">www.edmondscommerce.co.uk</a><br/><br/>
            <a href="mailto:info@edmondscommerce.co.uk">info@edmondscommerce.co.uk</a><br/><br/>
            <a href="tel:00441274590036">+44 1274 590036</a>
        </p>
    </div>
</section>

      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2013 - EdmondsCommerce Development Team<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>






  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </body>
</html>
