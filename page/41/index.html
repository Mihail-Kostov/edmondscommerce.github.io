<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Edmonds Commerce Dev Blog</title>
  <meta name="author" content="EdmondsCommerce Development Team">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://edmondscommerce.github.io/page/41">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Edmonds Commerce Dev Blog" type="application/atom+xml">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27853727-2', 'edmondscommerce.github.io');
  ga('send', 'pageview');

</script>

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img height="20" src="https://2.gravatar.com/avatar/04b807394911b26ea8a79dbe25ea4e1a?d=https%3A%2F%2Fidenticons.github.com%2Fccb745f4b144d30c4b883330a1114834.png&amp;r=x&amp;s=140" width="20"> Dev Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
                
                <li ><a href="/categories/index.html">Categories</a></li>
                
                <li ><a href="/contact-us/index.html">Contact</a></li>
                
            </ul>
            <ul class="nav pull-right">
                
                
                <li><a href="http://linkedin.com/in/edmondscommerce" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
                
                
                
                <li><a href="http://plus.google.com/104488822194646220248" title="Google+ Profile"><i class="icon-google-plus-sign social-navbar"></i></a></li>
                
                
                
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:edmondscommerce.github.io">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index">
      
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-03-07T16:41:21+00:00" pubdate data-updated="true">Mar 7<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/javascript/ajax-silently-failing-in-https-but-fine-in-http.html">Ajax Silently Failing in HTTPS but Fine in HTTP</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>If you are struggling to debug why some ajax, perhaps using jquery etc is working fine when you access the page via http, but if you use https then it fails silently with very little error messaging to work on then this could be your solution.</p>

<p>Basically, although you have accessed the page over HTTPS, if there are any insecure elements on the page then your ajax call will default to http and will then fail silently thanks to cross domain policy problems.</p>

<p>If you debug in chrome, you do get a meaningful error message but if like me you generally prefer working in Firefox and Firebug then you are up the creek.</p>

<p>Double check your source code for <a href="http://">http://</a> and also check out live http headers for insecure calls.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-03-02T22:34:30+00:00" pubdate data-updated="true">Mar 2<span>nd</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/sed-error-unknown-option-to-s-solution.html">Sed Error Unknown Option to &#8216;S&#8217; + Solution</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>If you are struggling to figure out why your Sed script is failing this could well be the solution.</p>

<p>Every example you see using sed specifies / as a delimiter.</p>

<p>Now what if your pattern actually includes a slash in the body text?</p>

<p>If you are using a variable you might not realise that you are including a slash.</p>

<p>Easy thing to do, just switch the delimiter to something else like #</p>

<p>so</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sed "s/find/$REPLACE/" </span></code></pre></td></tr></table></div></figure>


<p>becomes</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sed "s#find#$REPLACE#"</span></code></pre></td></tr></table></div></figure>


<p>and hey presto it works!</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-02-28T18:07:52+00:00" pubdate data-updated="true">Feb 28<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/ubuntu/custom-terminals-for-ssh-in-gnome-ubuntu.html">Custom Terminals for SSH in Gnome Ubuntu</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>If you manage a few servers, you might often find yourself with a few terminal windows open and it can get tricky to remember which terminal window is which.</p>

<p>To make this a lot easier you can create a custom terminal launcher for your panel and make it use a custom terminal colour scheme and profile and also make it automatically log into the server in question via SSH so it really is either that server or nothing (unless you exit but keep the terminal window open for some reason).</p>

<p>For your production server for example you might do the following:</p>

<p>Open up a terminal and create a new profile by selecting Edit->Profiles then hit the &#8220;`new
 button and create a profile called &ldquo;Production&rdquo;. Customise it to suit.</p>

<p>To create a new launcher, right click your panel and select &ldquo;Add to Panel&rdquo;</p>

<p>Then click &ldquo;Custom Application Launcher&rdquo;</p>

<p>For the name, call it something obvious like &ldquo;Production&rdquo;</p>

<p>The command should be like this:</p>

<p>[code]
gnome-terminal &mdash;window-with-profile=Production &mdash;command=&ldquo;ssh <a href="&#x6d;&#x61;&#105;&#x6c;&#116;&#x6f;&#x3a;&#117;&#x73;&#101;&#114;&#110;&#97;&#x6d;&#101;&#64;&#115;&#x65;&#x72;&#x76;&#101;&#114;&#46;&#99;&#x6f;&#x6d;">&#x75;&#115;&#101;&#114;&#110;&#x61;&#x6d;&#101;&#64;&#x73;&#101;&#x72;&#x76;&#x65;&#x72;&#46;&#x63;&#x6f;&#x6d;</a>&rdquo;</p>

<p>&#8220;`</p>

<p>Now choose a nice icon by clicking the springy icon that is default and navigate around till you find one you like.</p>

<p>Save the launcher and try clicking it, it should automatically use the special colour scheme you set and should also either log you straight into SSH (if you are using SSH Keys) or will give you the password prompt.</p>

<p>Never be confused again!</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-02-24T17:49:11+00:00" pubdate data-updated="true">Feb 24<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/centos-very-slow-ssh-password-prompt.html">CentOS Very Slow SSH Password Prompt</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>If you are finding it takes ages for a password prompt to come up when trying to connect to a CentOS server (and possibly others) this is a solution.</p>

<p>The cause is that your IP address does not have the correct reverse DNS etc settings.</p>

<p>You can of course try to fix all that but if you need a quick fix, you can edit the sshd configuration and disable</p>

<p>GSSAPIAuthentication yes</p>

<p>to: GSSAPIAuthentication no</p>

<p>and</p>

<p>UseDNS yes</p>

<p>to: UseDNS no</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-02-17T16:03:49+00:00" pubdate data-updated="true">Feb 17<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-dataflow-images-not-working-solution.html">Magento Dataflow Images Not Working + Solution</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you are struggling to understand why Magento is not finding images that are definitely there, the problem may well be that you are not prefixing your image with a slash, i.e for a new image we would put:</p>

<p>/image.jpg</p>

<p>and the image would be in</p>

<p>media/import/image.jpg</p>

<p>Unfortunately whoever wrote the Dataflow product importer though it would be a good idea to silently capture all exceptions on image imports which removes any useful error messages that might occur (such as no image at media/importimage.jpg)</p>

<p>If you would prefer to fix this, you can override Mage_Catalog_Model_Convert_Adapter_Product</p>

<p>Copy the saveRow() method into your overriding class and then change this bit</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">foreach</span> <span class="p">(</span><span class="nv">$imageData</span> <span class="k">as</span> <span class="nv">$file</span> <span class="o">=&gt;</span> <span class="nv">$fields</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">try</span> <span class="p">{</span>
</span><span class='line'>                <span class="nv">$filepath</span> <span class="o">=</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">getBaseDir</span><span class="p">(</span><span class="s1">&#39;media&#39;</span><span class="p">)</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">&#39;import&#39;</span> <span class="o">.</span> <span class="nx">trim</span><span class="p">(</span><span class="nv">$file</span><span class="p">);</span>
</span><span class='line'>                <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">addImageToMediaGallery</span><span class="p">(</span><span class="nv">$filepath</span><span class="p">,</span> <span class="nv">$fields</span><span class="p">);</span>
</span><span class='line'>            <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{}</span>
</span><span class='line'>        <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>To something like this</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">foreach</span> <span class="p">(</span><span class="nv">$imageData</span> <span class="k">as</span> <span class="nv">$file</span> <span class="o">=&gt;</span> <span class="nv">$fields</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="c1">//try {</span>
</span><span class='line'>                <span class="nv">$filepath</span> <span class="o">=</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">getBaseDir</span><span class="p">(</span><span class="s1">&#39;media&#39;</span><span class="p">)</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">&#39;import&#39;</span> <span class="o">.</span> <span class="nx">trim</span><span class="p">(</span><span class="nv">$file</span><span class="p">);</span>
</span><span class='line'>                <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">addImageToMediaGallery</span><span class="p">(</span><span class="nv">$filepath</span><span class="p">,</span> <span class="nv">$fields</span><span class="p">);</span>
</span><span class='line'>           <span class="c1">//} catch (Exception $e) {}</span>
</span><span class='line'>        <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-02-17T15:28:57+00:00" pubdate data-updated="true">Feb 17<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-media-save-path-dispretion-method.html">Magento Media Save Path Dispretion Method</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you want to calculate the actual save path that Magento will use for an image file for example then you might find yourself scouring the source code for the specific method that does this.</p>

<p>It&rsquo;s not the easiest to find, in fact its tucked away in the lib folder inside the Varien_File_Uploader class.</p>

<p>The method in question is a usefully static method Varien_File_Uploader::getDispretionPath();</p>

<p>Sorted!</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-02-16T11:37:30+00:00" pubdate data-updated="true">Feb 16<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/netbeans/netbeans-clear-cache-to-correct-broken-code-completion.html">Netbeans Clear Cache to Correct Broken Code Completion</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>If your Netbeans project is behaving a bit weirdly with regards to code auto completion then this little fix might be for you.</p>

<p>Netbeans maintains a cache folder and it looks like this can get corrupted sometimes and need clearing out.</p>

<p>Close Netbeans down, empty your $HOME/.netbeans/6.9/var/cache/ folder and then restart Netbeans and hopefully that should fix it</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-02-16T09:52:27+00:00" pubdate data-updated="true">Feb 16<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-disable-logging-without-editing-core-files.html">Magento Disable Logging Without Editing Core Files</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you want to disable Magento&rsquo;s logging functioality (which can cause a lot of issues due to very large tables being generated and the overhead associated with that) then this is a possible solution.</p>

<p>You can disable events by putting some special XML in your app/etc/local.xml file.</p>

<p>This file does not get touched by upgrades (AFAIK) and the effects should kick in as soon as the configuration cache is cleared and rebuilt.</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>    <span class="nt">&lt;frontend&gt;</span>
</span><span class='line'>        <span class="nt">&lt;events&gt;</span>
</span><span class='line'>            <span class="nt">&lt;controller_action_predispatch&gt;</span>
</span><span class='line'>                <span class="nt">&lt;observers&gt;&lt;log&gt;&lt;type&gt;</span>disabled<span class="nt">&lt;/type&gt;&lt;/log&gt;&lt;/observers&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/controller_action_predispatch&gt;</span>
</span><span class='line'>            <span class="nt">&lt;controller_action_postdispatch&gt;</span>
</span><span class='line'>                <span class="nt">&lt;observers&gt;&lt;log&gt;&lt;type&gt;</span>disabled<span class="nt">&lt;/type&gt;&lt;/log&gt;&lt;/observers&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/controller_action_postdispatch&gt;</span>
</span><span class='line'>            <span class="nt">&lt;customer_login&gt;</span>
</span><span class='line'>                <span class="nt">&lt;observers&gt;&lt;log&gt;&lt;type&gt;</span>disabled<span class="nt">&lt;/type&gt;&lt;/log&gt;&lt;/observers&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/customer_login&gt;</span>
</span><span class='line'>            <span class="nt">&lt;customer_logout&gt;</span>
</span><span class='line'>                <span class="nt">&lt;observers&gt;&lt;log&gt;&lt;type&gt;</span>disabled<span class="nt">&lt;/type&gt;&lt;/log&gt;&lt;/observers&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/customer_logout&gt;</span>
</span><span class='line'>            <span class="nt">&lt;sales_quote_save_after&gt;</span>
</span><span class='line'>                <span class="nt">&lt;observers&gt;&lt;log&gt;&lt;type&gt;</span>disabled<span class="nt">&lt;/type&gt;&lt;/log&gt;&lt;/observers&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/sales_quote_save_after&gt;</span>
</span><span class='line'>            <span class="nt">&lt;checkout_quote_destroy&gt;</span>
</span><span class='line'>                <span class="nt">&lt;observers&gt;&lt;log&gt;&lt;type&gt;</span>disabled<span class="nt">&lt;/type&gt;&lt;/log&gt;&lt;/observers&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/checkout_quote_destroy&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/events&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/frontend&gt;</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-02-11T12:13:49+00:00" pubdate data-updated="true">Feb 11<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/alternative-magento-payment-service-providers.html">Alternative Magento Payment Service Providers</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>Traditionally Edmonds Commerce have always recommended Sage Pay as a payment service provider however recently the service has been a bit patchy and they have made some mistakes in their general strategy.</p>

<p>Its definitely a good time to evaluate the other available options and here are some that we recommend looking at:</p>

<p><a href="http://www.magentocommerce.com/extension/packages/module/5045/total_web_solutions_payment_gateway_module">Total Web Solutions</a></p>

<p><a href="http://www.magentocommerce.com/magento-connect/Iridium%20Corporation/extension/3764/iridiumcorp_tpg">Iridium</a></p>

<p>Both of these have free Magento connect extensions and offer competitive pricing and general feedback seems to be good so well worth taking a look at.</p>

<p>Edmonds Commerce have a close relationship with both companies and would be happy to help you get set up with them.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-02-10T13:57:50+00:00" pubdate data-updated="true">Feb 10<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-transactional-email-codes-custom-emails.html">Magento Transactional Email Codes - Custom Emails</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you need to send some custom emails as part of a custom Magento module development project, you will stumble into the Magento email template system and its confusing mixture of XML requirements.</p>

<p>Rather than go into too much detail here are some pointers about how to achieve what you want to do.</p>

<ol>
<li>You need to set up your admin options in your system.xml file.</li>
</ol>


<p>I&rsquo;m not going to go into the details on how to set up custom admin configuration, for that try <a href="http://www.magentocommerce.com/wiki/5_-_modules_and_development/admin/xml_structure_for_admin_configurations">here</a>.</p>

<p>Lets assume you have a custom module under the xml path:</p>

<p>config/sections/custom_module/groups/email/template</p>

<p>that section should look something like this:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;template</span> <span class="na">translate=</span><span class="s">&quot;label&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;label&gt;</span>Custom Email Template<span class="nt">&lt;/label&gt;</span>
</span><span class='line'>  <span class="nt">&lt;frontend_type&gt;</span>select<span class="nt">&lt;/frontend_type&gt;</span>
</span><span class='line'>  <span class="nt">&lt;source_model&gt;</span>adminhtml/system_config_source_email_template<span class="nt">&lt;/source_model&gt;</span>
</span><span class='line'>  <span class="nt">&lt;sort_order&gt;</span>2<span class="nt">&lt;/sort_order&gt;</span>
</span><span class='line'>  <span class="nt">&lt;show_in_default&gt;</span>1<span class="nt">&lt;/show_in_default&gt;</span>
</span><span class='line'>  <span class="nt">&lt;show_in_website&gt;</span>1<span class="nt">&lt;/show_in_website&gt;</span>
</span><span class='line'>  <span class="nt">&lt;show_in_store&gt;</span>1<span class="nt">&lt;/show_in_store&gt;</span>
</span><span class='line'><span class="nt">&lt;/template&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>You need to set your default value in your config.xml file (inside the root config tag)</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'> <span class="c">&lt;!-- DEFAULTS For Admin System Configuration //--&gt;</span>
</span><span class='line'>    <span class="nt">&lt;default&gt;</span>
</span><span class='line'>        <span class="nt">&lt;custom_module&gt;</span>
</span><span class='line'>            <span class="nt">&lt;email&gt;</span>
</span><span class='line'>                <span class="nt">&lt;enabled&gt;</span>1<span class="nt">&lt;/enabled&gt;</span>
</span><span class='line'>                <span class="nt">&lt;template&gt;</span>custom_module_email_template<span class="nt">&lt;/template&gt;</span>
</span><span class='line'>                <span class="nt">&lt;identity&gt;</span>sales<span class="nt">&lt;/identity&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/email&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/custom_module&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/default&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now you also need to define your email template, which goes inside the config/global/ node</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>       <span class="c">&lt;!-- EMAIL TEMPLATE //--&gt;</span>
</span><span class='line'>        <span class="nt">&lt;template&gt;</span>
</span><span class='line'>            <span class="nt">&lt;email&gt;</span>
</span><span class='line'>                <span class="nt">&lt;custom_module_email_template</span> <span class="na">translate=</span><span class="s">&quot;label&quot;</span> <span class="na">module=</span><span class="s">&quot;appliedsb&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;label&gt;</span>Custom Template<span class="nt">&lt;/label&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;file&gt;</span>appliedsb/download_links.html<span class="nt">&lt;/file&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;type&gt;</span>html<span class="nt">&lt;/type&gt;</span>
</span><span class='line'>                <span class="nt">&lt;/custom_moduel_email_template&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/email&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/template&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>And then you need to make sure you put the email template inside the locale folder, en_us (or other locales as needed).</p>

<p>Now you need to clear cache and I recommend resaving the custom configuration group in the admin and double check that your Custom Template label is appearing properly in the email templates dropdown for your module.</p>

<p>And that should be it, your module now has a custom email template that has a locale file and is also over rideable with Magento&rsquo;s own transactional emails system &ndash; sweet!</p>

<p>If you get the exception <strong>Invalid transactional email code:</strong> then double check that all your xml nodes match up and that the locale file is in the correct place, clear your cache, resave the admin config and try again. This bug can be tricky to track down but if you respect the above xml and file layout it should all work.</p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/page/42/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next"><a href="/page/40/">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/gmail/sharing-google-drive-documents-from-gmail-when-sending-emails.html">Sharing Google Drive Documents From Gmail When Sending Emails</a>
    
    <a class="list-group-item " href="/bash/finding-out-the-biggest-folders-in-a-magento-or-other-website-root.html">Finding Out the Biggest Folders in a Magento or Other Website Root</a>
    
    <a class="list-group-item " href="/magento/redirect-to-previous-page-in-magento-after-logout.html">Redirect to Previous Page in Magento After Logout</a>
    
    <a class="list-group-item " href="/php/running-php-scripts-on-cli-and-faking-a-web-request.html">Running PHP Scripts on CLI and Faking a Web Request</a>
    
    <a class="list-group-item " href="/cpanel/cpanel-download-site-files-and-database.html">cPanel Download Site Files and Database</a>
    
  </div>
</section>




<section class="googleplus panel panel-default">
  <div class="panel-body">
    <h3>
      <a href="https://plus.google.com/104488822194646220248?rel=author">
        <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
        Google+
      </a>
    </h3>
  </div>
</section>


<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">About Us</h3>
    </div>
    <div class="panel-body">
        <p>
            <a href="http://www.edmondscommerce.co.uk">Edmonds Commerce</a> are a UK based E-Commerce web development
            agency.
        </p>

        <p>
            We are based in <a href="http://www.yorkshire.com/">Yorkshire</a> near <a
                href="http://www.visitleeds.co.uk/">Leeds</a> and <a href="http://www.visitbradford.com/">Bradford</a>.
        </p>

        <p>
            Our primary specialism is <a href="http://magento.com/">Magento</a> and other PHP based E-Commerce platforms
            such as <a href="http://www.opencart.com/">OpenCart</a>.
        </p>

        <p>
            In terms of technology we are very strong in:
        <ul>
            <li><a href="http://php.net/">PHP</a>,</li>
            <li><a href="http://www.mysql.com/">MySQL</a>,</li>
            <li><a href="http://www.linuxfoundation.org/">Linux</a>,</li>
            <li><a href="http://www.w3.org/standards/techs/html#w3c_all">HTML<a/>,</li>
            <li><a href="http://www.w3.org/Style/CSS/Overview.en.html">CSS</a></li>
            <li><a href="http://en.wikipedia.org/wiki/JavaScript">Javascript</a>.</li>
        </ul>
        </p>
    </div>
</section>

<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Commercial Enquiries</h3>
    </div>
    <div class="panel-body">
        <p>
            If you would like to discuss your project requirements then please get in touch today.
        </p>

        <p>
            <a href="http://www.edmondscommerce.co.uk">www.edmondscommerce.co.uk</a><br/><br/>
            <a href="mailto:info@edmondscommerce.co.uk">info@edmondscommerce.co.uk</a><br/><br/>
            <a href="tel:00441274590036">+44 1274 590036</a>
        </p>
    </div>
</section>

      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2014 - EdmondsCommerce Development Team<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>






  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </body>
</html>
