<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Edmonds Commerce Dev Blog</title>
  <meta name="author" content="EdmondsCommerce Development Team">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://edmondscommerce.github.io/page/71">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Edmonds Commerce Dev Blog" type="application/atom+xml">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27853727-2', 'edmondscommerce.github.io');
  ga('send', 'pageview');

</script>

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img height="20" src="https://2.gravatar.com/avatar/04b807394911b26ea8a79dbe25ea4e1a?d=https%3A%2F%2Fidenticons.github.com%2Fccb745f4b144d30c4b883330a1114834.png&amp;r=x&amp;s=140" width="20"> Dev Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
                
                <li ><a href="/categories/index.html">Categories</a></li>
                
                <li ><a href="/contact-us/index.html">Contact</a></li>
                
            </ul>
            <ul class="nav pull-right">
                
                
                <li><a href="http://linkedin.com/in/edmondscommerce" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
                
                
                
                <li><a href="http://plus.google.com/104488822194646220248" title="Google+ Profile"><i class="icon-google-plus-sign social-navbar"></i></a></li>
                
                
                
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:edmondscommerce.github.io">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index">
      
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-28T11:07:26+01:00" pubdate data-updated="true">Apr 28<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/hosting/htaccess-force-ssl-with-redirect-non-standard-ssl-port-compatible.html">Htaccess Force SSL With Redirect (Non Standard SSL Port Compatible)</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>Check out this little snippet of htaccess code to force SSL usage. Works regardless of port.</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>RewriteEngine On
</span><span class='line'>RewriteCond %{HTTPS} off
</span><span class='line'>RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}
</span></code></pre></td></tr></table></div></figure>


<p></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-27T15:54:22+01:00" pubdate data-updated="true">Apr 27<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/hosting/plesk-phpmyadmin-copy-database-bug-workaround.html">Plesk phpMyAdmin Copy Database Bug + Workaround</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>If you are administering a plesk server running version 8.x then you are likely dealing with phpMyAdmin version 2.8.x.x which has a bug that prevents you from performing database copy operations due to one missing space in the generated SQL.</p>

<p>One possible solution here is to simply install phpMyAdmin in its own right and of course use the latest version which has resolved this bug.</p>

<p>If however you would rather not bother with that, you can do this quite easily from the command line using the following commands.</p>

<p>First the SQL query:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>CREATE DATABASE db2;
</span></code></pre></td></tr></table></div></figure>


<p>Then, from the command-line, do the following:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>$ mysqldump -u root --password=pass db1 | mysql -u root --password=pass db2
</span></code></pre></td></tr></table></div></figure>


<p>I suppose you could start hacking on the bundled phpMyAdmin source code to fix the bug without upgrading the whole version&hellip; Ever looked at the phpMyAdmin source code?</p>

<p>:&ndash;)</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-25T08:23:28+01:00" pubdate data-updated="true">Apr 25<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/creative-zen-x-fi-and-ubuntu-linux-solution.html">Creative Zen X-Fi and Ubuntu Linux - Solution</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<blockquote>
<h2>Update</h2>
Just use Banshee, it seems to work fine and its actually pretty slick :)

BTW - to format your X-FI, just start it up whilst holding down the play/pause button to get into &#8220;recovery mode&#8221; the rest is easy
</blockquote>




<h2>Original Blog</h2>


<p>I have now decided to totally abandon my windows installation and use Linux for everything. I was pretty much using Linux for everything already but there were a few apps that I still used windows for or simply hadn&rsquo;t got around to trying out on Linux.</p>

<p>I have a projector hooked up for watching movies. I used to use windows XP for this but the windows driver for my Nvidia GT 9400 started to get really picky about giving me dual view, requiring reboots to get it to work properly. With the release of Jaunty and SOAS boot times, my windows XP partition was starting to look like a really unattractive solution. Its probably infected with conficker and god knows what else anyway.</p>

<p>Thankfully the Nvidia driver and admin software for Linux is actually really good. It needs to be launched as Sudo to work properly &ndash; simply edit the launcher and prepend gksudo before the command to give you a GUI sudo box. That&rsquo;s the projector and dual view taken care of (note you need to enable Xineview or whatever its called to get a proper desktop stretching across both monitors.)</p>

<p>Now the last little thing is my Creative ZEN X-Fi 16GB mp3 player. I love that little box of tricks and don&rsquo;t often feel the need to update the music on there as its got such a generous storage capacity. However I came to do it, plugged it in and it wasn&rsquo;t picked up as a removable drive as I thought it might be. A quick search later and I discover a programme called <strong>gnomad2</strong>.</p>

<blockquote>&#8220;Gnomad 2 is a GUI built on top of GTK/GNOME 2, id3lib and libnjb that
makes it possible to transfer tracks and files from/to a Creative
Nomad Jukebox (all brands). It is designed much like an ordinary
graphical FTP program.</blockquote>


<p>You can find it in syntaptic package manager. Install this and also edit the command to gksudo and you should then be able to move your music around freely. Oh yeah it runs a damn site faster than the creative windows software &ndash; sweet :&ndash;)</p>

<p>Windows already feels like a distant memory&hellip;</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-23T20:14:39+01:00" pubdate data-updated="true">Apr 23<span>rd</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/ubuntu/jaunty-released.html">Jaunty Released</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>I&rsquo;ve been using the beta of Ubuntu Jaunty for about a month now and its been great. I&rsquo;m now upgrading my standard Ubuntu installs with this latest edition which went live today.</p>

<p>Many thanks to all the team at Canonical for continuing to produce an excellent open source desktop environment.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-23T13:50:57+01:00" pubdate data-updated="true">Apr 23<span>rd</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/hosting/basic-server-migration-using-ssh-scp.html">Basic Server Migration Using SSH + SCP</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>The scenario here is that you have access to two servers &ndash; old and new &ndash; and you want to copy a site + database from old server to new server directly.</p>

<p>You have root SSH access to both servers.</p>

<p><strong>1. Create  a TAR archive of the document root for the site on the old server.</strong>
Log into SSH on the old server.</p>

<p>Navigate to your vhost root (the folder just above httpdocs) then use the following command to make a tar archive of your entire httpdocs folder:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>tar -cvvf httpdocs.tar httpdocs/
</span></code></pre></td></tr></table></div></figure>


<p><strong>2. Gzip the TAR archive</strong></p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> gzip httpdocs.tar</span></code></pre></td></tr></table></div></figure>


<p><strong>3. Transer the File to the New Server</strong>
Log into SSH on the new server</p>

<p>This bit may change according to your specific server setups. The way I approached this was to log into the new server  at the vhost root where I want to import the old httpdocs folder. I then use the following SCP command to log into the old server, find my archive and copy it to the current location.</p>

<p>I am using a custom port (not the real one in the example of course) for SSH so that must be specified. Unlike SSH, you must use a capital P to specify a custom port</p>

<p><em><strong>Note the space and full stop at the end &ndash; they are very important!</strong></em></p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>scp -P 1111 old_server_username@123.123.123.123:/path/to/file/on/old/server/archive.tar.gz .
</span></code></pre></td></tr></table></div></figure>


<p><strong>4. Dump all DB&rsquo;s and Transfer</strong>
To dump all of the databases into one single file we can use the following mysqldump syntax. Note you can simply use the &mdash;all-databases switch but this will backup database that you probably don&rsquo;t want to include. Better to declare a list of all the DB&rsquo;s that you do want.</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>mysqldump -u SomeUser -p --databases mydb1 mydb2 mydb3 &gt; myDbs.sql
</span></code></pre></td></tr></table></div></figure>


<p>Once you have this dump file you can Gzip it and transfer it via SCP using the same kind of commands as above.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-19T09:36:53+01:00" pubdate data-updated="true">Apr 19<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/zend%20framework/zend-form-disable-fields.html">Zend Form Disable Fields</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>I use this little function as part of my base form class to enable me to easily lock certain form elements.</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">lockField</span><span class="p">(</span><span class="nv">$field</span><span class="p">){</span>
</span><span class='line'>        <span class="nv">$elem</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getElement</span><span class="p">(</span><span class="nv">$field</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$elem</span><span class="o">-&gt;</span><span class="na">setAttrib</span><span class="p">(</span><span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</span><span class='line'>        <span class="nv">$elem</span><span class="o">-&gt;</span><span class="na">setAttrib</span><span class="p">(</span><span class="s1">&#39;readonly&#39;</span><span class="p">,</span><span class="k">true</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>usage might be like the following:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">makeForm</span><span class="p">(</span><span class="nv">$action</span><span class="p">){</span>
</span><span class='line'>  <span class="nv">$form</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">My_Form</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;action&#39;</span><span class="o">=&gt;</span><span class="nv">$action</span><span class="p">));</span>
</span><span class='line'>  <span class="nv">$form</span><span class="o">-&gt;</span><span class="na">addElement</span><span class="p">(</span><span class="o">..</span> <span class="nx">custom</span> <span class="nx">form</span> <span class="nx">add</span> <span class="nx">element</span> <span class="nx">function</span><span class="p">);</span>
</span><span class='line'>  <span class="nv">$form</span><span class="o">-&gt;</span><span class="na">lockField</span><span class="p">(</span><span class="s1">&#39;fieldname&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="nv">$form</span><span class="o">-&gt;</span><span class="na">addSubmit</span><span class="p">(</span><span class="o">..</span> <span class="nx">custom</span> <span class="nx">add</span> <span class="nx">submit</span> <span class="nx">function</span><span class="p">);</span>
</span><span class='line'>  <span class="k">return</span> <span class="nv">$form</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-17T10:43:08+01:00" pubdate data-updated="true">Apr 17<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-sites-go-down-if-magentocommercecom-goes-down.html">Magento Sites Go Down if Magentocommerce.com Goes Down</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>It looks like Magento sites have a weakness where they throw a fatal error on the admin side if they can not connect to the Magentocommerce site to check for updates.</p>

<p>I will post the solution to this shortly, but Magento &ndash; please make sure this is fixed ASAP.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-17T07:46:07+01:00" pubdate data-updated="true">Apr 17<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/grub-error-21-on-a-laptop-solution.html">Grub Error 21 on a Laptop + Solution</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>If you ever get Grub Error 21 when trying to boot your Linux laptop or notebook then this post is for you.</p>

<p>Grub Error 21 means that it cannot find the hard disk. On a desktop machine this probably means that you need to fix Grub itself. Just google for Grub error 21 or supergrub.</p>

<p>However on laptops I seem to suffer this problem on a regular basis. The problem is that the hard drives are not firmly attached and can become dislodged.</p>

<p>To fix it just open up your laptop HD enclosure and make sure it&rsquo;s firmly attached. I also like to roll up a bit of paper and wedge it in there so that it can&rsquo;t slide out again in future.</p>

<p>Hope this helps out someone else :&ndash;)</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-15T14:59:25+01:00" pubdate data-updated="true">Apr 15<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/zend%20framework/zend-framework-db-exceptions-show-sql.html">Zend Framework DB Exceptions - Show SQL</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>Its all well and good showing me the MySQL error information, but these kinds of messages always refer to the actual SQL being submitted.</p>

<p>As Zend_Db is an abstraction layer, it is often not exactly clear precisely what SQL is being submitted and causing an error.</p>

<p>To fix this and make the exceptions display the actual SQL as well, you need to make a small edit to the file Zend/Db/Statement/{adapter}.php</p>

<p>For me I tend to use the Mysqli adapter so I have edited the file Mysqli.php</p>

<p>In there is a function _prepare.</p>

<p>Line 84 of that file I have updated to the following:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">throw</span> <span class="k">new</span> <span class="nx">Zend_Db_Statement_Mysqli_Exception</span><span class="p">(</span><span class="s2">&quot;Mysqli prepare error: &quot;</span> <span class="o">.</span> <span class="nv">$mysqli</span><span class="o">-&gt;</span><span class="na">error</span> <span class="o">.</span> <span class="s2">&quot;&lt;br&gt;&lt;br&gt;SQL:&lt;br&gt;&quot;</span> <span class="o">.</span> <span class="nv">$sql</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>if you wanted to do the same for a different adapter, it should be easy enough to add the <code>php
. "&lt;br&gt;&lt;br&gt;SQL:&lt;br&gt;" . $sql
</code> bit to it.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2009-04-11T10:28:44+01:00" pubdate data-updated="true">Apr 11<span>th</span>, 2009</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/zend%20framework/zend-framework-1and1-index-controller-404s-solution.html">Zend Framework 1and1 Index Controller 404s + Solution</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>Been tearing my hair out this morning trying to figure out why a Zend Framework based app was giving me 404 messages on any actions that specified the index controller. To explain, any URL that ended with /index or index/{action_name} would give me the ugly 1and1 404 message.</p>

<p>locally of course it worked fine. I messed around with my error controller but it seemed that the ZF app wasn&rsquo;t even being consulted, this was a lower level 404 error.</p>

<p>After some digging around, the solution is to disable something called MultiViews. The MultiViews option allows a file to be called even if the extension is not loaded, so index would look for any files called index, regardless of their extension.</p>

<p>I&rsquo;m not really sure why you would want this behaviour, maybe that&rsquo;s why I have never encountered it before. Anyway, to disable it and get your app working the way you want, simply add the following line to your htaccess file:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>Options -MultiViews
</span></code></pre></td></tr></table></div></figure>


<p>For information, this is my full htaccess file that works on 1and1 hosting:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>Options -MultiViews
</span><span class='line'>RewriteEngine On
</span><span class='line'>RewriteCond %{REQUEST_FILENAME} -s [OR]
</span><span class='line'>RewriteCond %{REQUEST_FILENAME} -l [OR]
</span><span class='line'>RewriteCond %{REQUEST_FILENAME} -d
</span><span class='line'>RewriteRule ^.*$ - [NC,L]
</span><span class='line'>RewriteRule ^.*$ /path/from/docroot/public/ [NC,L]
</span></code></pre></td></tr></table></div></figure>


<p>This particular app is running from a subfolder. If your public folder is the document root then that line would simply be /</p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/page/72/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next"><a href="/page/70/">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/git/removing-untracked-files-but-not-git-ignored-ones.html">Removing Untracked Files but Not Git Ignored Ones</a>
    
    <a class="list-group-item " href="/php/developer-setup.html">Preparing Fedora for Development With PHP Storm</a>
    
    <a class="list-group-item " href="/php/php-json-encode-failing-with-no-clear-reason-plus-solution.html">PHP Json_encode Failing With No Clear Reason + Solution</a>
    
    <a class="list-group-item " href="/linux/vps/server/running-out-of-disk-space-but-df-shows-you-have-lots-of-space-left.html">Running Out of Disk Space but Df Shows You Have Lots of Space Left</a>
    
    <a class="list-group-item " href="/behat/repeating-behat-scenarios-when-testing-magento-with-smartstep.html">Repeating Behat Scenarios When Testing Magento With SmartStep</a>
    
  </div>
</section>




<section class="googleplus panel panel-default">
  <div class="panel-body">
    <h3>
      <a href="https://plus.google.com/104488822194646220248?rel=author">
        <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
        Google+
      </a>
    </h3>
  </div>
</section>


<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">About Us</h3>
    </div>
    <div class="panel-body">
        <p>
            <a href="http://www.edmondscommerce.co.uk">Edmonds Commerce</a> are a UK based E-Commerce web development
            agency.
        </p>

        <p>
            We are based in <a href="http://www.yorkshire.com/">Yorkshire</a> near <a
                href="http://www.visitleeds.co.uk/">Leeds</a> and <a href="http://www.visitbradford.com/">Bradford</a>.
        </p>

        <p>
            Our primary specialism is <a href="http://magento.com/">Magento</a> and other PHP based E-Commerce platforms
            such as <a href="http://www.opencart.com/">OpenCart</a>.
        </p>

        <p>
            In terms of technology we are very strong in:
        <ul>
            <li><a href="http://php.net/">PHP</a>,</li>
            <li><a href="http://www.mysql.com/">MySQL</a>,</li>
            <li><a href="http://www.linuxfoundation.org/">Linux</a>,</li>
            <li><a href="http://www.w3.org/standards/techs/html#w3c_all">HTML<a/>,</li>
            <li><a href="http://www.w3.org/Style/CSS/Overview.en.html">CSS</a></li>
            <li><a href="http://en.wikipedia.org/wiki/JavaScript">Javascript</a>.</li>
        </ul>
        </p>
    </div>
</section>

<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Commercial Enquiries</h3>
    </div>
    <div class="panel-body">
        <p>
            If you would like to discuss your project requirements then please get in touch today.
        </p>

        <p>
            <a href="http://www.edmondscommerce.co.uk">www.edmondscommerce.co.uk</a><br/><br/>
            <a href="mailto:info@edmondscommerce.co.uk">info@edmondscommerce.co.uk</a><br/><br/>
            <a href="tel:00441274590036">+44 1274 590036</a>
        </p>
    </div>
</section>

      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2015 - EdmondsCommerce Development Team<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>






  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </body>
</html>
