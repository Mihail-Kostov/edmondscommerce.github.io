<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Edmonds Commerce Dev Blog</title>
  <meta name="author" content="EdmondsCommerce Development Team">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://edmondscommerce.github.io/page/39">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Edmonds Commerce Dev Blog" type="application/atom+xml">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27853727-2', 'edmondscommerce.github.io');
  ga('send', 'pageview');

</script>

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img height="20" src="https://2.gravatar.com/avatar/04b807394911b26ea8a79dbe25ea4e1a?d=https%3A%2F%2Fidenticons.github.com%2Fccb745f4b144d30c4b883330a1114834.png&amp;r=x&amp;s=140" width="20"> Dev Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
                
                <li ><a href="/categories/index.html">Categories</a></li>
                
                <li ><a href="/contact-us/index.html">Contact</a></li>
                
            </ul>
            <ul class="nav pull-right">
                
                
                <li><a href="http://linkedin.com/in/edmondscommerce" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
                
                
                
                <li><a href="http://plus.google.com/104488822194646220248" title="Google+ Profile"><i class="icon-google-plus-sign social-navbar"></i></a></li>
                
                
                
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:edmondscommerce.github.io">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index">
      
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-03-09T10:15:01+00:00" pubdate data-updated="true">Mar 9<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/portfolio/cinderblock-magento-appliedsb-api-integration.html">Cinder Block Magento AppliedSB API Integration</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p><a href="http://cinderblock.com/">Cinder Block</a> are a USA based company who retail merchandise for a wide catalog bands and artists in the music industry.</p>

<p>The site is based upon a very large Magento Enterprise based multistore system with unique official store fronts for each band.</p>

<p>Cinder Block&rsquo;s traditional merchandise is clothing, mainly T Shirts though they wanted to expand into selling downloadble music. Rather than use an inhouse system Cinder Block opted to use an external API and chose <a href="http://www.appliedsb.com/">Applied SB</a>.</p>

<p>The project requirements were broadly to do the follwing:</p>

<p><b>1. Populate the Product Page with API Data
</b>
The Applied SB API provides image, title and price data for each product. For albums it also provides details of each individual track. Cinder Block needed to be able to get all of this data automatically from a single reference code or album_id. We created a Magento extension that handles all of the API communications to grab this data and also uses Magento block caching to keep the performance of the pages fast.</p>

<p><b>2. Allow Streaming of Sample Music from the Product Page</b></p>

<p>On the product page Cinder Block wanted visitors to be able to play from within the browser the sample tracks that the Applied SB API provides. Again all of this data is provided by the API and the Magento extension grabs and caches this data automatically. The previews are streamed directly from the Applied SB system and the browser player is based upon Sound Manager.</p>

<p><b>3. Allow Purchase of Downloadable Music through Standard Checkout Procedure</b></p>

<p>For upgrade compatability and general ease of use we kept modifications to the checkout procedure to a bear minimum. The downloadable products are standard Magento products in every way. On successful checkout the Magento extension uses the event/observer system in Magento to trigger the extra functionality to register the purchase with the Applied SB and to retrieve the download links and utilise Applied SB&rsquo;s download manager.</p>

<p>This data is stored within a custom order attribute that is set up by the extension and is viewable from within the admin when looking at an order.</p>

<p><b>4. Supply Download Links Upon Successful Checkout in Account Area and via Email</b></p>

<p>After retrieving the download links, the extension sends a custom email with the download information. For this we hooked into Magento&rsquo;s standard email templating system allowing Cinder Block to create a custom email template for each store front as they see fit. This works in the exact same way as all of the other email templates within Magento which means its very powerful and configurable.</p>

<p>All in all the project was both challenging and rewarding. We encountered a few setbacks including core Magento bugs which were reported back to Magento and actioned, no doubt they will be fixed in forth coming Magento enterprise releases.</p>

<p>Here is a quote from Mark at Cinder Block:</p>

<blockquote><i>&#8220;Despite being faced with many challenges, Joseph worked over time to successfully integrate music downloads into our Magento platform. And the follow up refining has been swift and on the mark. The result is incontestable: It just works. Period. Thanks, Joseph!&#8221;</i></blockquote>


<p>Here is a screen shot of one of the product pages including the MP3 previews and also a related products carousel which we threw into the project for free.</p>

<p><img src="/assets/screenshot-thumb-150x150.png"></p>

<p>You can see the live page <a href="http://floggingmolly.cinderblock.com/flogging-molly-swagger-album-download.html">here</a>.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-03-08T11:57:33+00:00" pubdate data-updated="true">Mar 8<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/portfolio/mobilecad-surveying-design-implementation.html">MobileCad Surveying - Design Implementation</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>Another nice and good looking Magento design implementation work for a project that was being migrated from Joomla platform to Magento. We took on board the work that was started with other developers and basically make it work as per client requirements.</p>

<p>We did some work on SEO, Implementing Hello Theme design and migrating clean up from the old site. The site is not yet launched though you can see the original site here <a href="http://mobilecadsurveying.co.uk/"><a href="http://mobilecadsurveying.co.uk/">http://mobilecadsurveying.co.uk/</a></a>. Note by the time you read this it may well have been updated.</p>

<h3>Here are some screen shots of the final Magento theme.</h3>


<p><b>Homepage:</b><br/>
<img src="/assets/Homepage-265x300.png"></p>

<br/><b>Category Page:</b>


<p><img src="/assets/Screenshot-252x300.png"></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-03-08T11:46:30+00:00" pubdate data-updated="true">Mar 8<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/portfolio/focus-eyewear-simple-clean-and-looks-great.html">Focus-Eyewear - Simple, Clean and Looks Great</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>Another simple and clean Magento based store we have done that was really nice to work on. Focus-eyewear is just one of the three stores built on this multi-store Magento project. The other stores includes the Germany version of the store at (optik-focus.de) and the US version at (focus-online.com). Please see few images below and the full site at <a href='http://www.focus-eyewear.co.uk'>www.focus-eyewear.co.uk</a></p>

<p><b>Homepage:</b>
<img src="/assets/Screenshot-2-298x300.png"></p>

<p><img src="/assets/Screenshot-1-300x177.png"></p>

<br/><b>Category page</b>


<p><img src="/assets/Screenshot-Chanel-Womens-Sunglasses-Focus-Eyewear-Mozilla-Firefox-300x158.png"></p>

<p><img src="/assets/Screenshot-3-300x210.png"></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-03-08T05:59:03+00:00" pubdate data-updated="true">Mar 8<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/vim-save-file-you-didnt-sudo-edit.html">Vim Save File You Didn&#8217;t Sudo Edit -</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>How many times have you edited a file in Vim, made your changes and then realised you don&rsquo;t have write permissions when it comes to save it.</p>

<p>Well if you do it again, this tip is for you. You CAN save the file using this command:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>:w !sudo tee %</span></code></pre></td></tr></table></div></figure>


<p>Lifesaver!</p>

<p>This one direct from one of my personal favourite sites, <a href="http://www.commandlinefu.com/commands/view/1204/save-a-file-you-edited-in-vim-without-the-needed-permissions">Command Line Fu</a></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-03-07T16:41:21+00:00" pubdate data-updated="true">Mar 7<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/javascript/ajax-silently-failing-in-https-but-fine-in-http.html">Ajax Silently Failing in HTTPS but Fine in HTTP</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you are struggling to debug why some ajax, perhaps using jquery etc is working fine when you access the page via http, but if you use https then it fails silently with very little error messaging to work on then this could be your solution.</p>

<p>Basically, although you have accessed the page over HTTPS, if there are any insecure elements on the page then your ajax call will default to http and will then fail silently thanks to cross domain policy problems.</p>

<p>If you debug in chrome, you do get a meaningful error message but if like me you generally prefer working in Firefox and Firebug then you are up the creek.</p>

<p>Double check your source code for <a href="http://">http://</a> and also check out live http headers for insecure calls.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-03-02T22:34:30+00:00" pubdate data-updated="true">Mar 2<span>nd</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/sed-error-unknown-option-to-s-solution.html">Sed Error Unknown Option to &#8216;S&#8217; + Solution</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you are struggling to figure out why your Sed script is failing this could well be the solution.</p>

<p>Every example you see using sed specifies / as a delimiter.</p>

<p>Now what if your pattern actually includes a slash in the body text?</p>

<p>If you are using a variable you might not realise that you are including a slash.</p>

<p>Easy thing to do, just switch the delimiter to something else like #</p>

<p>so</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sed "s/find/$REPLACE/" </span></code></pre></td></tr></table></div></figure>


<p>becomes</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sed "s#find#$REPLACE#"</span></code></pre></td></tr></table></div></figure>


<p>and hey presto it works!</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-02-28T18:07:52+00:00" pubdate data-updated="true">Feb 28<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/ubuntu/custom-terminals-for-ssh-in-gnome-ubuntu.html">Custom Terminals for SSH in Gnome Ubuntu</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you manage a few servers, you might often find yourself with a few terminal windows open and it can get tricky to remember which terminal window is which.</p>

<p>To make this a lot easier you can create a custom terminal launcher for your panel and make it use a custom terminal colour scheme and profile and also make it automatically log into the server in question via SSH so it really is either that server or nothing (unless you exit but keep the terminal window open for some reason).</p>

<p>For your production server for example you might do the following:</p>

<p>Open up a terminal and create a new profile by selecting Edit->Profiles then hit the &#8220;`new
 button and create a profile called &ldquo;Production&rdquo;. Customise it to suit.</p>

<p>To create a new launcher, right click your panel and select &ldquo;Add to Panel&rdquo;</p>

<p>Then click &ldquo;Custom Application Launcher&rdquo;</p>

<p>For the name, call it something obvious like &ldquo;Production&rdquo;</p>

<p>The command should be like this:</p>

<p>[code]
gnome-terminal &mdash;window-with-profile=Production &mdash;command=&ldquo;ssh <a href="&#x6d;&#97;&#105;&#108;&#116;&#x6f;&#x3a;&#117;&#115;&#x65;&#114;&#x6e;&#x61;&#109;&#x65;&#64;&#115;&#x65;&#114;&#118;&#101;&#x72;&#x2e;&#x63;&#x6f;&#109;">&#117;&#115;&#x65;&#x72;&#110;&#97;&#x6d;&#x65;&#64;&#115;&#101;&#x72;&#118;&#101;&#x72;&#46;&#x63;&#111;&#x6d;</a>&rdquo;</p>

<p>&#8220;`</p>

<p>Now choose a nice icon by clicking the springy icon that is default and navigate around till you find one you like.</p>

<p>Save the launcher and try clicking it, it should automatically use the special colour scheme you set and should also either log you straight into SSH (if you are using SSH Keys) or will give you the password prompt.</p>

<p>Never be confused again!</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-02-24T17:49:11+00:00" pubdate data-updated="true">Feb 24<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/centos-very-slow-ssh-password-prompt.html">CentOS Very Slow SSH Password Prompt</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you are finding it takes ages for a password prompt to come up when trying to connect to a CentOS server (and possibly others) this is a solution.</p>

<p>The cause is that your IP address does not have the correct reverse DNS etc settings.</p>

<p>You can of course try to fix all that but if you need a quick fix, you can edit the sshd configuration and disable</p>

<p>GSSAPIAuthentication yes</p>

<p>to: GSSAPIAuthentication no</p>

<p>and</p>

<p>UseDNS yes</p>

<p>to: UseDNS no</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-02-17T16:03:49+00:00" pubdate data-updated="true">Feb 17<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-dataflow-images-not-working-solution.html">Magento Dataflow Images Not Working + Solution</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you are struggling to understand why Magento is not finding images that are definitely there, the problem may well be that you are not prefixing your image with a slash, i.e for a new image we would put:</p>

<p>/image.jpg</p>

<p>and the image would be in</p>

<p>media/import/image.jpg</p>

<p>Unfortunately whoever wrote the Dataflow product importer though it would be a good idea to silently capture all exceptions on image imports which removes any useful error messages that might occur (such as no image at media/importimage.jpg)</p>

<p>If you would prefer to fix this, you can override Mage_Catalog_Model_Convert_Adapter_Product</p>

<p>Copy the saveRow() method into your overriding class and then change this bit</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">foreach</span> <span class="p">(</span><span class="nv">$imageData</span> <span class="k">as</span> <span class="nv">$file</span> <span class="o">=&gt;</span> <span class="nv">$fields</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">try</span> <span class="p">{</span>
</span><span class='line'>                <span class="nv">$filepath</span> <span class="o">=</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">getBaseDir</span><span class="p">(</span><span class="s1">&#39;media&#39;</span><span class="p">)</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">&#39;import&#39;</span> <span class="o">.</span> <span class="nx">trim</span><span class="p">(</span><span class="nv">$file</span><span class="p">);</span>
</span><span class='line'>                <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">addImageToMediaGallery</span><span class="p">(</span><span class="nv">$filepath</span><span class="p">,</span> <span class="nv">$fields</span><span class="p">);</span>
</span><span class='line'>            <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{}</span>
</span><span class='line'>        <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>To something like this</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">foreach</span> <span class="p">(</span><span class="nv">$imageData</span> <span class="k">as</span> <span class="nv">$file</span> <span class="o">=&gt;</span> <span class="nv">$fields</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="c1">//try {</span>
</span><span class='line'>                <span class="nv">$filepath</span> <span class="o">=</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">getBaseDir</span><span class="p">(</span><span class="s1">&#39;media&#39;</span><span class="p">)</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">&#39;import&#39;</span> <span class="o">.</span> <span class="nx">trim</span><span class="p">(</span><span class="nv">$file</span><span class="p">);</span>
</span><span class='line'>                <span class="nv">$product</span><span class="o">-&gt;</span><span class="na">addImageToMediaGallery</span><span class="p">(</span><span class="nv">$filepath</span><span class="p">,</span> <span class="nv">$fields</span><span class="p">);</span>
</span><span class='line'>           <span class="c1">//} catch (Exception $e) {}</span>
</span><span class='line'>        <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-02-17T15:28:57+00:00" pubdate data-updated="true">Feb 17<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-media-save-path-dispretion-method.html">Magento Media Save Path Dispretion Method</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is an old post. The information it contains is probably out of date or innacurate</h4>
<p>
This is a post that was written a long time ago and is only being kept here for posterity.
You should probably look up more recent blog posts related to the subject you are researching
</p>
</div>


<p>If you want to calculate the actual save path that Magento will use for an image file for example then you might find yourself scouring the source code for the specific method that does this.</p>

<p>It&rsquo;s not the easiest to find, in fact its tucked away in the lib folder inside the Varien_File_Uploader class.</p>

<p>The method in question is a usefully static method Varien_File_Uploader::getDispretionPath();</p>

<p>Sorted!</p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/page/40/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next"><a href="/page/38/">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/composer/merging-forks-for-composer.html">Merging Forks for Composer</a>
    
    <a class="list-group-item " href="/SEO/the-first-thing-you-should-read-on-seo.html">The First Thing You Should Read on SEO</a>
    
    <a class="list-group-item " href="/Octoress/octopress-auto-building-the-site-locally-for-one-blog-post.html">Octopress Auto Building the Site Locally for One Blog Post</a>
    
    <a class="list-group-item " href="/mysql/sorting-results-arbitrarily-in-mysql.html">Sorting Results Arbitrarily in MySQL</a>
    
    <a class="list-group-item " href="/symfony2/faker-symfony2-integration.html">Faker Symfony2 Integration</a>
    
  </div>
</section>




<section class="googleplus panel panel-default">
  <div class="panel-body">
    <h3>
      <a href="https://plus.google.com/104488822194646220248?rel=author">
        <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
        Google+
      </a>
    </h3>
  </div>
</section>


<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">About Us</h3>
    </div>
    <div class="panel-body">
        <p>
            <a href="http://www.edmondscommerce.co.uk">Edmonds Commerce</a> are a UK based E-Commerce web development
            agency.
        </p>

        <p>
            We are based in <a href="http://www.yorkshire.com/">Yorkshire</a> near <a
                href="http://www.visitleeds.co.uk/">Leeds</a> and <a href="http://www.visitbradford.com/">Bradford</a>.
        </p>

        <p>
            Our primary specialism is <a href="http://magento.com/">Magento</a> and other PHP based E-Commerce platforms
            such as <a href="http://www.opencart.com/">OpenCart</a>.
        </p>

        <p>
            In terms of technology we are very strong in:
        <ul>
            <li><a href="http://php.net/">PHP</a>,</li>
            <li><a href="http://www.mysql.com/">MySQL</a>,</li>
            <li><a href="http://www.linuxfoundation.org/">Linux</a>,</li>
            <li><a href="http://www.w3.org/standards/techs/html#w3c_all">HTML<a/>,</li>
            <li><a href="http://www.w3.org/Style/CSS/Overview.en.html">CSS</a></li>
            <li><a href="http://en.wikipedia.org/wiki/JavaScript">Javascript</a>.</li>
        </ul>
        </p>
    </div>
</section>

<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Commercial Enquiries</h3>
    </div>
    <div class="panel-body">
        <p>
            If you would like to discuss your project requirements then please get in touch today.
        </p>

        <p>
            <a href="http://www.edmondscommerce.co.uk">www.edmondscommerce.co.uk</a><br/><br/>
            <a href="mailto:info@edmondscommerce.co.uk">info@edmondscommerce.co.uk</a><br/><br/>
            <a href="tel:00441274590036">+44 1274 590036</a>
        </p>
    </div>
</section>

      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2013 - EdmondsCommerce Development Team<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>






  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </body>
</html>
