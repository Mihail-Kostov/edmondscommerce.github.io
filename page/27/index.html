<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Edmonds Commerce Dev Blog</title>
  <meta name="author" content="EdmondsCommerce Development Team">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://edmondscommerce.github.io/page/27">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Edmonds Commerce Dev Blog" type="application/atom+xml">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27853727-2', 'edmondscommerce.github.io');
  ga('send', 'pageview');

</script>

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img height="20" src="https://2.gravatar.com/avatar/04b807394911b26ea8a79dbe25ea4e1a?d=https%3A%2F%2Fidenticons.github.com%2Fccb745f4b144d30c4b883330a1114834.png&amp;r=x&amp;s=140" width="20"> Dev Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
                
                <li ><a href="/categories/index.html">Categories</a></li>
                
                <li ><a href="/contact-us/index.html">Contact</a></li>
                
            </ul>
            <ul class="nav pull-right">
                
                
                <li><a href="http://linkedin.com/in/edmondscommerce" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
                
                
                
                <li><a href="http://plus.google.com/104488822194646220248" title="Google+ Profile"><i class="icon-google-plus-sign social-navbar"></i></a></li>
                
                
                
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:edmondscommerce.github.io">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index">
      
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-01-31T14:51:37+00:00" pubdate data-updated="true">Jan 31<span>st</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/jquery/create-a-scrollable-menu-with-an-onhover-effect.html">Create a Scrollable Menu With an onHover Effect</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>I was recently asked by a client to create a scrollable, navigation menu for their site. However, they wanted it to have an onHover submenu that expanded to the side, over the top of the scrollbar.</p>

<p>The problem with this is that there is noway to do this using normal css, over the overflow:scroll hides the sub menu. If you put the submenus into a different div outside the scrollable area, then you can run into problems with the onHover thinking you&rsquo;ve left the target.</p>

<p>To get round this I put together the following jQuery, HTML and CSS, which I hope will help someone.</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;categories&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;ul&gt;</span>
</span><span class='line'>      <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;level0 first parent&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;path/to/link&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="nt">&lt;p&gt;</span>First Item<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>          <span class="nt">&lt;/a&gt;</span>
</span><span class='line'>          <span class="nt">&lt;ul</span> <span class="na">style=</span><span class="s">&quot;display:none&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>              <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;level1 first parent&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;path/to/link&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                      <span class="nt">&lt;p&gt;</span>sublevel-1<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>                  <span class="nt">&lt;/a&gt;</span>
</span><span class='line'>                  <span class="nt">&lt;ul</span> <span class="na">style=</span><span class="s">&quot;display:none&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                      <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;level2 first&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                          <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;path/to/link&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                              <span class="nt">&lt;p&gt;</span>sub-sublevel1<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>                          <span class="nt">&lt;/a&gt;</span>
</span><span class='line'>                      <span class="nt">&lt;/li&gt;</span>
</span><span class='line'>                  <span class="nt">&lt;/ul&gt;</span>
</span><span class='line'>              <span class="nt">&lt;/li&gt;</span>
</span><span class='line'>          <span class="nt">&lt;/ul&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/li&gt;</span>
</span><span class='line'>      <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;level0&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>          <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;path/to/link&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>              <span class="nt">&lt;p&gt;</span>Second Item<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>          <span class="nt">&lt;/a&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/li&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/ul&gt;</span>
</span><span class='line'>  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;hoverMenu&quot;</span> <span class="na">style=</span><span class="s">&quot;display: none; &quot;</span><span class="nt">&gt;</span>
</span><span class='line'>      <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;subHoverMenu&quot;</span> <span class="na">style=</span><span class="s">&quot;display: none; &quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/div&gt;</span>
</span><span class='line'><span class="nt">&lt;/div&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nc">.categories</span><span class="p">{</span><span class="k">background</span><span class="o">:</span><span class="nb">white</span><span class="p">;</span><span class="k">height</span><span class="o">:</span><span class="m">310px</span><span class="p">;</span><span class="k">overflow</span><span class="o">:</span><span class="k">scroll</span><span class="p">;</span><span class="k">overflow-x</span><span class="o">:</span><span class="k">hidden</span><span class="p">;}</span>
</span><span class='line'><span class="nc">.categories</span> <span class="nc">.active</span><span class="p">{</span><span class="k">background</span><span class="o">:</span><span class="nb">red</span><span class="p">;}</span>
</span><span class='line'><span class="nc">.categories</span> <span class="nt">ul</span><span class="p">{</span><span class="k">padding</span><span class="o">:</span><span class="m">9px</span> <span class="m">10px</span> <span class="m">0</span> <span class="m">10px</span><span class="p">;}</span>
</span><span class='line'><span class="nc">.categories</span> <span class="nt">ul</span> <span class="nt">li</span> <span class="nt">a</span><span class="p">{</span><span class="k">color</span><span class="o">:</span><span class="nb">black</span><span class="p">;</span><span class="k">height</span><span class="o">:</span><span class="m">21px</span><span class="p">;</span><span class="k">line-height</span><span class="o">:</span><span class="m">21px</span><span class="p">;}</span>
</span><span class='line'><span class="nc">.categories</span> <span class="nt">ul</span> <span class="nt">li</span> <span class="nt">a</span> <span class="nt">p</span><span class="p">{</span><span class="k">font-size</span><span class="o">:</span><span class="m">13px</span><span class="p">;</span><span class="k">padding</span><span class="o">:</span><span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span><span class="p">;</span><span class="k">margin</span><span class="o">:</span><span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span><span class="p">;</span><span class="k">white-space</span><span class="o">:</span><span class="k">nowrap</span><span class="p">;}</span>
</span><span class='line'><span class="nc">.categories</span> <span class="nf">#hoverMenu</span><span class="p">{</span><span class="k">background</span><span class="o">:</span><span class="nb">white</span><span class="p">;</span><span class="k">height</span><span class="o">:</span><span class="k">auto</span><span class="p">;</span><span class="k">position</span><span class="o">:</span><span class="k">absolute</span><span class="p">;</span><span class="k">width</span><span class="o">:</span><span class="k">auto</span><span class="p">;</span><span class="k">z-index</span><span class="o">:</span><span class="m">150</span><span class="p">;}</span>
</span><span class='line'><span class="nc">.categories</span> <span class="nf">#hoverMenu</span> <span class="nc">.active</span><span class="p">{</span><span class="k">background</span><span class="o">:</span><span class="nb">red</span><span class="p">;}</span>
</span><span class='line'><span class="nc">.categories</span> <span class="nf">#hoverMenu</span> <span class="nt">li</span><span class="p">{</span><span class="k">padding</span><span class="o">:</span><span class="m">5px</span> <span class="m">10px</span> <span class="m">5px</span> <span class="m">20px</span><span class="p">;}</span>
</span><span class='line'><span class="nc">.categories</span> <span class="nf">#hoverMenu</span> <span class="nt">p</span><span class="p">{</span><span class="k">color</span><span class="o">:</span><span class="nb">black</span><span class="p">;</span><span class="k">font-size</span><span class="o">:</span><span class="m">13px</span><span class="p">;</span><span class="k">white-space</span><span class="o">:</span><span class="k">nowrap</span><span class="p">;}</span>
</span><span class='line'><span class="nc">.categories</span> <span class="nf">#hoverMenu</span> <span class="nf">#subHoverMenu</span><span class="p">{</span><span class="k">background</span><span class="o">:</span><span class="nb">white</span><span class="p">;</span><span class="k">width</span><span class="o">:</span><span class="k">auto</span><span class="p">;</span><span class="k">height</span><span class="o">:</span><span class="k">auto</span><span class="p">;</span><span class="k">position</span><span class="o">:</span><span class="k">absolute</span><span class="p">;</span><span class="k">z-index</span><span class="o">:</span><span class="m">150</span><span class="p">;}</span>
</span><span class='line'><span class="nc">.categories</span> <span class="nf">#hoverMenu</span> <span class="nf">#subHoverMenu</span> <span class="nc">.active</span><span class="p">{</span><span class="k">background</span><span class="o">:</span><span class="nb">red</span><span class="p">;}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'>   <span class="nx">jQuery</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;.categories li.level0&quot;</span><span class="p">).</span><span class="nx">mouseenter</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>          <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">siblings</span><span class="p">().</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">);</span>
</span><span class='line'>          <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">);</span>
</span><span class='line'>          <span class="k">if</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">&#39;parent&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>              <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#hoverMenu ul&#39;</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
</span><span class='line'>              <span class="kd">var</span> <span class="nx">pos</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">position</span><span class="p">();</span>
</span><span class='line'>              <span class="kd">var</span> <span class="nx">mouseX</span> <span class="o">=</span> <span class="nx">pos</span><span class="p">.</span><span class="nx">left</span> <span class="o">+</span> <span class="mi">175</span><span class="p">;</span>
</span><span class='line'>              <span class="kd">var</span> <span class="nx">mouseY</span> <span class="o">=</span> <span class="nx">pos</span><span class="p">.</span><span class="nx">top</span><span class="p">;</span>
</span><span class='line'>              <span class="kd">var</span> <span class="nx">subMenu</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">children</span><span class="p">(</span><span class="s1">&#39;ul:first&#39;</span><span class="p">)</span>
</span><span class='line'>              <span class="nx">subMenu</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="kc">true</span><span class="p">).</span><span class="nx">show</span><span class="p">().</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">&#39;#hoverMenu&#39;</span><span class="p">);</span>
</span><span class='line'>              <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#hoverMenu&#39;</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span><span class="s1">&#39;top&#39;</span><span class="o">:</span><span class="nx">mouseY</span><span class="p">,</span><span class="s1">&#39;left&#39;</span><span class="o">:</span><span class="nx">mouseX</span><span class="p">});</span>
</span><span class='line'>              <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#hoverMenu&#39;</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
</span><span class='line'>          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>              <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#hoverMenu ul&#39;</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
</span><span class='line'>              <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#hoverMenu&#39;</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>      <span class="p">})</span>
</span><span class='line'>      
</span><span class='line'>      <span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;.categories li.level1&quot;</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;mouseenter&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>          <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">siblings</span><span class="p">().</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">);</span>
</span><span class='line'>          <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">);</span>
</span><span class='line'>          <span class="k">if</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">children</span><span class="p">(</span><span class="s1">&#39;ul&#39;</span><span class="p">).</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>              <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#subHoverMenu&#39;</span><span class="p">).</span><span class="nx">empty</span><span class="p">();</span>
</span><span class='line'>              <span class="kd">var</span> <span class="nx">subPos</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">position</span><span class="p">();</span>
</span><span class='line'>              <span class="kd">var</span> <span class="nx">subMouseX</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">outerWidth</span><span class="p">();</span>
</span><span class='line'>              <span class="kd">var</span> <span class="nx">subMouseY</span> <span class="o">=</span> <span class="nx">subPos</span><span class="p">.</span><span class="nx">top</span><span class="p">;</span>
</span><span class='line'>              <span class="kd">var</span> <span class="nx">subSubMenu</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">children</span><span class="p">(</span><span class="s1">&#39;ul:first&#39;</span><span class="p">)</span>
</span><span class='line'>              <span class="nx">subSubMenu</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="kc">true</span><span class="p">).</span><span class="nx">show</span><span class="p">().</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">&#39;#subHoverMenu&#39;</span><span class="p">);</span>
</span><span class='line'>              <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#subHoverMenu&#39;</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span><span class="s1">&#39;top&#39;</span><span class="o">:</span><span class="nx">subMouseY</span><span class="p">,</span><span class="s1">&#39;left&#39;</span><span class="o">:</span><span class="nx">subMouseX</span><span class="p">});</span>
</span><span class='line'>              <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#subHoverMenu&#39;</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span>
</span><span class='line'>          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>              <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#subHoverMenu&#39;</span><span class="p">).</span><span class="nx">empty</span><span class="p">().</span><span class="nx">hide</span><span class="p">();</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>      <span class="p">})</span>
</span><span class='line'>      
</span><span class='line'>      <span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;.categories li.level2&quot;</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;mouseenter&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>          <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">siblings</span><span class="p">().</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">);</span>
</span><span class='line'>          <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">);</span>
</span><span class='line'>      <span class="p">})</span>
</span><span class='line'>      
</span><span class='line'>      <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#hoverMenu&#39;</span><span class="p">).</span><span class="nx">mouseleave</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>          <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#hoverMenu ul&#39;</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
</span><span class='line'>          <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#hovermenu&#39;</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
</span><span class='line'>          <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#subHoverMenu&#39;</span><span class="p">).</span><span class="nx">empty</span><span class="p">().</span><span class="nx">hide</span><span class="p">();</span>
</span><span class='line'>      <span class="p">})</span>
</span><span class='line'>      
</span><span class='line'>      <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#subHoverMenu&#39;</span><span class="p">).</span><span class="nx">mouseleave</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>          <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">empty</span><span class="p">().</span><span class="nx">hide</span><span class="p">();</span>
</span><span class='line'>      <span class="p">})</span>
</span><span class='line'>      
</span><span class='line'>      <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;.categories&#39;</span><span class="p">).</span><span class="nx">mouseleave</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>          <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#hoverMenu ul&#39;</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
</span><span class='line'>          <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#hoverMenu&#39;</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
</span><span class='line'>          <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;#subHoverMenu&#39;</span><span class="p">).</span><span class="nx">empty</span><span class="p">().</span><span class="nx">hide</span><span class="p">();</span>
</span><span class='line'>          <span class="nx">jQuery</span><span class="p">(</span><span class="s2">&quot;.col-left .category-list .categories li&quot;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">);</span>
</span><span class='line'>      <span class="p">})</span>
</span><span class='line'>  <span class="p">})</span>
</span></code></pre></td></tr></table></div></figure>


<p>Obviously, change styles and content as required</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-01-31T14:04:27+00:00" pubdate data-updated="true">Jan 31<span>st</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/start-windows-on-a-specified-workspace.html">Start Windows on a Specified Workspace</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>I rely on multiple desktops in order to keep my workflow organised. However each time I start up my computer I have to move these windows onto the correct desktop, which is a pain. Thankfully there is a way to place each window onto it&rsquo;s own desktop when your computer starts. This will explain the basics of doing this.</p>

<p>First you need to install a tool called wmcrtl. On ubuntu you can do this by running this command</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get install wmctrl</span></code></pre></td></tr></table></div></figure>


<p>Once this is installed you need to see how it thinks you desktop is set up. You can do this by running this command</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>wmctrl -d</span></code></pre></td></tr></table></div></figure>


<p>which give me the following result</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>0  * DG: 13440x1050  VP: 0,0  WA: 0,24 3360x1002  Workspace 1</span></code></pre></td></tr></table></div></figure>


<p>The important part is the 13440x1050 &ndash; which corresponds to 8 1680x1050 desktops. Some versions of ubuntu put each desktop as a separate workspace, if so you&rsquo;ll need to modify the instructions slightly.</p>

<p>At this point you can move you windows around so they are where you want them to be. Once you are happy with your layout, run the following command</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>wmctrl -lG</span></code></pre></td></tr></table></div></figure>


<p>which will give you something similar to this</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>0x0340002e  0 3360 48   1680 1002 ross-desktop Add New Post ‹ Edmonds Commerce — WordPress - Chromium
</span><span class='line'>0x02a00077  0 23002 106  253  970  ross-desktop Buddy List
</span><span class='line'>0x02200004  0 0    58   1680 1021 ross-desktop Terminal
</span><span class='line'>0x06400003  0 6720 58   1680 1021 ross-desktop *untitled - Geany
</span><span class='line'>...
</span></code></pre></td></tr></table></div></figure>


<p>This can be broken down as follows</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>window-id desktop-number  x-ofset y-ofset width   height  machine-name    window-title
</span></code></pre></td></tr></table></div></figure>


<p>Using this information you can put together a script that will run at startup to launch you windows.</p>

<p><strong>NB This script relies on the window title to move a window. This works because the script will be run at startup and it is assumed that you will only have one instance of each program running. If you plan to have multiple windows open, then you will need to get the window-id, go through the man pages for ways of doing this.</strong></p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>#!/bin/bash
</span><span class='line'>geany /tmp/scratch.sql /tmp/scratch.php &
</span><span class='line'>x-terminal-emulator &
</span><span class='line'># allow the windows to spawn before moving them
</span><span class='line'>sleep 5
</span><span class='line'># select and move the windows
</span><span class='line'># format wmctrl -r "window to move" -e gravity,x-pos,y-pos,width,height (-1 keeps the current value)
</span><span class='line'>wmctrl -r "scratch.php - /tmp - Geany" -e 0,6720,0,-1,-1
</span><span class='line'>wmctrl -r "Terminal" -e 0,3360,0,-1,-1
</span></code></pre></td></tr></table></div></figure>


<p>save the file and make it executable, and then run it at startup to have your windows automatically appear where you want them. This is just scratching the surface of what wmctrl can do, so if you want to carry out more windows management from the command line go through the man pages and see if it can do what you want.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-01-30T17:25:16+00:00" pubdate data-updated="true">Jan 30<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/plesk/how-to-extract-files-from-plesk-backups.html">How to Extract Files From Plesk Backups</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>So you have a plesk backup file and you want to extract and open the files from it? No problem. This blog will show you how.</p>

<p>The file is a mime file. The &ldquo;mpack&rdquo; package will let you unpack it.</p>

<p>First we install the &ldquo;mpack&rdquo; package</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo apt-get install mpack</span></code></pre></td></tr></table></div></figure>


<p>Let&rsquo;s imagine your file is called &ldquo;pleskDump.gz&rdquo;. If it doesn&rsquo;t have a &ldquo;.gz&rdquo; at the end it might not be bad to add it as some environments will complain if it&rsquo;s absent.</p>

<p>Next we unzip the file</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gunzip pleskDump.gz</span></code></pre></td></tr></table></div></figure>


<p>Now let&rsquo;s un-mime the file</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mkdir pleskDumpOutput
</span><span class='line'>cd pleskDumpOutput
</span><span class='line'>cat ../pleskDump | munpack</span></code></pre></td></tr></table></div></figure>


<p>Now we have a bunch of regular tar files, but be careful, if we just extract them, the root folders will not be recreated. In order to keep things together, it&rsquo;s best now to look at the output you have. Let&rsquo;s take a made up example:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>example-domain.com.httpdocs</span></code></pre></td></tr></table></div></figure>


<p>Note that the format is essentially domain.rootfolder or in another way, the tar files have your domain name they are archiving, then a dot, then the name of the root folder they made up. We take that root folder and create it like this:</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mkdir rootfolder</span></code></pre></td></tr></table></div></figure>


<p>Now let&rsquo;s apply that idea to our previoud example; &ldquo;example-domain.com&rdquo;</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mkdir httpdocs</span></code></pre></td></tr></table></div></figure>


<p>It&rsquo;s time to untar into the folder you just created, let&rsquo;s assume you just created &ldquo;httpdocs&rdquo;</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>tar -xvf example-domain.com.httpdocs -C httpdocs</span></code></pre></td></tr></table></div></figure>


<p>There you go! You can now output any of the folders you wanted.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-01-23T15:22:03+00:00" pubdate data-updated="true">Jan 23<span>rd</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/php-force-download-with-custom-filename.html">PHP Force Download With Custom Filename</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you want to serve up text files for download (perhaps product feeds etc) then you might like this little snippet.</p>

<p>Not only will it force the file to be downloaded but it allows you to specify a custom filename that it should be saved as.</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">if</span><span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">&#39;download_file&#39;</span><span class="p">])){</span>
</span><span class='line'>    <span class="nx">header</span><span class="p">(</span><span class="s2">&quot;Content-type: application/octet-stream&quot;</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">header</span><span class="p">(</span><span class="s2">&quot;Content-Disposition: attachment; filename=Export.txt&quot;</span><span class="p">);</span>
</span><span class='line'>    <span class="nb">readfile</span><span class="p">(</span><span class="s1">&#39;Export.txt&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="k">die</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-01-23T14:41:44+00:00" pubdate data-updated="true">Jan 23<span>rd</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-2-key-points-for-developers.html">Magento 2 - Key Points for Developers!</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>The first development release of Magento 2 has a few areas worthy of note for developers of the coming changes to Magento.</p>

<p>Magento 2 now requires PHP 5.3
Zend is still version 1.11.1.
Magento 2 now implements templates on a per modules basis. So now all the different bits of the theme are separated into the modules it belongs to. This means that any existing version 1 theme cannot be dropped into version 2.
Themes in Magento 2 have the concept of variations of the same theme. So a theme can have different CSS and images but use the same templates, this can be configured per store per user agent in the admin. This is useful if you have different seasonable themes that are the same as each other but with a few different images and colours. To achieve the same in Magento 1 you would have to use packages and Magento&rsquo;s ability to cascade up, this is not longer necessary.</p>

<p>This development release of Magento has a major focus on updating the theme and template system to be more ridged unlike Magento version 1 where the template files could be basically any where within a theme.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-01-23T07:37:53+00:00" pubdate data-updated="true">Jan 23<span>rd</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-2-source-code-available-on-github.html">Magento 2 Source Code Available on GitHub</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>Magento version two is coming. For those of us who are eagerly awaiting the next major version of the most popular and powerful open source e-commerce platform, you can now see, track and download the code on GitHub.</p>

<p>Not had chance to have an in depth look as yet but we expect great things!</p>

<p><a href="https://github.com/magento/magento2"><a href="https://github.com/magento/magento2">https://github.com/magento/magento2</a></a></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-01-21T16:44:43+00:00" pubdate data-updated="true">Jan 21<span>st</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/adding-confirm-e-mail-address-field-to-magento-frontend-forms.html">Adding Confirm E-mail Address Field to Magento Frontend Forms</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you are thinking of adding a confirmation of e-mail address to the front-end registration pages of your store e.g the Checkout billing page or the customer account registration, the little snippets below could be of use to you</p>

<p><strong>For the Checkout billing page</strong>
1. Locate the magento checkout billing page (billing.phtml) which can be found in  app/design/frontend/default/&lt;package_name>/template/checkout/onepage
2. Add code 1 below where situable;
<strong>Code 1</strong></p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;field&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;billing:confirm_email&quot;</span> <span class="na">class=</span><span class="s">&quot;required&quot;</span><span class="nt">&gt;&lt;em&gt;</span>*<span class="nt">&lt;/em&gt;</span><span class="cp">&lt;?php echo $this-&gt;__(&#39;Confirm Email Address&#39;) ?&gt;</span><span class="nt">&lt;/label&gt;</span>
</span><span class='line'><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;input-box&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;billing[confirm_email]&quot;</span> <span class="na">title=</span><span class="s">&quot;&lt;?php echo $this-&gt;__(&#39;Confirm Email&#39;) ?&gt;&quot;</span> <span class="na">id=</span><span class="s">&quot;billing:confirm_email&quot;</span> <span class="na">class=</span><span class="s">&quot;input-text required-entry validate-cemail&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/div&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>For the validation of this email confirmation field with the actual email field
3. Locate the Javascript file which Magento uses for validation (validation.js) in /js/prototype
4. Add code 3 where suitable e.g immediately after this line(code 2) in validation.js
<strong>Code 2</strong></p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="k">return</span> <span class="o">!</span><span class="p">(</span><span class="nx">pass</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">7</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}],</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Code 3</strong></p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="p">[</span><span class="s1">&#39;validate-cemail&#39;</span><span class="p">,</span> <span class="s1">&#39;Please make sure your emails match.&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">conf</span> <span class="o">=</span> <span class="nx">$$</span><span class="p">(</span><span class="s1">&#39;.validate-cemail&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">pass</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'><span class="nx">pass</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">emailElements</span> <span class="o">=</span> <span class="nx">$$</span><span class="p">(</span><span class="s1">&#39;.validate-email&#39;</span><span class="p">);</span>
</span><span class='line'><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">emailElements</span><span class="p">.</span><span class="nx">size</span><span class="p">();</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">emailElement</span> <span class="o">=</span> <span class="nx">emailElements</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nx">emailElement</span><span class="p">.</span><span class="nx">up</span><span class="p">(</span><span class="s1">&#39;form&#39;</span><span class="p">).</span><span class="nx">id</span> <span class="o">==</span> <span class="nx">conf</span><span class="p">.</span><span class="nx">up</span><span class="p">(</span><span class="s1">&#39;form&#39;</span><span class="p">).</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="nx">pass</span> <span class="o">=</span> <span class="nx">emailElement</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nx">$$</span><span class="p">(</span><span class="s1">&#39;.validate-admin-email&#39;</span><span class="p">).</span><span class="nx">size</span><span class="p">())</span> <span class="p">{</span>
</span><span class='line'><span class="nx">pass</span> <span class="o">=</span> <span class="nx">$$</span><span class="p">(</span><span class="s1">&#39;.validate-admin-email&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">return</span> <span class="p">(</span><span class="nx">pass</span><span class="p">.</span><span class="nx">value</span> <span class="o">==</span> <span class="nx">conf</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</span><span class='line'><span class="p">}],</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then that should just do exactly what you want.</p>

<p><strong>For the Customer Account Registration page</strong></p>

<ol>
<li>Locate the magento account register page ,register.phtml in
app/design/frontend/&lt;package_name>/default/template/persistent/customer/form/</li>
<li>Include code 4 where suitable
<strong>Code 4</strong></li>
</ol>


<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;field&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;confirm_email&quot;</span> <span class="na">class=</span><span class="s">&quot;required&quot;</span><span class="nt">&gt;&lt;em&gt;</span>*<span class="nt">&lt;/em&gt;</span><span class="cp">&lt;?php echo $this-&gt;__(&#39;Confirm Email Address&#39;) ?&gt;</span><span class="nt">&lt;/label&gt;</span>
</span><span class='line'><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;input-box&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;confirm_email&quot;</span> <span class="na">title=</span><span class="s">&quot;&lt;?php echo $this-&gt;__(&#39;Confirm Email&#39;) ?&gt;&quot;</span> <span class="na">id=</span><span class="s">&quot;confirm_email&quot;</span> <span class="na">class=</span><span class="s">&quot;input-text required-entry validate-cemail&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/div&gt;</span>
</span><span class='line'><span class="nt">&lt;/div&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>After this, you should have another field on your registration page which can be subjected to any styling you need to do, most importantly when styling do not change the tag id&rsquo;s and class names, in a situation where you need to change them, you must also change the javascript selectors accordingly.</p>

<p>I hope this works for you.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-01-20T15:36:02+00:00" pubdate data-updated="true">Jan 20<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-custom-product-type-as-configurable-product.html">Magento Custom Product Type as Configurable Product</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you have created a new product type and need to enable it to be included with configurable products you need to let Magento know that it should allow your product type to work with configurable products. To do this open your config xml and add the following xml.</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;config&gt;</span>
</span><span class='line'>    <span class="nt">&lt;global&gt;</span>
</span><span class='line'>        <span class="nt">&lt;catalog&gt;</span>
</span><span class='line'>            <span class="nt">&lt;product&gt;</span>
</span><span class='line'>                <span class="nt">&lt;type&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;configurable</span> <span class="na">translate=</span><span class="s">&quot;label&quot;</span> <span class="na">module=</span><span class="s">&quot;catalog&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                        <span class="nt">&lt;allow_product_types&gt;</span>
</span><span class='line'>                            <span class="nt">&lt;custom_type_name/&gt;</span>
</span><span class='line'>                        <span class="nt">&lt;/allow_product_types&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;/configurable&gt;</span>
</span><span class='line'>                <span class="nt">&lt;/type&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/product&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/catalog&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/global&gt;</span>
</span><span class='line'><span class="nt">&lt;/config&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>This tells Magento to include your product type for use with configurable products.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-01-20T15:19:23+00:00" pubdate data-updated="true">Jan 20<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/how-to-get-a-configurable-products-parent-in-magento.html">How to Get a Configurable Products Parent in Magento</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>I recently needed magento to be able to load a product, and if that product was part of a configurable product detect this and return the parent product if that existed. Looking around google I came across this code snippet and thought it should work</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$_product</span> <span class="o">=</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">getModel</span><span class="p">(</span><span class="s1">&#39;catalog/product&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">load</span><span class="p">(</span><span class="nv">$productId</span><span class="p">);</span>
</span><span class='line'><span class="nv">$parentIdArray</span> <span class="o">=</span> <span class="nv">$_product</span><span class="o">-&gt;</span><span class="na">loadParentProductIds</span><span class="p">()</span>
</span><span class='line'>                 <span class="o">-&gt;</span><span class="na">getData</span><span class="p">(</span><span class="s1">&#39;parent_product_ids&#39;</span><span class="p">);</span>
</span><span class='line'><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$parentIdArray</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// do something</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The problem is that the loadParentProductIds method was depreciated in 1.4.2.0 and I&rsquo;m running 1.6. The new way of doing detecting if a product has a parent is to do this</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$configurable_product_model</span> <span class="o">=</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">getModel</span><span class="p">(</span><span class="s1">&#39;catalog/product_type_configurable&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nv">$parentIdArray</span><span class="o">=</span> <span class="nv">$configurable_product_model</span><span class="o">-&gt;</span><span class="na">getParentIdsByChild</span><span class="p">(</span><span class="nv">$productId</span><span class="p">);</span>
</span><span class='line'><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$parentIdArray</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// do something</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Using this method I overrode the Mage_Catalog_Model_Product class and added this method, which will always return a configurable product if the product is associated with one. Be aware, that if you products belong to more than one configurable product you will have to modify the logic</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">getConfigurableProduct</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">switch</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">type_id</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">case</span> <span class="s1">&#39;configurable&#39;</span><span class="o">:</span>
</span><span class='line'>          <span class="k">return</span> <span class="nv">$this</span><span class="p">;</span>
</span><span class='line'>          <span class="k">break</span><span class="p">;</span>
</span><span class='line'>      <span class="k">default</span><span class="o">:</span>
</span><span class='line'>          <span class="nv">$configurable_product_model</span> <span class="o">=</span> <span class="nx">Mage</span><span class="o">::</span><span class="na">getModel</span><span class="p">(</span><span class="s1">&#39;catalog/product_type_configurable&#39;</span><span class="p">);</span>
</span><span class='line'>          <span class="nv">$parentId</span><span class="o">=</span> <span class="nv">$configurable_product_model</span><span class="o">-&gt;</span><span class="na">getParentIdsByChild</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getId</span><span class="p">());</span>
</span><span class='line'>          <span class="k">if</span><span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$parentId</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="p">{</span>
</span><span class='line'>              <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="p">(</span><span class="nv">$parentId</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>          <span class="k">break</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="nv">$this</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-01-19T16:15:47+00:00" pubdate data-updated="true">Jan 19<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/job/php-job-bradford.html">PHP Job Bradford</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you are a PHP developer looking for a job in the Bradford area then please do get in touch with Edmonds Commerce.</p>

<p>We are a team of PHP developers who focus on e-commerce based on open source packages such as <a href="http://www.edmondscommerce.co.uk">Magento</a>, osCommerce, Prestashop, OpenCart and others. We also do a fair bit of Wordpress, Drupal, Zend Framework etc as well. We even do bespoke PHP development.</p>

<p>If you are a skilled PHP developer and would like to join a team of enthusiastic developers in a friendly flexible environment with a focus on productivity, personal skills development and fun then get in touch with us today.</p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/page/28/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next"><a href="/page/26/">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/linux/using-pipe-viewer-for-an-easy-cli-progress-bar.html">Using Pipe Viewer for an Easy CLI Progress Bar</a>
    
    <a class="list-group-item " href="/gmail/sharing-google-drive-documents-from-gmail-when-sending-emails.html">Sharing Google Drive Documents From Gmail When Sending Emails</a>
    
    <a class="list-group-item " href="/bash/finding-out-the-biggest-folders-in-a-magento-or-other-website-root.html">Finding Out the Biggest Folders in a Magento or Other Website Root</a>
    
    <a class="list-group-item " href="/magento/redirect-to-previous-page-in-magento-after-logout.html">Redirect to Previous Page in Magento After Logout</a>
    
    <a class="list-group-item " href="/php/running-php-scripts-on-cli-and-faking-a-web-request.html">Running PHP Scripts on CLI and Faking a Web Request</a>
    
  </div>
</section>




<section class="googleplus panel panel-default">
  <div class="panel-body">
    <h3>
      <a href="https://plus.google.com/104488822194646220248?rel=author">
        <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
        Google+
      </a>
    </h3>
  </div>
</section>


<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">About Us</h3>
    </div>
    <div class="panel-body">
        <p>
            <a href="http://www.edmondscommerce.co.uk">Edmonds Commerce</a> are a UK based E-Commerce web development
            agency.
        </p>

        <p>
            We are based in <a href="http://www.yorkshire.com/">Yorkshire</a> near <a
                href="http://www.visitleeds.co.uk/">Leeds</a> and <a href="http://www.visitbradford.com/">Bradford</a>.
        </p>

        <p>
            Our primary specialism is <a href="http://magento.com/">Magento</a> and other PHP based E-Commerce platforms
            such as <a href="http://www.opencart.com/">OpenCart</a>.
        </p>

        <p>
            In terms of technology we are very strong in:
        <ul>
            <li><a href="http://php.net/">PHP</a>,</li>
            <li><a href="http://www.mysql.com/">MySQL</a>,</li>
            <li><a href="http://www.linuxfoundation.org/">Linux</a>,</li>
            <li><a href="http://www.w3.org/standards/techs/html#w3c_all">HTML<a/>,</li>
            <li><a href="http://www.w3.org/Style/CSS/Overview.en.html">CSS</a></li>
            <li><a href="http://en.wikipedia.org/wiki/JavaScript">Javascript</a>.</li>
        </ul>
        </p>
    </div>
</section>

<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Commercial Enquiries</h3>
    </div>
    <div class="panel-body">
        <p>
            If you would like to discuss your project requirements then please get in touch today.
        </p>

        <p>
            <a href="http://www.edmondscommerce.co.uk">www.edmondscommerce.co.uk</a><br/><br/>
            <a href="mailto:info@edmondscommerce.co.uk">info@edmondscommerce.co.uk</a><br/><br/>
            <a href="tel:00441274590036">+44 1274 590036</a>
        </p>
    </div>
</section>

      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2014 - EdmondsCommerce Development Team<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>






  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </body>
</html>
