<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Edmonds Commerce Dev Blog</title>
  <meta name="author" content="EdmondsCommerce Development Team">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://edmondscommerce.github.io/page/16">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Edmonds Commerce Dev Blog" type="application/atom+xml">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27853727-2', 'edmondscommerce.github.io');
  ga('send', 'pageview');

</script>

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img height="20" src="https://2.gravatar.com/avatar/04b807394911b26ea8a79dbe25ea4e1a?d=https%3A%2F%2Fidenticons.github.com%2Fccb745f4b144d30c4b883330a1114834.png&amp;r=x&amp;s=140" width="20"> Dev Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
                
                <li ><a href="/categories/index.html">Categories</a></li>
                
                <li ><a href="/contact-us/index.html">Contact</a></li>
                
            </ul>
            <ul class="nav pull-right">
                
                
                <li><a href="http://linkedin.com/in/edmondscommerce" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
                
                
                
                <li><a href="http://plus.google.com/104488822194646220248" title="Google+ Profile"><i class="icon-google-plus-sign social-navbar"></i></a></li>
                
                
                
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:edmondscommerce.github.io">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index">
      
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-08-21T18:29:43+01:00" pubdate data-updated="true">Aug 21<span>st</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/scraping/simple-php-scraping-with-jquery-like-selectors-using-simpledom.html">Simple PHP Scraping With jQuery Like Selectors Using Simple HTML Dom</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you need to do some HTML parsing, scraping etc then you generally have the choice of using the DOM approach to parse the HTML or using regex to pull bits out. I quite like both approaches, there are pros and cons to both so having both options available is the best to ensure you use the right tool for the job on a case by case basis.</p>

<p>Recently though I discovered Simple HTML Dom. This makes the DOM based approach almost ridiculously easy, especially if you are comfortable with jQuery like selectors for pulling out specific DOM nodes.</p>

<p>You can read all about it here:
<a href="http://simplehtmldom.sourceforge.net/manual.htm" title="Simple HTML Dom" target="_blank"><a href="http://simplehtmldom.sourceforge.net/manual.htm">http://simplehtmldom.sourceforge.net/manual.htm</a></a></p>

<p>First impressions are really good, its very easy and the lead in time from installation to using is really fast. I like that, never been much of a fan of having to RTFM for everything!</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-08-21T17:09:55+01:00" pubdate data-updated="true">Aug 21<span>st</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/debugging-output-buffering-being-disabled.html">Debugging Output Buffering Being Disabled</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you are confused as to exactly which bit of code is killing your output buffer in PHP then you might love this little trick. Combined with Xdebug it can get you to the root of the problem quickly and easily.</p>

<p>The trick involves using the callback function capability of ob_start.</p>

<p>Firstly you need to make a callback handler, for example:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">function</span> <span class="nf">ob_callback</span><span class="p">(){</span>
</span><span class='line'>    <span class="k">echo</span> <span class="s1">&#39;wtf&#39;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then in your IDE, set a break point on the echo line. If you aren&rsquo;t using Xdebug, you could do something like this instead:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">function</span> <span class="nf">ob_callback</span><span class="p">(){</span>
</span><span class='line'>    <span class="k">echo</span> <span class="s1">&#39;&lt;h1&gt;Output Buffer Has Been Killed&lt;/h1&gt;&lt;pre&gt;&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="nb">var_dump</span><span class="p">(</span><span class="nb">debug_backtrace</span><span class="p">());</span>
</span><span class='line'>    <span class="k">die</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then where you are starting your output buffer, simply pass in the function name as a parameter like so:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nb">ob_start</span><span class="p">(</span><span class="s1">&#39;ob_callback&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-08-21T16:50:52+01:00" pubdate data-updated="true">Aug 21<span>st</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/xampp-1-8-is-out.html">Xampp 1.8 Is Out!</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>A new version of Xampp has been release which includes PHP 5.4! Remember that instantly jumping to the latest version of PHP is not necessarily a good idea as numerous deprecated features may have been removed and others may now be deprecated and cause issues in your applications. Check the PHP 5.4 release announcement for the major changes: <a href="http://php.net/releases/5_4_0.php">http://php.net/releases/5_4_0.php</a></p>

<p>The Xampp 1.8 release also includes numerous other updates including phpMyAdmin, MySQL and many more of the applications bundled with it.</p>

<p>Grab the new version here <a href="http://sourceforge.net/projects/xampp/files/">http://sourceforge.net/projects/xampp/files/</a></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-08-21T16:31:15+01:00" pubdate data-updated="true">Aug 21<span>st</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/xdebug-php-and-command-line-scripts.html">Xdebug PHP and Command Line Scripts</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>I had a requirement to use Xdebug to step through a PHP script that is being run on the command line.</p>

<p>Oh no I thought, this is bound to be really complicated to figure out because I normally use the web browser and I have never done this before.</p>

<p>Pleasant surprise, its actually really easy to do this, all you need to do on the command line is run the following command:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">export </span><span class="nv">XDEBUG_CONFIG</span><span class="o">=</span>&amp;quot;idekey<span class="o">=</span>netbeans-xdebug&amp;quot;
</span></code></pre></td></tr></table></div></figure>


<p>Then get your IDE (PHPStorm for me) listening for Xdebug and then run your PHP file on the command line.</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>php ./myfile.php
</span></code></pre></td></tr></table></div></figure>


<p>That&rsquo;s it, it just works.</p>

<p>One caveat (which I actually quite like) is that it will now ALWAYS get picked up by xdebug which could get in your way. To stop this, simply unset the variable like this:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">unset </span>XDEBUG_CONFIG
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-08-21T13:24:37+01:00" pubdate data-updated="true">Aug 21<span>st</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/apache-access-logs-find-spiders-by-counting-requests-to-ip-addresses.html">Apache Access Logs Find Spiders by Counting Requests to IP Addresses</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you would like a quick summary of the IP addresses that are beating the **** out of your server by firing lots of requests for quite possibly malicious or otherwise nefarious reasons then try this little bash script:</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'><span class="nv">LOG_FILE</span><span class="o">=</span>/var/www/vhosts/DOMAIN.co.uk/statistics/logs/access_log
</span><span class='line'><span class="nv">OUT_FILE</span><span class="o">=</span>/tmp/spider_analysis
</span><span class='line'>
</span><span class='line'><span class="c">#This generates a file with the top 20 IP addresses by number of requests</span>
</span><span class='line'>cat <span class="nv">$LOG_FILE</span> | awk <span class="s1">&#39;{print $1}&#39;</span> | sort | uniq -c | sort -nr | head -n 20 &gt; <span class="nv">$OUT_FILE</span>
</span><span class='line'>
</span><span class='line'><span class="nb">echo</span> <span class="s2">&quot;Top 20 IP addresses by number of request&quot;</span>
</span><span class='line'>cat <span class="nv">$OUT_FILE</span>
</span><span class='line'>
</span><span class='line'><span class="c">#allow for loop to split on new line</span>
</span><span class='line'><span class="nv">IFS_BAK</span><span class="o">=</span><span class="nv">$IFS</span>
</span><span class='line'><span class="nv">IFS</span><span class="o">=</span><span class="s2">&quot;</span>
</span><span class='line'><span class="s2">&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="k">for </span>i in <span class="sb">`</span>cat <span class="nv">$OUT_FILE</span><span class="sb">`</span>
</span><span class='line'><span class="k">do</span>
</span><span class='line'><span class="k">    </span><span class="nv">COUNT</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="nv">$i</span> | awk <span class="s1">&#39;{print $1}&#39;</span><span class="sb">`</span>
</span><span class='line'>    <span class="nv">IP_ADD</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="nv">$i</span> | awk <span class="s1">&#39;{print $2}&#39;</span><span class="sb">`</span>
</span><span class='line'>    <span class="nb">echo</span> <span class="s2">&quot;&quot;</span>
</span><span class='line'>    <span class="nb">echo</span> <span class="s2">&quot;---------------------------------&quot;</span>
</span><span class='line'>    <span class="nb">echo</span> <span class="s2">&quot;&quot;</span>
</span><span class='line'>    <span class="nb">echo</span> <span class="s2">&quot;$IP_ADD has made $COUNT requests&quot;</span>
</span><span class='line'>    <span class="nb">echo</span> <span class="s2">&quot;Whois Information&quot;</span>
</span><span class='line'>    whois <span class="nv">$IP_ADD</span>
</span><span class='line'>    <span class="c">#lynx -dump http://who.cc/$IP_ADD # whois was blocked on the server i was using for some reason, use lynx as a work around</span>
</span><span class='line'>    <span class="nb">echo</span> <span class="s2">&quot;&quot;</span>
</span><span class='line'>    <span class="nb">echo</span> <span class="s2">&quot;---------------------------------&quot;</span>
</span><span class='line'>    <span class="nb">echo</span> <span class="s2">&quot;&quot;</span>
</span><span class='line'><span class="k">done</span>
</span><span class='line'>
</span><span class='line'><span class="c"># set that back</span>
</span><span class='line'><span class="nv">IFS</span><span class="o">=</span><span class="nv">$IFS_BAK</span>
</span><span class='line'><span class="nv">IFS_BAK</span><span class="o">=</span>
</span></code></pre></td></tr></table></div></figure>


<p>You would use this to give you some idea of which IPs are hitting the server a lot.</p>

<p>Usually you would expect to see a lot of these being search engines which you likely want to allow. However if you see any domestic or other IP addresses then you may choose to block these.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-08-17T15:57:47+01:00" pubdate data-updated="true">Aug 17<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-security-update.html">Magento Security Update Testimonials</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you run a Magento store or are otherwise familiar with the world of Magento then you have no doubt seen the urgent security patch that live stores needed to apply quickly.</p>

<p>We opted to offer the security patching service for free to our existing clients and then also to the rest of the world. The process of applying the patch is quick and painless thanks to a nice Bash script we put together so there was really no problem in offering this service. <a href="http://www.edmondscommerce.co.uk/magento/magento-security-vulnerability-free-assistance/">You can read all about that offer here</a>. For anyone still not patched, the offer still stands.</p>

<p>Since that time we have had a few nice testimonials which we thought we would share:</p>

<p><b>Chris from Mobile CAD Surveying</b></p>

<blockquote>Thank-you to Edmonds Commerce for highlighting a recent Magento security breach that we were unaware of. Edmonds let us know about this problem and offered to fix it for us at no cost.  We gave them our log in details and within an hour a patch had been installed and everything was working fine.
Thanks once again to Edmonds for their professional service and for attending to this matter very swiftly.
</blockquote>


<p><a href="http://www.mobilecadsurveying.co.uk/" title="Mobile CAD Surveying" target="_blank">Mobile CAD Surveying Ltd</a></p>

<p><b>Mark Noble, IT Manager at Buckley Jewellery</b></p>

<blockquote>Buckley Jewellery originally approached Edmonds Commerce to take our existing site and develop it onto a Magento platform.
Since this first project we have used Joseph and his team for a further website and additional work to develop & expand our ecommerce business.
The offer of installing the Magento patch across our websites was typical of a company who provide an honest and refreshing approach to website design.
I would not hesitate to recommend Edmonds Commerce for any ecommerce development and advice.</blockquote>


<p><a href="http://www.buckley-jewellery.com/" title="Buckley Jewellery" target="_blank">Buckley Jewellery</a></p>

<p><b>Clare from Libertinesque</b></p>

<blockquote>
I can thoroughly recommend Joseph and his team for such a fantastic service and the security patch which was generously offered as a free service and efficiently applied with a very quick response time. Giving great personal attention every time, I have no hesitation in recommending the team for Magento upgrades and service.
</blockquote>


<p><a href="http://www.libertinesque.com/" target="_blank">Libertinesque</a></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-08-17T15:31:32+01:00" pubdate data-updated="true">Aug 17<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/magento-profiler-improved-aoe_profiler-by-fabrizio-branca.html">Magento Profiler Improved - Aoe_Profiler by Fabrizio Branca</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>The Magento profiler is useful when you are trying to discover what potential bottlenecks are in place in a specific Magento implementation that are slowing down the performance of the site. Often when doing this kind of analysis you might find that a particular block or extension is responsible for more than 70% of the total page load time. At this point you would choose to either optimise, cache or disable the block altogether to remove this performance bottleneck and improve page speed significantly.</p>

<p>If you have ever tried to use Magento&rsquo;s built in profiler you will no doubt agree with Fabrizio&rsquo;s comments that, when you have it working, the output is hard to read and not really very useful in terms of seeing what is actually going on.</p>

<p>To aid with this process and give us a nice colourful and friendly user interface to the Magento profiler, Fabrizio has built a Magento module that extends the default profiler and makes it a much more useful tool.</p>

<p>You can download the extension from <a href="https://github.com/fbrnc/Aoe_Profiler" title="Magento Aoe Profiler on Git Hub" target="_blank">git hub here</a>.</p>

<p>Read the full blog story <a href="http://www.fabrizio-branca.de/magento-profiler.html" title="Fabrizio Branch blog" target="_blank">here</a>.</p>

<p>If you would like some help optimising the performance of your Magento store, feel free to get in touch with Edmonds Commerce today and we can assist in getting the very best performance from your Magento web site.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-08-16T15:45:56+01:00" pubdate data-updated="true">Aug 16<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/bash/format-searched-log-files.html">Format Searched Log Files</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>When you are monitoring a log file you may want to narrow it down, and format the results. This simple one line command will break up the output from a log file to make it easier to quickly read</p>

<p><code>
tail -f /path/to/log | grep &ldquo;search term&rdquo; | sed &rsquo;s/(.*)/&mdash;&mdash;&mdash;&mdash;&mdash;\n\1\n&mdash;&mdash;&mdash;&mdash;&mdash;/&lsquo;
</code></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-08-15T14:17:17+01:00" pubdate data-updated="true">Aug 15<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/get-all-product-attributes-for-a-magento-object-using-sql.html">Get All Product Attributes for a Magento Object Using SQL</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>Sometimes you may want to quickly compare all of the attributes that object (category / product) has in magento. The EAV structure of the database makes this difficult to do this simply, so this is a query that will do it for you</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="p">(</span>
</span><span class='line'>    <span class="k">SELECT</span>
</span><span class='line'>        <span class="n">ce</span><span class="p">.</span><span class="n">sku</span><span class="p">,</span>
</span><span class='line'>        <span class="n">ea</span><span class="p">.</span><span class="n">attribute_id</span><span class="p">,</span>
</span><span class='line'>        <span class="n">ea</span><span class="p">.</span><span class="n">attribute_code</span><span class="p">,</span>
</span><span class='line'>        <span class="k">CASE</span> <span class="n">ea</span><span class="p">.</span><span class="n">backend_type</span>
</span><span class='line'>           <span class="k">WHEN</span> <span class="s1">&#39;varchar&#39;</span> <span class="k">THEN</span> <span class="n">ce_varchar</span><span class="p">.</span><span class="n">value</span>
</span><span class='line'>           <span class="k">WHEN</span> <span class="s1">&#39;int&#39;</span> <span class="k">THEN</span> <span class="n">ce_int</span><span class="p">.</span><span class="n">value</span>
</span><span class='line'>           <span class="k">WHEN</span> <span class="s1">&#39;text&#39;</span> <span class="k">THEN</span> <span class="n">ce_text</span><span class="p">.</span><span class="n">value</span>
</span><span class='line'>           <span class="k">WHEN</span> <span class="s1">&#39;decimal&#39;</span> <span class="k">THEN</span> <span class="n">ce_decimal</span><span class="p">.</span><span class="n">value</span>
</span><span class='line'>           <span class="k">WHEN</span> <span class="s1">&#39;datetime&#39;</span> <span class="k">THEN</span> <span class="n">ce_datetime</span><span class="p">.</span><span class="n">value</span>
</span><span class='line'>           <span class="k">ELSE</span> <span class="n">ea</span><span class="p">.</span><span class="n">backend_type</span>
</span><span class='line'>        <span class="k">END</span> <span class="k">AS</span> <span class="n">value</span><span class="p">,</span>
</span><span class='line'>        <span class="n">ea</span><span class="p">.</span><span class="n">is_required</span> <span class="k">AS</span> <span class="n">required</span>
</span><span class='line'>    <span class="k">FROM</span> <span class="n">catalog_product_entity</span> <span class="k">AS</span> <span class="n">ce</span>
</span><span class='line'>    <span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">eav_attribute</span> <span class="k">AS</span> <span class="n">ea</span>
</span><span class='line'>        <span class="k">ON</span> <span class="n">ce</span><span class="p">.</span><span class="n">entity_type_id</span> <span class="o">=</span> <span class="n">ea</span><span class="p">.</span><span class="n">entity_type_id</span>
</span><span class='line'>    <span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">catalog_product_entity_varchar</span> <span class="k">AS</span> <span class="n">ce_varchar</span>
</span><span class='line'>        <span class="k">ON</span> <span class="n">ce</span><span class="p">.</span><span class="n">entity_id</span> <span class="o">=</span> <span class="n">ce_varchar</span><span class="p">.</span><span class="n">entity_id</span>
</span><span class='line'>        <span class="k">AND</span> <span class="n">ea</span><span class="p">.</span><span class="n">attribute_id</span> <span class="o">=</span> <span class="n">ce_varchar</span><span class="p">.</span><span class="n">attribute_id</span>
</span><span class='line'>        <span class="k">AND</span> <span class="n">ea</span><span class="p">.</span><span class="n">backend_type</span> <span class="o">=</span> <span class="s1">&#39;varchar&#39;</span>
</span><span class='line'>    <span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">catalog_product_entity_int</span> <span class="k">AS</span> <span class="n">ce_int</span>
</span><span class='line'>        <span class="k">ON</span> <span class="n">ce</span><span class="p">.</span><span class="n">entity_id</span> <span class="o">=</span> <span class="n">ce_int</span><span class="p">.</span><span class="n">entity_id</span>
</span><span class='line'>        <span class="k">AND</span> <span class="n">ea</span><span class="p">.</span><span class="n">attribute_id</span> <span class="o">=</span> <span class="n">ce_int</span><span class="p">.</span><span class="n">attribute_id</span>
</span><span class='line'>        <span class="k">AND</span> <span class="n">ea</span><span class="p">.</span><span class="n">backend_type</span> <span class="o">=</span> <span class="s1">&#39;int&#39;</span>
</span><span class='line'>    <span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">catalog_product_entity_text</span> <span class="k">AS</span> <span class="n">ce_text</span>
</span><span class='line'>        <span class="k">ON</span> <span class="n">ce</span><span class="p">.</span><span class="n">entity_id</span> <span class="o">=</span> <span class="n">ce_text</span><span class="p">.</span><span class="n">entity_id</span>
</span><span class='line'>        <span class="k">AND</span> <span class="n">ea</span><span class="p">.</span><span class="n">attribute_id</span> <span class="o">=</span> <span class="n">ce_text</span><span class="p">.</span><span class="n">attribute_id</span>
</span><span class='line'>        <span class="k">AND</span> <span class="n">ea</span><span class="p">.</span><span class="n">backend_type</span> <span class="o">=</span> <span class="s1">&#39;text&#39;</span>
</span><span class='line'>    <span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">catalog_product_entity_decimal</span> <span class="k">AS</span> <span class="n">ce_decimal</span>
</span><span class='line'>        <span class="k">ON</span> <span class="n">ce</span><span class="p">.</span><span class="n">entity_id</span> <span class="o">=</span> <span class="n">ce_decimal</span><span class="p">.</span><span class="n">entity_id</span>
</span><span class='line'>        <span class="k">AND</span> <span class="n">ea</span><span class="p">.</span><span class="n">attribute_id</span> <span class="o">=</span> <span class="n">ce_decimal</span><span class="p">.</span><span class="n">attribute_id</span>
</span><span class='line'>        <span class="k">AND</span> <span class="n">ea</span><span class="p">.</span><span class="n">backend_type</span> <span class="o">=</span> <span class="s1">&#39;decimal&#39;</span>
</span><span class='line'>    <span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">catalog_product_entity_datetime</span> <span class="k">AS</span> <span class="n">ce_datetime</span>
</span><span class='line'>        <span class="k">ON</span> <span class="n">ce</span><span class="p">.</span><span class="n">entity_id</span> <span class="o">=</span> <span class="n">ce_datetime</span><span class="p">.</span><span class="n">entity_id</span>
</span><span class='line'>        <span class="k">AND</span> <span class="n">ea</span><span class="p">.</span><span class="n">attribute_id</span> <span class="o">=</span> <span class="n">ce_datetime</span><span class="p">.</span><span class="n">attribute_id</span>
</span><span class='line'>        <span class="k">AND</span> <span class="n">ea</span><span class="p">.</span><span class="n">backend_type</span> <span class="o">=</span> <span class="s1">&#39;datetime&#39;</span>
</span><span class='line'>    <span class="k">WHERE</span> <span class="n">ce</span><span class="p">.</span><span class="n">sku</span> <span class="o">=</span> <span class="n">YOUR_SKU</span>
</span><span class='line'>  <span class="p">)</span> <span class="k">AS</span> <span class="n">tab</span>
</span><span class='line'>  <span class="k">WHERE</span> <span class="n">tab</span><span class="p">.</span><span class="n">value</span> <span class="o">!=</span> <span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;;</span>
</span></code></pre></td></tr></table></div></figure>


<p>This version of the query will only return values that are not blank, but if you only run the sub query it will give you every value.
Replace catalog_product* for catalog_category to get the values for a category. You will also have to use a different selector than SKU.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-08-15T14:16:16+01:00" pubdate data-updated="true">Aug 15<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/jquery/comply-with-the-cookie-law-with-very-little-effort.html">Comply With the Cookie Law With Very Little Effort</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>A lot of concern has been caused by the &ldquo;Cookie Law&rdquo; which says you must tell people that you use cookies if you do, and 99% of sites do!</p>

<p>Well here&rsquo;s a very simple jQuery bolt-on that deals with that, and although visitors need javascript enabled to see it, you have made &ldquo;best efforts&rdquo; to inform them, and on any eCommerce site you&rsquo;re going to have a &ldquo;this site requires javascript message&rdquo; anyway.</p>

<p>The file to download is from github (isn&rsquo;t opensource great?) <a href="https://github.com/carlwoodhouse/jquery.cookieBar" title="jQuery.cookiebar on github">here</a> and is as simple to implement as add the script file to the head and somewhere on the page insert the following :</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
</span><span class='line'>    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">$</span><span class="p">.</span><span class="nx">cookieBar</span><span class="p">();</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The example page is also on github : <a href="http://carlwoodhouse.github.com/jquery.cookieBar/" title="CookieBar example page"><a href="http://carlwoodhouse.github.com/jquery.cookieBar/">http://carlwoodhouse.github.com/jquery.cookieBar/</a></a>.</p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/page/17/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next"><a href="/page/15/">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/vim/octopress-syntax-highlighting-for-vim.html">Octopress Syntax Highlighting for Vim</a>
    
    <a class="list-group-item " href="/phpstorm/ruby/ruby-syntax-highlighting-with-phpstorm.html">Ruby Syntax Highlighting With PHPStorm</a>
    
    <a class="list-group-item " href="/fedora/setting-up-a-fedora-19-based-php-development-installation.html">Setting Up a Fedora 19 Based PHP Development Installation</a>
    
    <a class="list-group-item " href="/bash/automatically-convert-old-php-file-to-camelcase.html">Automatically Convert Old PHP File to camelCase</a>
    
    <a class="list-group-item " href="/linux/vim-locking-up-always-when-you-are-ready-to-save-solution.html">Vim Locking Up, Always When You Are Ready to Save? Solution</a>
    
  </div>
</section>




<section class="googleplus panel panel-default">
  <div class="panel-body">
    <h3>
      <a href="https://plus.google.com/104488822194646220248?rel=author">
        <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
        Google+
      </a>
    </h3>
  </div>
</section>


<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">About Us</h3>
    </div>
    <div class="panel-body">
        <p>
            <a href="http://www.edmondscommerce.co.uk">Edmonds Commerce</a> are a UK based E-Commerce web development
            agency.
        </p>

        <p>
            We are based in <a href="http://www.yorkshire.com/">Yorkshire</a> near <a
                href="http://www.visitleeds.co.uk/">Leeds</a> and <a href="http://www.visitbradford.com/">Bradford</a>.
        </p>

        <p>
            Our primary specialism is <a href="http://magento.com/">Magento</a> and other PHP based E-Commerce platforms
            such as <a href="http://www.opencart.com/">OpenCart</a>.
        </p>

        <p>
            In terms of technology we are very strong in:
        <ul>
            <li><a href="http://php.net/">PHP</a>,</li>
            <li><a href="http://www.mysql.com/">MySQL</a>,</li>
            <li><a href="http://www.linuxfoundation.org/">Linux</a>,</li>
            <li><a href="http://www.w3.org/standards/techs/html#w3c_all">HTML<a/>,</li>
            <li><a href="http://www.w3.org/Style/CSS/Overview.en.html">CSS</a></li>
            <li><a href="http://en.wikipedia.org/wiki/JavaScript">Javascript</a>.</li>
        </ul>
        </p>
    </div>
</section>

<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Commercial Enquiries</h3>
    </div>
    <div class="panel-body">
        <p>
            If you would like to discuss your project requirements then please get in touch today.
        </p>

        <p>
            <a href="http://www.edmondscommerce.co.uk">www.edmondscommerce.co.uk</a><br/><br/>
            <a href="mailto:info@edmondscommerce.co.uk">info@edmondscommerce.co.uk</a><br/><br/>
            <a href="tel:00441274590036">+44 1274 590036</a>
        </p>
    </div>
</section>

      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2013 - EdmondsCommerce Development Team<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>






  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </body>
</html>
