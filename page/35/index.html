<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Edmonds Commerce Dev Blog</title>
  <meta name="author" content="EdmondsCommerce Development Team">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://edmondscommerce.github.io/page/35">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Edmonds Commerce Dev Blog" type="application/atom+xml">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27853727-2', 'edmondscommerce.github.io');
  ga('send', 'pageview');

</script>

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img height="20" src="https://2.gravatar.com/avatar/04b807394911b26ea8a79dbe25ea4e1a?d=https%3A%2F%2Fidenticons.github.com%2Fccb745f4b144d30c4b883330a1114834.png&amp;r=x&amp;s=140" width="20"> Dev Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
                
                <li ><a href="/categories/index.html">Categories</a></li>
                
                <li ><a href="/contact-us/index.html">Contact</a></li>
                
            </ul>
            <ul class="nav pull-right">
                
                
                <li><a href="http://linkedin.com/in/edmondscommerce" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
                
                
                
                <li><a href="http://plus.google.com/104488822194646220248" title="Google+ Profile"><i class="icon-google-plus-sign social-navbar"></i></a></li>
                
                
                
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:edmondscommerce.github.io">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index">
      
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-01-05T15:29:03+00:00" pubdate data-updated="true">Jan 5<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/server/c-panel-access-using-whsroot-password.html">C-Panel Access Using WHS/Root Password</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>Ever wondering how you could gain access into any Control panel(c-panel) account when you confidently know only the username of the c-panel account. I tried doing this by actually using the Web host manager (WHS) password, and it worked brilliantly for any c-panel user account.</p>

<p>But the only gotcha I found out  was that I could not use Phpmyadmin. Nevertheless, you could still find a way around this by adding a PHP database management file on the web root directory which installs an alternative database management User interface which provides functions similar to Phpmyadmin.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-01-04T17:54:14+00:00" pubdate data-updated="true">Jan 4<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/server-migration-synch-cron-tab-via-ssh.html">Server Migration - Synch Cron Tab via SSH</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you are handling a server migration and would like to have a scripted way to copy the crontab from one machine to the other then you might like this little snippet.</p>

<figure class='code panel panel-default'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>
</span><span class='line'>ssh -p2020 root@123.123.123.123 'crontab -l' | crontab -
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p>This will get the contents of the root crontab from one server and apply it to the current server, replacing any current cron tab settings.</p>

<p>This is nice if you want to have a repeatable server resynch process whilst you are migrating and the crontab on the old server may change</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-01-03T17:54:30+00:00" pubdate data-updated="true">Jan 3<span>rd</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/crawl-an-xml-sitemap-quality-check-301-and-404.html">Crawl an Xml Sitemap Quality Check 301 and 404</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>On occasion, google and other tools will tell you there&rsquo;s errors with your sitemap.xml file and not give you the information of what exactly is wrong, so we wrote this little tool to crawl the sitemap and check for 301 redirections and 404 errors.</p>

<p>It is a noddy file and should have much more error handling etc but here&rsquo;s the basic flow :&ndash;</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="nv">$screenwidth</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span>
</span><span class='line'><span class="k">function</span> <span class="nf">trimstr</span><span class="p">(</span><span class="nv">$str</span><span class="p">,</span> <span class="nv">$maxlength</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nv">$middle</span> <span class="o">=</span> <span class="s1">&#39;...&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">global</span> <span class="nv">$screenwidth</span><span class="p">;</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nv">$maxlength</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nv">$maxlength</span> <span class="o">=</span> <span class="nv">$screenwidth</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nb">count</span><span class="p">(</span><span class="nv">$str</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nv">$maxlength</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nv">$partlength</span> <span class="o">=</span> <span class="nx">round</span><span class="p">(</span><span class="nv">$maxlength</span> <span class="o">-</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$middle</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
</span><span class='line'>      <span class="nv">$leftpart</span> <span class="o">=</span> <span class="nx">substr</span><span class="p">(</span><span class="nv">$str</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">$partlength</span><span class="p">);</span>
</span><span class='line'>      <span class="nv">$rightpart</span> <span class="o">=</span> <span class="nx">substr</span><span class="p">(</span><span class="nv">$str</span><span class="p">,</span> <span class="mi">0</span><span class="o">-</span><span class="nv">$partlength</span><span class="p">);</span>
</span><span class='line'>      <span class="k">return</span> <span class="nv">$leftpart</span> <span class="o">.</span> <span class="nv">$middle</span> <span class="o">.</span> <span class="nv">$rightpart</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="nv">$str</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// First we load the sitemap xml</span>
</span><span class='line'><span class="nv">$xml</span> <span class="o">=</span> <span class="nb">simplexml_load_file</span><span class="p">(</span><span class="nv">$argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</span><span class='line'><span class="nv">$counter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="nv">$threadcount</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</span><span class='line'><span class="nv">$multihandle</span> <span class="o">=</span> <span class="nb">curl_multi_init</span><span class="p">();</span>
</span><span class='line'><span class="nv">$fourohfours</span> <span class="o">=</span> <span class="nv">$threeohones</span> <span class="o">=</span> <span class="nv">$twohundreds</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nv">$xml</span><span class="o">-&gt;</span><span class="na">getName</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;urlset&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">die</span><span class="p">(</span><span class="s2">&quot;Doesn&#39;t look like a valid sitemap!&quot;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nv">$total_urls</span> <span class="o">=</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$xml</span><span class="o">-&gt;</span><span class="na">children</span><span class="p">());</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Then we iterate over it</span>
</span><span class='line'><span class="k">foreach</span><span class="p">(</span><span class="nv">$xml</span><span class="o">-&gt;</span><span class="na">children</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$child</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nv">$child</span><span class="o">-&gt;</span><span class="na">getName</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;url&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">foreach</span> <span class="p">(</span><span class="nv">$child</span><span class="o">-&gt;</span><span class="na">children</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$subchild</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="k">if</span> <span class="p">(</span><span class="nv">$subchild</span><span class="o">-&gt;</span><span class="na">getName</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;loc&#39;</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>              <span class="k">echo</span> <span class="s2">&quot;Fetching : &quot;</span><span class="o">.</span><span class="nx">trimstr</span><span class="p">(</span><span class="nv">$subchild</span><span class="p">,</span> <span class="nv">$screenwidth</span> <span class="o">-</span> <span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'>              <span class="nv">$counter</span><span class="o">++</span><span class="p">;</span>
</span><span class='line'>              <span class="nx">addurltostack</span><span class="p">(</span><span class="nv">$subchild</span><span class="p">);</span>
</span><span class='line'>              <span class="k">if</span> <span class="p">(</span><span class="nv">$counter</span><span class="o">%</span><span class="nv">$threadcount</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="nv">$counter</span> <span class="o">==</span> <span class="nv">$total_urls</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                  <span class="k">do</span> <span class="p">{</span>
</span><span class='line'>                      <span class="nb">curl_multi_exec</span><span class="p">(</span><span class="nv">$multihandle</span><span class="p">,</span> <span class="nv">$running</span><span class="p">);</span>
</span><span class='line'>                  <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="nv">$running</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">);</span>
</span><span class='line'>                  <span class="nx">processresults</span><span class="p">();</span>
</span><span class='line'>                  <span class="k">echo</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="nv">$counter</span><span class="o">.</span><span class="s1">&#39;/&#39;</span><span class="o">.</span><span class="nv">$total_urls</span><span class="o">.</span><span class="s1">&#39; urls checked - &#39;</span><span class="o">.</span><span class="nv">$twohundreds</span><span class="o">.</span><span class="s1">&#39; 200s; &#39;</span><span class="o">.</span><span class="nv">$threeohones</span><span class="o">.</span><span class="s1">&#39; 301s; &#39;</span><span class="o">.</span><span class="nv">$fourohfours</span><span class="o">.</span><span class="s1">&#39; 404s.&#39;</span><span class="o">.</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'>              <span class="p">}</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">echo</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nv">$fourohfours</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">echo</span> <span class="s2">&quot;The following urls were 404 returns :- </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="k">foreach</span> <span class="p">(</span><span class="nv">$fourohfoururls</span> <span class="k">as</span> <span class="nv">$url</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">echo</span> <span class="nv">$url</span><span class="o">.</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nv">$threeohones</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">echo</span> <span class="s2">&quot;The following urls were 301 returns :- </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="k">foreach</span> <span class="p">(</span><span class="nv">$threeohoneurls</span> <span class="k">as</span> <span class="nv">$url</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">echo</span> <span class="nv">$url</span><span class="o">.</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">function</span> <span class="nf">addurltostack</span><span class="p">(</span><span class="nv">$url</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">global</span> <span class="nv">$curls</span><span class="p">;</span>
</span><span class='line'>  <span class="k">global</span> <span class="nv">$multihandle</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>
</span><span class='line'>  <span class="nv">$curls</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$ch</span><span class="p">;</span>
</span><span class='line'>  <span class="c1">// Set the url path we want to call</span>
</span><span class='line'>  <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$url</span><span class="p">);</span>
</span><span class='line'>  <span class="c1">// Make it so the data coming back is put into a string</span>
</span><span class='line'>  <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</span><span class='line'>  <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HEADER</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span>
</span><span class='line'>  <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_NOBODY</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">);</span> <span class="c1">// remove body </span>
</span><span class='line'>  <span class="nb">curl_multi_add_handle</span><span class="p">(</span><span class="nv">$multihandle</span><span class="p">,</span> <span class="nv">$ch</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">function</span> <span class="nf">processresults</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">global</span> <span class="nv">$curls</span><span class="p">;</span>
</span><span class='line'>  <span class="k">global</span> <span class="nv">$multihandle</span><span class="p">;</span>
</span><span class='line'>  <span class="k">global</span> <span class="nv">$fourohfours</span><span class="p">;</span>
</span><span class='line'>  <span class="k">global</span> <span class="nv">$fourohfoururls</span><span class="p">;</span>
</span><span class='line'>  <span class="k">global</span> <span class="nv">$threeohones</span><span class="p">;</span>
</span><span class='line'>  <span class="k">global</span> <span class="nv">$threeohoneurls</span><span class="p">;</span>
</span><span class='line'>  <span class="k">global</span> <span class="nv">$twohundreds</span><span class="p">;</span>
</span><span class='line'>  <span class="k">global</span> <span class="nv">$multihandle</span><span class="p">;</span>
</span><span class='line'>  <span class="k">foreach</span> <span class="p">(</span><span class="nv">$curls</span> <span class="k">as</span> <span class="nv">$ch</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nv">$httpCode</span> <span class="o">=</span> <span class="nb">curl_getinfo</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLINFO_HTTP_CODE</span><span class="p">);</span>
</span><span class='line'>      <span class="nv">$url</span> <span class="o">=</span> <span class="nb">curl_getinfo</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLINFO_EFFECTIVE_URL</span><span class="p">);</span>
</span><span class='line'>      <span class="c1">// Free up the resources $ch is using</span>
</span><span class='line'>      <span class="nb">curl_multi_remove_handle</span><span class="p">(</span><span class="nv">$multihandle</span><span class="p">,</span><span class="nv">$ch</span><span class="p">);</span>
</span><span class='line'>      <span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
</span><span class='line'>      <span class="k">switch</span><span class="p">(</span><span class="nv">$httpCode</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>          <span class="k">case</span> <span class="mi">400</span> <span class="o">:</span>
</span><span class='line'>              <span class="nv">$fourohfours</span><span class="o">++</span><span class="p">;</span>
</span><span class='line'>              <span class="nv">$fourohfoururls</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$url</span><span class="p">;</span>
</span><span class='line'>          <span class="k">break</span><span class="p">;</span>
</span><span class='line'>          <span class="k">case</span> <span class="mi">301</span> <span class="o">:</span>
</span><span class='line'>              <span class="nv">$threeohones</span><span class="o">++</span><span class="p">;</span>
</span><span class='line'>              <span class="nv">$threeohoneurls</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$url</span><span class="p">;</span>
</span><span class='line'>          <span class="k">break</span><span class="p">;</span>
</span><span class='line'>          <span class="k">case</span> <span class="mi">200</span> <span class="o">:</span> <span class="nv">$twohundreds</span><span class="o">++</span><span class="p">;</span>
</span><span class='line'>          <span class="k">break</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="nb">curl_multi_close</span><span class="p">(</span><span class="nv">$multihandle</span><span class="p">);</span>
</span><span class='line'>  <span class="nv">$multihandle</span> <span class="o">=</span> <span class="nb">curl_multi_init</span><span class="p">();</span>
</span><span class='line'>  <span class="nv">$curls</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>The above takes about &frac34; hour for an approximately 3000 link sitemap.  This script utilises curl_multi so it runs 5 requests at a time to the server.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-01-03T17:32:27+00:00" pubdate data-updated="true">Jan 3<span>rd</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/php-split-string-on-word-break-no-regex-or-arrays-dead-simple.html">PHP Split String on Word Break (No Regex or Arrays, Dead Simple)</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>Need to take a string of text and shorten it down but make sure you split on a word break?</p>

<p>This little snippet might be exactly what you are looking for.</p>

<figure class='code panel panel-default'><figcaption class='panel-heading'><h3 class='panel-title'></h3></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$text</span><span class="o">=</span><span class="nx">substr</span><span class="p">(</span><span class="nv">$text</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">strpos</span><span class="p">(</span><span class="nv">$text</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure>


<p>effectively you are saying give me the position of the first space after character 50 and then chop the string there.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-12-16T18:04:23+00:00" pubdate data-updated="true">Dec 16<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/check-301-redirects-in-htaccess-file.html">Check 301 Redirects in Htaccess File</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>Often you will come across a situation where you have to do a mass of redirects, often when moving platform e.g. from osCommerce to Magento.</p>

<p>So you might create a whole load of .htaccess rules which you want to verify, either before or after implementing them.</p>

<p>Rules like :
<code>RewriteRule ^top-level-category/old-category/product-name-p-3944.html$ new-product-name.html</code></p>

<p>I wrote this bash snippet to do just that &ndash; here&rsquo;s the validate the pages you are redirecting to are valid (200) :&ndash;</p>

<p><code>
for f in <code>cut -f3 -d' ' .proposed-htaccess</code>; do</p>

<pre><code>curl -I -v http://www.mydomain.co.uk/$f 2&gt;&amp;1 &gt; /dev/null | grep 'HTTP/1.1 ' | sed s/'.*1\.1 '// | grep 200 &gt; /dev/null || echo $f failed to fetch
</code></pre>

<p>done
</code></p>

<p>Then, once you have got the .htaccess uploaded you can verify that they are indeed rewriting should you wish :&ndash;</p>

<p><code>
for f in <code>cut -f3 -d' ' .proposed-htaccess</code>; do</p>

<pre><code>curl -I -v http://www.mydomain.co.uk/$f 2&gt;&amp;1 &gt; /dev/null | grep 'HTTP/1.1 ' | sed s/'.*1\.1 '// | grep 301 &gt; /dev/null || echo $f was not a 301.
</code></pre>

<p>done
</code></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-12-16T17:23:31+00:00" pubdate data-updated="true">Dec 16<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/php/php-spell-checking-easily-integrated-spell-checking-for-magento-oscommerce-wordpress-drupal.html">PHP Spell Checking, Easily Integrated Spell Checking for Magento, osCommerce, Wordpress, Drupal</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you would like your users to be able to spell check their text before they send it and need something more than the browser based spell checking then this could be of interest.</p>

<p>Recently came across this and it looks very impressive:</p>

<p><a href="http://www.phpspellcheck.com/"><a href="http://www.phpspellcheck.com/">http://www.phpspellcheck.com/</a></a></p>

<p>There is a commercial licence for $89 which is a reasonable price I think.</p>

<p>You can download the package and integrate it for free though so you don&rsquo;t need to buy the licence until you decide to deploy it to a commercial site.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-12-16T13:10:11+00:00" pubdate data-updated="true">Dec 16<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/console-log-not-working-in-magento-solution.html">Console Log Not Working in Magento + Solution</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>If you are writing any javascript in magento and try to debug using console.log, you may find that nothing happens in Chrome, but everything works as expected in Firefox.</p>

<p>The reason for this is that varien have included a blank console object to prevent any calls to the console throwing an error if a console isn&rsquo;t defined. However they explicitly check for firebug, which means if your running chrome the built in console is replaced.</p>

<p>To fix this you need to edit the js/varien/js.js file and find the following line
<code>
 if (!(&ldquo;console&rdquo; in window) || !(&ldquo;firebug&rdquo; in console))
</code></p>

<p>Replace the line with the following
<code>
 if (!(&ldquo;console&rdquo; in window) || typeof console !== &lsquo;object&rsquo;)
</code></p>

<p>and you can start console logging in chrome</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-12-14T16:39:03+00:00" pubdate data-updated="true">Dec 14<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/ubuntu/secure-dropbox-alternative.html">Secure Dropbox Alternative</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>So there is often a requirement for sharing files but what happens if those files are files that absolutely must be secure, like private ssh keys?</p>

<p>Well Dropbox whilst a good product is third-party and not encrypted so if there&rsquo;s an exploit, the contents of the files could well be exposed to people you don&rsquo;t want.</p>

<p>Enter Wuala, a service by Lacie.  Similar to Dropbox in many ways, but differing in that the files are encrypted locally, so if you loose your password, the files will be inaccessible, permanently.  Believe it or not, that&rsquo;s a really good thing!</p>

<p>Oh, and there&rsquo;s a client for Linux, Mac, Windows and Mobile (Android and iPhone).</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-12-13T21:49:35+00:00" pubdate data-updated="true">Dec 13<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/linux/question-how-to-create-bootable-linux-usb-keydrives-easily-from-linux.html">Question: How to Create Bootable Linux USB Key/Drives Easily From Linux</a></h1>
    
  </header>


  <div class="entry-content clearfix"><div class="oldpost"><h4>This is post is now quite old and the the information it contains may be out of date or innacurate.</h4>
<p>
If you find any errors or have any suggestions to update the information <a href="http://edmondscommerce.github.io/contact-us/index.html">please let us know</a>
or <a href="https://github.com/edmondscommerce/edmondscommerce.github.io">create a pull request on GitHub</a>
</p>
</div>


<p>Answer to this quite clear and simple question is:</p>

<p>unetbootin</p>

<p>Not the easiest to find but definitely one of the easiest solutions.</p>

<p>If you search for USB bootable drive generators mostly you will find windows apps.</p>

<p>Not too useful if you are already on Linux and simply want to try the latest version or perhaps an alternative distro on something that is going to give more useful performance than the traditional live CD.</p>

<p><a href="http://unetbootin.sourceforge.net/">uNetbootin</a> is a nice solid cross platform USB bootable Linux generator that will even handle the download of ISOs for you if required.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2011-12-13T15:58:30+00:00" pubdate data-updated="true">Dec 13<span>th</span>, 2011</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/magento/simple-way-to-check-magento-email-setup.html">Simple Way to Check Magento Email Setup</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>So, you&rsquo;ve just moved a magento setup from one host to another, and you want to check if the email setup is correct, how do you do it?</p>

<p>The simple easy way to do this is to have a test front-end user (which you probably already have) and send a password change email to the user.</p>

<p>A simple trick but a good timesaver.</p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/page/36/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next"><a href="/page/34/">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/git/removing-untracked-files-but-not-git-ignored-ones.html">Removing Untracked Files but Not Git Ignored Ones</a>
    
    <a class="list-group-item " href="/php/developer-setup.html">Preparing Fedora for Development With PHP Storm</a>
    
    <a class="list-group-item " href="/php/php-json-encode-failing-with-no-clear-reason-plus-solution.html">PHP Json_encode Failing With No Clear Reason + Solution</a>
    
    <a class="list-group-item " href="/linux/vps/server/running-out-of-disk-space-but-df-shows-you-have-lots-of-space-left.html">Running Out of Disk Space but Df Shows You Have Lots of Space Left</a>
    
    <a class="list-group-item " href="/behat/repeating-behat-scenarios-when-testing-magento-with-smartstep.html">Repeating Behat Scenarios When Testing Magento With SmartStep</a>
    
  </div>
</section>




<section class="googleplus panel panel-default">
  <div class="panel-body">
    <h3>
      <a href="https://plus.google.com/104488822194646220248?rel=author">
        <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
        Google+
      </a>
    </h3>
  </div>
</section>


<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">About Us</h3>
    </div>
    <div class="panel-body">
        <p>
            <a href="http://www.edmondscommerce.co.uk">Edmonds Commerce</a> are a UK based E-Commerce web development
            agency.
        </p>

        <p>
            We are based in <a href="http://www.yorkshire.com/">Yorkshire</a> near <a
                href="http://www.visitleeds.co.uk/">Leeds</a> and <a href="http://www.visitbradford.com/">Bradford</a>.
        </p>

        <p>
            Our primary specialism is <a href="http://magento.com/">Magento</a> and other PHP based E-Commerce platforms
            such as <a href="http://www.opencart.com/">OpenCart</a>.
        </p>

        <p>
            In terms of technology we are very strong in:
        <ul>
            <li><a href="http://php.net/">PHP</a>,</li>
            <li><a href="http://www.mysql.com/">MySQL</a>,</li>
            <li><a href="http://www.linuxfoundation.org/">Linux</a>,</li>
            <li><a href="http://www.w3.org/standards/techs/html#w3c_all">HTML<a/>,</li>
            <li><a href="http://www.w3.org/Style/CSS/Overview.en.html">CSS</a></li>
            <li><a href="http://en.wikipedia.org/wiki/JavaScript">Javascript</a>.</li>
        </ul>
        </p>
    </div>
</section>

<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Commercial Enquiries</h3>
    </div>
    <div class="panel-body">
        <p>
            If you would like to discuss your project requirements then please get in touch today.
        </p>

        <p>
            <a href="http://www.edmondscommerce.co.uk">www.edmondscommerce.co.uk</a><br/><br/>
            <a href="mailto:info@edmondscommerce.co.uk">info@edmondscommerce.co.uk</a><br/><br/>
            <a href="tel:00441274590036">+44 1274 590036</a>
        </p>
    </div>
</section>

      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2015 - EdmondsCommerce Development Team<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>






  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </body>
</html>
