<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Maintenance Mode on Edmonds Commerce Dev Blog</title>
    <link>http://example.com/tags/maintenance-mode/</link>
    <description>Recent content in Maintenance Mode on Edmonds Commerce Dev Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Thu, 09 May 2013 12:15:23 +0000</lastBuildDate>
    <atom:link href="http://example.com/tags/maintenance-mode/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Testing a Magento site in maintenance mode</title>
      <link>http://example.com/magento/testing-a-magento-site-in-maintenance-mode.html</link>
      <pubDate>Thu, 09 May 2013 12:15:23 +0000</pubDate>
      
      <guid>http://example.com/magento/testing-a-magento-site-in-maintenance-mode.html</guid>
      <description>&lt;p&gt;Often you&amp;rsquo;ll have your site in maintenance mode, but obviously before you show your changes to the world you&amp;rsquo;ll want to check the site over.&lt;/p&gt;

&lt;p&gt;The best way to set Magento into Maintenance Mode is to add a maintenance.flag file to the web root, and there&amp;rsquo;s a snippet of code in Magento&amp;rsquo;s index.php which handles this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;$maintenanceFile = &amp;#39;maintenance.flag&amp;#39;;&lt;/span&gt;

&lt;span class=&#34;x&#34;&gt;...&lt;/span&gt;

&lt;span class=&#34;x&#34;&gt;if (file_exists($maintenanceFile)) {&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;    include_once dirname(__FILE__) . &amp;#39;/errors/503.php&amp;#39;;&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;    exit;&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You&amp;rsquo;ll want to set this to also take your IP address into consideration, so just make the following amends and you&amp;rsquo;ll have added conditional maintenance mode:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;$maintenanceFile = &amp;#39;maintenance.flag&amp;#39;;&lt;/span&gt;

&lt;span class=&#34;x&#34;&gt;...&lt;/span&gt;

&lt;span class=&#34;x&#34;&gt;if (file_exists($maintenanceFile) &amp;amp;&amp;amp; $_SERVER[&amp;#39;REMOTE_ADDR&amp;#39;] != &amp;quot;123.123.123.123&amp;quot;) {&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;    if($_SERVER[&amp;#39;REMOTE_ADDR&amp;#39;] == &amp;quot;123.123.123.123&amp;quot;) {&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;        //Do nothing, but it&amp;#39;s safer to check if it *is* your IP than *isn&amp;#39;t*&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;    }&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;    else {&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;        include_once dirname(__FILE__) . &amp;#39;/errors/503.php&amp;#39;;&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;        exit;&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;   }&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>