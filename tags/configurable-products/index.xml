<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Configurable Products on Edmonds Commerce Dev Blog</title>
    <link>http://edmondscommerce.github.io/tags/configurable-products/</link>
    <description>Recent content in Configurable Products on Edmonds Commerce Dev Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Fri, 20 Jan 2012 15:19:23 +0000</lastBuildDate>
    <atom:link href="http://edmondscommerce.github.io/tags/configurable-products/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>How to get a configurable products parent in Magento</title>
      <link>http://edmondscommerce.github.io/magento/how-to-get-a-configurable-products-parent-in-magento.html</link>
      <pubDate>Fri, 20 Jan 2012 15:19:23 +0000</pubDate>
      
      <guid>http://edmondscommerce.github.io/magento/how-to-get-a-configurable-products-parent-in-magento.html</guid>
      <description>&lt;p&gt;I recently needed magento to be able to load a product, and if that product was part of a configurable product detect this and return the parent product if that existed. Looking around google I came across this code snippet and thought it should work&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;$_product = Mage::getModel(&amp;#39;catalog/product&amp;#39;)-&amp;gt;load($productId);&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;$parentIdArray = $_product-&amp;gt;loadParentProductIds()&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;                 -&amp;gt;getData(&amp;#39;parent_product_ids&amp;#39;);&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;if(!empty($parentIdArray)) {&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;    // do something&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The problem is that the loadParentProductIds method was depreciated in 1.4.2.0 and I&amp;rsquo;m running 1.6. The new way of doing detecting if a product has a parent is to do this&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;$configurable_product_model = Mage::getModel(&amp;#39;catalog/product_type_configurable&amp;#39;);&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;$parentIdArray= $configurable_product_model-&amp;gt;getParentIdsByChild($productId);&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;if(!empty($parentIdArray)) {&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;    // do something&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Using this method I overrode the Mage_Catalog_Model_Product class and added this method, which will always return a configurable product if the product is associated with one. Be aware, that if you products belong to more than one configurable product you will have to modify the logic&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;public function getConfigurableProduct() {&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;	switch ($this-&amp;gt;type_id) {&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;		case &amp;#39;configurable&amp;#39;:&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;			return $this;&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;			break;&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;		default:&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;			$configurable_product_model = Mage::getModel(&amp;#39;catalog/product_type_configurable&amp;#39;);&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;			$parentId= $configurable_product_model-&amp;gt;getParentIdsByChild($this-&amp;gt;getId());&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;			if(isset($parentId[0])) {&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;				$this-&amp;gt;load($parentId[0]);&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;			}&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;			break;&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;	}&lt;/span&gt;

&lt;span class=&#34;x&#34;&gt;	return $this;&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>