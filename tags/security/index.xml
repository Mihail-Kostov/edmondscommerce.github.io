<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Security on Edmonds Commerce Dev Blog</title>
    <link>https://edmondscommerce.github.io/tags/security/</link>
    <description>Recent content in Security on Edmonds Commerce Dev Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Fri, 28 Oct 2016 08:08:38 +0000</lastBuildDate>
    <atom:link href="https://edmondscommerce.github.io/tags/security/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Portable System Update on Shutdown</title>
      <link>https://edmondscommerce.github.io/portable-system-update-on-shutdown/</link>
      <pubDate>Fri, 28 Oct 2016 08:08:38 +0000</pubDate>
      
      <guid>https://edmondscommerce.github.io/portable-system-update-on-shutdown/</guid>
      <description>

&lt;h1 id=&#34;another-update-on-shutdown-solution&#34;&gt;Another Update on Shutdown Solution?&lt;/h1&gt;

&lt;p&gt;While the other solutions on this blog (&lt;a href=&#34;https://edmondscommerce.github.io/auto-update-fedora-on-shutdown/&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt;
and &lt;a href=&#34;https://edmondscommerce.github.io/add-keybinding-to-dnf-upgrade-and-shutdown-to-gnome-shell/&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt;)
are probably more elegant they have dependencies on either the desktop (Gnome) or systemd.
This solution should be portable across Linux distros and desktops.&lt;/p&gt;

&lt;h1 id=&#34;the-solution&#34;&gt;The Solution&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://specifications.freedesktop.org/desktop-entry-spec/latest/&#34; target=&#34;_blank&#34;&gt;freedesktop.org&lt;/a&gt; define a specification
for application launchers. These launchers will run on all compatible desktops (which means almost all
Linux desktops).&lt;/p&gt;

&lt;p&gt;The desktop launcher for update on shutdown can be created using the following command:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cat &amp;lt;&amp;lt;&#39;EOF&#39; | bash
echo &amp;quot;[Desktop Entry]
Name=Shutdown
Exec=gnome-terminal --command=\&amp;quot;sudo bash -c &#39;dnf -y upgrade; shutdown now&#39;\&amp;quot;
Type=Application
Terminal=true&amp;quot; &amp;gt; ~/.local/share/applications/shutdown.desktop;
chmod u+x ~/.local/share/applications/shutdown.desktop;
ln -s ~/.local/share/applications/shutdown.desktop ~/Desktop/shutdown.desktop
EOF
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This should give you a launcher on your desktop as well as in your normal application menu.&lt;/p&gt;

&lt;p&gt;To make this work for your distribution you may need to change &lt;code&gt;dnf -y upgrade&lt;/code&gt; to something
else like &lt;code&gt;apt-get update; apt-get upgrade -y;&lt;/code&gt; for Debian based distros.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Auto-update Fedora on Shutdown</title>
      <link>https://edmondscommerce.github.io/auto-update-fedora-on-shutdown/</link>
      <pubDate>Thu, 27 Oct 2016 16:14:45 +0000</pubDate>
      
      <guid>https://edmondscommerce.github.io/auto-update-fedora-on-shutdown/</guid>
      <description>&lt;p&gt;With the &lt;a href=&#34;https://dirtycow.ninja&#34; target=&#34;_blank&#34;&gt;Dirty Cow&lt;/a&gt; exploit out in the wild, it is important to make sure that your Linux machines are kept up to date.&lt;/p&gt;

&lt;p&gt;The following commands will ensure your machine updates itself each time you shut it down&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span&gt;&lt;/span&gt;su
cat &amp;gt; /usr/lib/systemd/system-shutdown/upgrade &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;EOL &amp;amp;&amp;amp; chmod +x /usr/lib/systemd/system-shutdown/upgrade&lt;/span&gt;
&lt;span class=&#34;s&#34;&gt;#!/bin/sh&lt;/span&gt;
&lt;span class=&#34;s&#34;&gt;/usr/bin/dnf upgrade -y&lt;/span&gt;
&lt;span class=&#34;s&#34;&gt;EOL&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Magento Exploit - Stealing Customer Info Including Card Details - Check your site now!</title>
      <link>https://edmondscommerce.github.io/magento/magento-exploit-stealing-customer-info-including-card-details-check-your-site-now.html</link>
      <pubDate>Tue, 30 Jun 2015 11:53:51 +0100</pubDate>
      
      <guid>https://edmondscommerce.github.io/magento/magento-exploit-stealing-customer-info-including-card-details-check-your-site-now.html</guid>
      <description>

&lt;p&gt;We have detected malicious code running on one of our client&amp;rsquo;s Magento websites. The code in question is harvesting customer details which are then being stolen.&lt;/p&gt;

&lt;p&gt;The process is not very sophisticated though it does seem to be effective. Unfortunately investigating it further it seems that there are a number of hacked sites and there are even sensitive details including, in some cases, credit card information that is visible in Google&amp;rsquo;s own cache.&lt;/p&gt;

&lt;h3 id=&#34;analysis&#34;&gt;Analysis&lt;/h3&gt;

&lt;p&gt;As is common with this kind of exploit, there is a PHP file that then calls &lt;code&gt;eval&lt;/code&gt; on a base64 encoded set of code.&lt;/p&gt;

&lt;p&gt;In this case, the file was called abstractleft.php and was located in the Magento shell directory. The contents of the file begin with this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?PHP&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;eval&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;gzinflate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;base64_decode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;f3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Xxs38jiO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;36&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Px&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Pyta92K1tDEnaBg&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;....&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The top of the file indicates that it is a web shell.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;/* WSO 2.1 (Web Shell by pgems.in) */&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The file is being used to generate a dump of data, with regular POST requests coming from the IP: &lt;code&gt;46.21.151.107&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;In the case of our client, the issue is being resolved quickly and only seems to have been live for a day or so, however looking through Google&amp;rsquo;s index its clear that there are other sites that have been leaking a lot of data.&lt;/p&gt;

&lt;p&gt;In the worst case, the Magento sites have been using the Saved Credit Card payment method. This means that the data scrapes have been pulling customer details and also the full card details. This is another reason why it is a &lt;em&gt;really bad idea&lt;/em&gt; to use the Saved Credit Card payment method.&lt;/p&gt;

&lt;h3 id=&#34;defense&#34;&gt;Defense&lt;/h3&gt;

&lt;p&gt;It is not clear exactly how the client server was compromised however it is important to ensure that all access credentials are updated and also firewall rules are reviewed and updated.&lt;/p&gt;

&lt;p&gt;Ideally we would like to know exactly how the attacker gained access to the server to place the exploit file. This involves examining security logs and other logs. If the attack is not too sophisticated then there is a good chance that there is a lot of debug information that should be helpful in finding out exactly how the attack has taken place.&lt;/p&gt;

&lt;p&gt;The main thing for Magento sites now though is to ensure that all security patches have been applied. If your live site has not been patched then really you must expect this kind of hack.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SUPEE-5344 - a New Patch for Magento Community 1.6, 1.7, 1.8 and 1.9; Enterprise 1.11, 1.12, 1.13 and 1.14</title>
      <link>https://edmondscommerce.github.io/magento/supee-5344-a-new-patch-for-magento-community-1-dot-6-1-dot-7-1-dot-8-and-1-dot-9-enterprise-1-dot-11-1-dot-12-1-dot-13-and-1-dot-14.html</link>
      <pubDate>Wed, 11 Feb 2015 15:53:28 +0000</pubDate>
      
      <guid>https://edmondscommerce.github.io/magento/supee-5344-a-new-patch-for-magento-community-1-dot-6-1-dot-7-1-dot-8-and-1-dot-9-enterprise-1-dot-11-1-dot-12-1-dot-13-and-1-dot-14.html</guid>
      <description>

&lt;p&gt;Magento has become aware of a vulnerability requiring patching as soon as possible. The vulnerability allows an attacker to send a specially crafted request to a Magento store and allow it to run Magento code as though it were on the live server. Magento aren&amp;rsquo;t aware of this having been used in the wild, but now that the vulnerability is public, attackers may use it against existing stores.&lt;/p&gt;

&lt;p&gt;This vulnerability affects all versions of Magento, and Magento have released patches for versions Community Edition 1.6 to 1.9, and Enterprise 1.11 to 1.14.&lt;/p&gt;

&lt;p&gt;The fix is to apply some stricter IP address checks to requests.&lt;/p&gt;

&lt;h3 id=&#34;patching-your-magento-store&#34;&gt;Patching your Magento store&lt;/h3&gt;

&lt;p&gt;To get the patch:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note: at time of writing, the Downloads of the CE edition seems to under heavy load and is currently presenting a white page instead of the shell file&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Community Edition&lt;/strong&gt; users should go to the &lt;a href=&#34;http://www.magentocommerce.com/download&#34; target=&#34;_blank&#34;&gt;Magento downloads page&lt;/a&gt; and scroll to the &amp;ldquo;Magento Community Edition Patches&amp;rdquo; section. From there, select your version of Magento and click Download&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Enterprise Edition&lt;/strong&gt; users should log into their Magento account Magento Support Portal&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You&amp;rsquo;ll be presented with a shell file which will make the necessary changes to your store. Upload this patch to your server in the Magento root and run it against your store.&lt;/p&gt;

&lt;p&gt;The patch changes core files, and it&amp;rsquo;s always recommended to test changes on a development copy before the live site, especially if you have modifications to your core code. Also keep in mind that any upgrades pre-1.9.0.1 will remove these changes, and the patch will have to be re-run.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;cd /your/magento/root/&lt;/code&gt; - Navigate to the root of Magento&lt;/li&gt;
&lt;li&gt;&lt;code&gt;./sh PATCH_SUPEE-5344_CE_1.8.0.0_v1.sh&lt;/code&gt; - Run the patches&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rm PATCH_SUPEE-5344_CE_1.8.0.0_v1.sh&lt;/code&gt; - Delete the patch file, so that it can&amp;rsquo;t be re-run by the public&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rm -rf var/cache/*&lt;/code&gt; - Clear Magento&amp;rsquo;s cache&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Reload a page and the patch will have taken effect.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SUPEE-3941 - A new patch for Magento Community 1.6, 1.7, 1.8 and 1.9; Enterprise 1.11, 1.12, 1.13 and 1.14</title>
      <link>https://edmondscommerce.github.io/magento/supee-3941-a-new-patch-for-magento-community-1-dot-6-1-dot-7-1-dot-8-and-1-dot-9-enterprise-1-dot-11-1-dot-12-1-dot-13-and-1-dot-14.html</link>
      <pubDate>Wed, 11 Feb 2015 10:54:06 +0000</pubDate>
      
      <guid>https://edmondscommerce.github.io/magento/supee-3941-a-new-patch-for-magento-community-1-dot-6-1-dot-7-1-dot-8-and-1-dot-9-enterprise-1-dot-11-1-dot-12-1-dot-13-and-1-dot-14.html</guid>
      <description>&lt;p&gt;This post was published with the incorrect vulnerability code; &lt;a href=&#34;https://edmondscommerce.github.io/magento/supee-5344-a-new-patch-for-magento-community-1-dot-6-1-dot-7-1-dot-8-and-1-dot-9-enterprise-1-dot-11-1-dot-12-1-dot-13-and-1-dot-14.html&#34;&gt;this article has been moved to this post&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>URGENT update BASH - big security issue</title>
      <link>https://edmondscommerce.github.io/security/urgent-update-bash-big-security-issue.html</link>
      <pubDate>Thu, 25 Sep 2014 15:18:14 +0000</pubDate>
      
      <guid>https://edmondscommerce.github.io/security/urgent-update-bash-big-security-issue.html</guid>
      <description>

&lt;p&gt;Shell Shock is a BASH exploit that can allow the running of arbitrary commands on Linux servers.&lt;/p&gt;

&lt;p&gt;This is a newly discovered bug and affects a very large number of servers.&lt;/p&gt;

&lt;p&gt;There is a patch, you should ensure that your server&amp;rsquo;s BASH version is updated ASAP.&lt;/p&gt;

&lt;h3 id=&#34;centos-redhat-etc&#34;&gt;Centos, Redhat etc&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;yum clean all; yum -y update bash
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ubuntu-debian-etc&#34;&gt;Ubuntu, Debian etc&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;apt-get install --only-upgrade bash
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To check if you are vulnerable, you can run this code:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;env X=&amp;quot;() { :;} ; echo VULNERABLE&amp;quot; /bin/sh -c &amp;quot;echo completed&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you see VULNERABLE then you need to update BASH.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Ebay Security Breach</title>
      <link>https://edmondscommerce.github.io/security/ebay-security-breach.html</link>
      <pubDate>Wed, 21 May 2014 20:34:06 +0000</pubDate>
      
      <guid>https://edmondscommerce.github.io/security/ebay-security-breach.html</guid>
      <description>&lt;p&gt;It is being reported that there has been a database breach at eBay leading to the leaking of encrypted passwords&lt;/p&gt;

&lt;p&gt;Whilst there has not been any reported access to user accounts it is worth updating your password for eBay and any other site that share the same password&lt;/p&gt;

&lt;p&gt;It is considered bad practice to have the same password for multiple site, so to help me keep track of all of them I use &lt;a href=&#34;https://lastpass.com&#34; target=&#34;_blank&#34;&gt;lastpass&lt;/a&gt; to make the job simpler&lt;/p&gt;

&lt;p&gt;The full statement for ebay is available &lt;a href=&#34;http://www.ebayinc.com/in_the_news/story/ebay-inc-ask-ebay-users-change-passwords&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NHS Website Hosting Malware</title>
      <link>https://edmondscommerce.github.io/security/nhs-website-hosting-malware.html</link>
      <pubDate>Mon, 03 Feb 2014 10:39:41 +0000</pubDate>
      
      <guid>https://edmondscommerce.github.io/security/nhs-website-hosting-malware.html</guid>
      <description>

&lt;p&gt;This morning I was made aware that certain pages of the NHS website - the UK&amp;rsquo;s National Health Service - were hosting malware that was automatically redirecting users to malicious pages. The story broke on the popular news site Reddit, you can see the actual reddit thread &lt;a href=&#34;http://www.reddit.com/r/unitedkingdom/comments/1wv91h/nhsuk_compromised_many_pages_are_serving_malware/&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The first and most important point is that if you ever find yourself unexpectedly redirected from a page to another page then you should definitely not agree to install any software suggsted by the redirected site. Your safest course of action is likely to close the tab or even your browser as soon as possible and then run a full virus scan after updating your virus software.&lt;/p&gt;

&lt;h3 id=&#34;here-is-some-information-on-this-particular-attack&#34;&gt;Here is some information on this particular attack&lt;/h3&gt;

&lt;p&gt;The list of URLs originally shown to be hosting this malware can be found &lt;a href=&#34;http://pastebin.com/DbvR0iyj&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The attack vector seems to be in a (possibly accidental) mis spelling of the domain name that is hosting some Javascript related to Google Translate.&lt;/p&gt;

&lt;h4 id=&#34;you-can-see-a-correct-chunk-of-html-here&#34;&gt;You can see a correct chunk of HTML here:&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;/includes/AC_RunActiveContent.js&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;link&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;text/css&amp;quot;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;rel&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;stylesheet&amp;quot;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;charset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;UTF-8&amp;quot;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;https://translate.googleapis.com/translate_static/css/translateelement.css&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;charset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;UTF-8&amp;quot;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;https://translate.googleapis.com/translate_static/js/element/main.js&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;/includes/translate.js&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4 id=&#34;and-here-is-the-compromised-html&#34;&gt;And here is the compromised HTML&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;//translate.googleaspis.com/translate_static/js/element/19/element_main.js&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;//translate.googleaspis.com/translate_static/js/element/element.js&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;quot;/includes/translate.js&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The domain name googleaspis.com is registered by regtons.com and though the &lt;a href=&#34;http://www.whois.com/whois/googleaspis.com&#34; target=&#34;_blank&#34;&gt;Whois information&lt;/a&gt; has the actual domain ownership details obfuscated by a Czech company that protect the actual real ownership details, it does seem that the server and other &lt;a href=&#34;http://www.tcpiputils.com/browse/ip-address/31.170.179.179&#34; target=&#34;_blank&#34;&gt;internet services&lt;/a&gt; are all based in the Czech Republic.&lt;/p&gt;

&lt;p&gt;Checking the Google Safe Browsing information, you can see that Google have found &lt;a href=&#34;http://www.google.co.uk/safebrowsing/diagnostic?site=hmr.nhs.uk/&#34; target=&#34;_blank&#34;&gt;numerous issues&lt;/a&gt; on the NHS domains seemingly starting on the 31st of January this year.&lt;/p&gt;

&lt;p&gt;It seems that the NHS have now confirmed that they are aware of this issue and are currently taking action to resolve the problem.&lt;/p&gt;

&lt;p&gt;It is still not clear exactly how or why this issue cropped up in the first place. If it was an accident, how did it manage to get past what you would expect to be quite rigorous quality assurance processes? If this was a result of a malicious break in, how did they manage to compromise the website in this way and are there any further security issues that we should, as a nation, be worried about?&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>GPG / PGP Public key</title>
      <link>https://edmondscommerce.github.io/security/gpg-pgp-public-key.html</link>
      <pubDate>Fri, 01 Feb 2013 12:59:09 +0000</pubDate>
      
      <guid>https://edmondscommerce.github.io/security/gpg-pgp-public-key.html</guid>
      <description>&lt;p&gt;Sending confidential information across the Internet is always risky as you never really know who or what may intentionally or accidentally look at a copy of your communication at some points.&lt;/p&gt;

&lt;p&gt;Various tactics can be used to reduce the risk when sending confidential information. The current approach accepted by most people is the use of PGP or GPG. PGP and GPG are commercial and open source (respectively) implementations of asymmetric encryption system specifically designed to work with visible text communication.&lt;/p&gt;

&lt;p&gt;Asymmetric cryptography works by using a key pair. When some thing is encrypted using one of the keys only the other key can be used to decrypt the encrypted text. This allows you to give away your public key to any one and every one and know that any thing some one encrypts with it cannot be retrieved any one other than your self. It is currently technically infeasible, and has stood up to 10 years of scrutiny so far, to determine one of the keys of a pair when having one of them.&lt;/p&gt;

&lt;p&gt;The only real trouble after using this system is communicating the public key and knowing it has not been tampered with.&lt;/p&gt;

&lt;p&gt;If you need to send Edmonds Commerce any confidential information securely feel free to encrypt it with our public key:
&lt;code&gt;
&amp;mdash;&amp;ndash;BEGIN PGP PUBLIC KEY BLOCK&amp;mdash;&amp;ndash;
Version: GnuPG v1.4.11 (GNU/Linux)&lt;/p&gt;

&lt;p&gt;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
=ISyO
&amp;mdash;&amp;ndash;END PGP PUBLIC KEY BLOCK&amp;mdash;&amp;ndash;
&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Serious Skype Vulnerability Nov 2012</title>
      <link>https://edmondscommerce.github.io/security/serious-skype-vulnerability-nov-2012.html</link>
      <pubDate>Wed, 14 Nov 2012 12:54:10 +0000</pubDate>
      
      <guid>https://edmondscommerce.github.io/security/serious-skype-vulnerability-nov-2012.html</guid>
      <description>&lt;p&gt;There is a current vulnerability with skype accounts where anyone who knows your email address can get access to your account, and even your private chat logs.&lt;/p&gt;

&lt;p&gt;According to Kaspersky Labs (a leading computer security firm), the leader of the Russian Opposition has had his private chat logs leaked via this method.&lt;/p&gt;

&lt;p&gt;This is a serious vulnerability and Microsoft (the current owners of skype) are looking into the issue.  At present there&amp;rsquo;s no way to avoid the compromise, perhaps think about clearing your logs if you have anything private in there.&lt;/p&gt;

&lt;p&gt;There&amp;rsquo;s a good article &lt;a title=&#34;The Register&#34; href=&#34;http://www.theregister.co.uk/2012/11/14/skype_disables_password_reset_bug/&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt; that explains in more detail.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Google Apps and Two Factor Authentication</title>
      <link>https://edmondscommerce.github.io/security/google-apps-and-two-factor-authentication.html</link>
      <pubDate>Wed, 07 Nov 2012 10:22:34 +0000</pubDate>
      
      <guid>https://edmondscommerce.github.io/security/google-apps-and-two-factor-authentication.html</guid>
      <description>&lt;p&gt;If you are using Google apps and have two factor authentication turned on then you are probably using the convenient &amp;ldquo;Remember this PC for 30 days&amp;rdquo; feature.&lt;/p&gt;

&lt;p&gt;If you like your browser to forget every thing except a very select set of data (bookmarks, etc.) but keep the convenience of the 30 day authentication then you only need to keep the cookie called &amp;ldquo;SMSV&amp;rdquo; for the domain &amp;ldquo;www.google.com&amp;rdquo; with path &amp;ldquo;/a&amp;rdquo;.&lt;/p&gt;

&lt;p&gt;There is a variety of ways you can keep this cookie. You could, for example, export it then import it when ever (and where ever) you need it.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Chrome Auto Populate Form Fields - Form Fuzzer</title>
      <link>https://edmondscommerce.github.io/chrome/chrome-auto-populate-form-fields-form-fuzzer.html</link>
      <pubDate>Thu, 13 Sep 2012 10:42:59 +0000</pubDate>
      
      <guid>https://edmondscommerce.github.io/chrome/chrome-auto-populate-form-fields-form-fuzzer.html</guid>
      <description>&lt;p&gt;If you ever used Webmaster Tools in Firefox but have now switched to using Chrom(e|ium) instead then you probably miss the form filler - especially if you ever need to test checkouts or other form intensive web site user stories.&lt;/p&gt;

&lt;p&gt;A nice little extension that I just discovered takes care of this, &lt;a href=&#34;https://chrome.google.com/webstore/detail/cbpplldpcdcfejdaldmnfhlodoadjhii&#34; target=&#34;_blank&#34;&gt;Chrome Form Fuzzer&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;You can configure it for simple form filling or with a little creative configuration it could easily be used for security testing and more in depth testing to ensure that input is being sanitised and filtered properly.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Apache Access Logs Find Spiders by Counting Requests to IP Addresses</title>
      <link>https://edmondscommerce.github.io/linux/apache-access-logs-find-spiders-by-counting-requests-to-ip-addresses.html</link>
      <pubDate>Tue, 21 Aug 2012 13:24:37 +0000</pubDate>
      
      <guid>https://edmondscommerce.github.io/linux/apache-access-logs-find-spiders-by-counting-requests-to-ip-addresses.html</guid>
      <description>&lt;p&gt;If you would like a quick summary of the IP addresses that are beating the **** out of your server by firing lots of requests for quite possibly malicious or otherwise nefarious reasons then try this little bash script:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;ch&#34;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;LOG_FILE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/www/vhosts/DOMAIN.co.uk/statistics/logs/access_log
&lt;span class=&#34;nv&#34;&gt;OUT_FILE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/tmp/spider_analysis

&lt;span class=&#34;c1&#34;&gt;#This generates a file with the top 20 IP addresses by number of requests&lt;/span&gt;
cat &lt;span class=&#34;nv&#34;&gt;$LOG_FILE&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print $1}&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sort &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; uniq -c &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sort -nr &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; head -n &lt;span class=&#34;m&#34;&gt;20&lt;/span&gt; &amp;gt; &lt;span class=&#34;nv&#34;&gt;$OUT_FILE&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Top 20 IP addresses by number of request&amp;quot;&lt;/span&gt;
cat &lt;span class=&#34;nv&#34;&gt;$OUT_FILE&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;#allow for loop to split on new line&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;IFS_BAK&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$IFS&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;IFS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;
&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; i in &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;cat &lt;span class=&#34;nv&#34;&gt;$OUT_FILE&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;COUNT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print $1}&amp;#39;&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;IP_ADD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print $2}&amp;#39;&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;---------------------------------&amp;quot;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$IP_ADD&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; has made &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$COUNT&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; requests&amp;quot;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Whois Information&amp;quot;&lt;/span&gt;
    whois &lt;span class=&#34;nv&#34;&gt;$IP_ADD&lt;/span&gt; 
    &lt;span class=&#34;c1&#34;&gt;#lynx -dump http://who.cc/$IP_ADD # whois was blocked on the server i was using for some reason, use lynx as a work around&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;---------------------------------&amp;quot;&lt;/span&gt;
    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# set that back&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;IFS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$IFS_BAK&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;IFS_BAK&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You would use this to give you some idea of which IPs are hitting the server a lot.&lt;/p&gt;

&lt;p&gt;Usually you would expect to see a lot of these being search engines which you likely want to allow. However if you see any domestic or other IP addresses then you may choose to block these.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Magento Security Patch Script</title>
      <link>https://edmondscommerce.github.io/magento/magento-security-patch-script.html</link>
      <pubDate>Tue, 10 Jul 2012 16:29:28 +0000</pubDate>
      
      <guid>https://edmondscommerce.github.io/magento/magento-security-patch-script.html</guid>
      <description>&lt;p&gt;We are currently offering a free service to apply the security patches for any Magento store. &lt;a href=&#34;http://www.edmondscommerce.co.uk/magento/magento-security-vulnerability-free-assistance/&#34;&gt;You can read all about that here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For those of you who are comfortable SSHing into your server and running things manually but would like this to be as easy as possible, you can use our bash script to automatically determine which Magento security patch you require and then apply it.&lt;/p&gt;

&lt;p&gt;Simply run the following command:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span&gt;&lt;/span&gt;wget -qO- http://www.edmondscommerce.co.uk/stuff/applysecuritypatch.sh &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; /bin/sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;For information, this is the source of the above file.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;ch&#34;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; ! -f app/Mage.php &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
  &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Not in the magento basedir. please run from public_html, httpdocs, www or wherever index.php is.&amp;quot;&lt;/span&gt;
  &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; 99
&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;

&lt;span class=&#34;nv&#34;&gt;WGET_BINARY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;which wget&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$WGET_BINARY&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
  &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Can&amp;#39;t find wget in path... can&amp;#39;t continue&amp;quot;&lt;/span&gt;
  &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; 98
&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;

&lt;span class=&#34;nv&#34;&gt;MAGENTO_VERSION&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;grep &lt;span class=&#34;s1&#34;&gt;&amp;#39;function getVersionInfo\(\)&amp;#39;&lt;/span&gt; -A6 app/Mage.php &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed s/&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;^0-9&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;//g &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; tr &lt;span class=&#34;s1&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed s/&lt;span class=&#34;s1&#34;&gt;&amp;#39;\.\.*&amp;#39;&lt;/span&gt;// &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed s/&lt;span class=&#34;s1&#34;&gt;&amp;#39;\.$&amp;#39;&lt;/span&gt;//&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Your Magento version is &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$MAGENTO_VERSION&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;grep &lt;span class=&#34;s1&#34;&gt;&amp;#39;function getVersionInfo()&amp;#39;&lt;/span&gt; -A6 app/Mage.php &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;grep&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed s/,// &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed s/&lt;span class=&#34;se&#34;&gt;\&amp;gt;&lt;/span&gt;// &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed s/&lt;span class=&#34;s1&#34;&gt;&amp;#39;[\t ]&amp;#39;&lt;/span&gt;//g &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; tr &lt;span class=&#34;s2&#34;&gt;&amp;quot;a-z&amp;quot;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;A-Z&amp;quot;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed s/^/MAGENTO_/ &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed s/&lt;span class=&#34;s2&#34;&gt;&amp;quot;&amp;#39;&amp;quot;&lt;/span&gt;//g&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep MAGENTO

&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#Community Edition 1.4.0.0 through 1.4.1.1 http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.4.0.0-1.4.1.1.patch&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#Community Edition 1.4.2.0 http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.4.2.0.patch&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#Community Edition 1.5.0.0 through 1.7.0.1 http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.5.0.0-1.7.0.1.patch&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$MAGENTO_MAJOR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt; -eq &lt;span class=&#34;s2&#34;&gt;&amp;quot;1&amp;quot;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$MAGENTO_MINOR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt; -eq &lt;span class=&#34;s2&#34;&gt;&amp;quot;4&amp;quot;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$MAGENTO_PATCH&lt;/span&gt; -lt &lt;span class=&#34;s2&#34;&gt;&amp;quot;2&amp;quot;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
    	&lt;span class=&#34;nv&#34;&gt;CORRECT_PATCH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.4.0.0-1.4.1.1.patch&amp;#39;&lt;/span&gt;
      &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Running Magento &amp;lt; 1.4.2.0 - patch is &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$CORRECT_PATCH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
      &lt;span class=&#34;nv&#34;&gt;CORRECT_PATCH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.4.2.0.patch&amp;#39;&lt;/span&gt;
      &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Running Magento 1.4.2.0 - patch is &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$CORRECT_PATCH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$MAGENTO_MINOR&lt;/span&gt; -gt &lt;span class=&#34;s2&#34;&gt;&amp;quot;4&amp;quot;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$MAGENTO_MINOR&lt;/span&gt; -lt &lt;span class=&#34;s2&#34;&gt;&amp;quot;7&amp;quot;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
      &lt;span class=&#34;nv&#34;&gt;CORRECT_PATCH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.5.0.0-1.7.0.1.patch&amp;#39;&lt;/span&gt;
      &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Running Magento 1.5.0.0 or above - patch is &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$CORRECT_PATCH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$MAGENTO_MINOR&lt;/span&gt; -eq &lt;span class=&#34;s2&#34;&gt;&amp;quot;7&amp;quot;&lt;/span&gt; -a &lt;span class=&#34;nv&#34;&gt;$MAGENTO_PATCH&lt;/span&gt; -eq &lt;span class=&#34;s2&#34;&gt;&amp;quot;0&amp;quot;&lt;/span&gt; -a &lt;span class=&#34;nv&#34;&gt;$MAGENTO_REVISION&lt;/span&gt; -lt &lt;span class=&#34;s2&#34;&gt;&amp;quot;2&amp;quot;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
      &lt;span class=&#34;nv&#34;&gt;CORRECT_PATCH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;http://www.magentocommerce.com/downloads/assets/1.7.0.2/CE_1.5.0.0-1.7.0.1.patch&amp;#39;&lt;/span&gt;
      &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Running Magento 1.5.0.0 or above - patch is &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$CORRECT_PATCH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
      &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Running Magento 1.7.0.2 - already patched.&amp;quot;&lt;/span&gt;
      &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; 1
    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; 
  &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;You&amp;#39;re not running version 1.x.x.x of Magento, I have no idea what to do!&amp;quot;&lt;/span&gt;
  &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; 97
&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt; 

wget -O - &lt;span class=&#34;nv&#34;&gt;$CORRECT_PATCH&lt;/span&gt; 2&amp;gt; /dev/null &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; patch -p0
&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$?&lt;/span&gt; -eq &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
  &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;Patch succeeded.&amp;quot;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
  &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;For some reason the patch failed.  See the output above.&amp;quot;&lt;/span&gt;
  &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;quot;You could attempt to download the patch manually and apply it - the url is :- &amp;quot;&lt;/span&gt;
  &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$CORRECT_PATCH&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Please note this script is supplied without any warranty, use at your own risk. We are not supplying the patch files simply making it easy to download and apply the correct one.&lt;/p&gt;

&lt;p&gt;We strongly recommend you patch your store as soon as possible.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;&lt;a href=&#34;http://www.edmondscommerce.co.uk/contact-us/?about=Free+Magento+Security+Fix&#34;&gt; If you need help, just ask!&lt;/a&gt;&lt;/b&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Static Analysis Tool for PHP</title>
      <link>https://edmondscommerce.github.io/php/static-analysis-tool-for-php.html</link>
      <pubDate>Tue, 20 Mar 2012 07:14:30 +0000</pubDate>
      
      <guid>https://edmondscommerce.github.io/php/static-analysis-tool-for-php.html</guid>
      <description>&lt;p&gt;Static analysis is the process of parsing and searching through code without actually running it. It is the equivalent of someone opening your code base in their IDE and reading through it in detail.&lt;/p&gt;

&lt;p&gt;RIPS is a tool I have just come across for doing PHP static analysis. You just need a working Apache stack etc for it to work which any PHP dev is going to have.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://rips-scanner.sourceforge.net/&#34;&gt;http://rips-scanner.sourceforge.net/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>