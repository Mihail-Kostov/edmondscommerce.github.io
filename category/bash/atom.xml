<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: bash | Edmonds Commerce Dev Blog]]></title>
  <link href="http://edmondscommerce.github.io/category/bash/atom.xml" rel="self"/>
  <link href="http://edmondscommerce.github.io/"/>
  <updated>2014-03-04T16:57:08+00:00</updated>
  <id>http://edmondscommerce.github.io/</id>
  <author>
    <name><![CDATA[EdmondsCommerce Development Team]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Finding out the biggest folders in a Magento or other website root]]></title>
    <link href="http://edmondscommerce.github.io/bash/finding-out-the-biggest-folders-in-a-magento-or-other-website-root.html"/>
    <updated>2014-03-04T16:10:19+00:00</updated>
    <id>http://edmondscommerce.github.io/bash/finding-out-the-biggest-folders-in-a-magento-or-other-website-root</id>
    <content type="html"><![CDATA[<p>Often pulling down a Magento or other site you&rsquo;ll find a load of files that have been dumped in the web root. Downloading these is often pointless and takes extra time, so you&rsquo;ll want to exclude them from an rsync (using the <code>--exclude 'path'</code> paramter).</p>

<p>A simple bash command for this is:</p>

<p>```bash</p>

<p>du -m &mdash;max-depth=1 &mdash;exclude media | sort -n</p>

<p>```</p>

<p>This invokes <code>du</code> to show each direct subfolder&rsquo;s contents' size, and pipes it through to <code>sort</code> to rank them in increasing size. The sizes are in MB. See <a href="http://explainshell.com/explain?cmd=du+-m+--max-depth%3D1+--exclude+media+|+sort+-n">a more broken down explanation here</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bash Find Files and Echo Filename and Contents]]></title>
    <link href="http://edmondscommerce.github.io/bash/bash-find-files-and-echo-filename-and-contents.html"/>
    <updated>2014-01-13T17:18:55+00:00</updated>
    <id>http://edmondscommerce.github.io/bash/bash-find-files-and-echo-filename-and-contents</id>
    <content type="html"><![CDATA[<p>I thought this one would be easy but actually its taken a bit of messing about.</p>

<p>The goal was to find files matching a pattern, in this case a file name, and then echo out the full path to the file and also the file contents.</p>

<p>If you are interested, the reason I was doing this was to understand the <em>interesting</em> approach that the ORO Platform has taken to setting up the AppKernel bundles in Symfony2.</p>

<p>The command is here:</p>

<p><code>
 find . -type f -iwholename '*bundles.yml' | xargs -I % bash -c "echo ''; echo '----------------------'; echo %; cat %; echo '';"
</code></p>

<p>I have added in some extra echos to make it format nicely but the main thing is that I am using xargs to handle the results from find.</p>

<p>The individual result is assigned to the % character. Then a sub shell is instantiated to manage a specific command that both echos % itself and then uses cat to echo the contents of %.</p>

<p>This gave me an output like this:</p>

<h2>```</h2>

<p>./vendor/oro/platform/src/Oro/Bundle/ImportExportBundle/Resources/config/oro/bundles.yml
bundles:</p>

<pre><code>- Oro\Bundle\ImportExportBundle\OroImportExportBundle
</code></pre>

<hr />

<p>./vendor/oro/platform/src/Oro/Bundle/PlatformBundle/Resources/config/oro/bundles.yml
bundles:</p>

<pre><code>- { name: Symfony\Bundle\FrameworkBundle\FrameworkBundle, priority: -255 }
- { name: Symfony\Bundle\SecurityBundle\SecurityBundle, priority: -250 }
- { name: Symfony\Bundle\TwigBundle\TwigBundle, priority: -245 }
- { name: Symfony\Bundle\MonologBundle\MonologBundle, priority: -240 }
- { name: Symfony\Bundle\SwiftmailerBundle\SwiftmailerBundle, priority: -235 }
- { name: Symfony\Bundle\AsseticBundle\AsseticBundle, priority: -230 }
- { name: Doctrine\Bundle\DoctrineBundle\DoctrineBundle, priority: -225 }
- { name: Doctrine\Bundle\FixturesBundle\DoctrineFixturesBundle, priority: -220 }
- { name: Sensio\Bundle\FrameworkExtraBundle\SensioFrameworkExtraBundle, priority: -215 }
- { name: JMS\SerializerBundle\JMSSerializerBundle, kernel: true, priority: -210 }
- { name: Knp\Bundle\PaginatorBundle\KnpPaginatorBundle, priority: -205 }
- { name: Knp\Bundle\MenuBundle\KnpMenuBundle, priority: -200 }
- { name: FOS\RestBundle\FOSRestBundle, priority: -195 }
- { name: FOS\JsRoutingBundle\FOSJsRoutingBundle, priority: -190 }
- { name: Nelmio\ApiDocBundle\NelmioApiDocBundle, priority: -185 }
- { name: BeSimple\SoapBundle\BeSimpleSoapBundle, priority: -180 }
- { name: Stof\DoctrineExtensionsBundle\StofDoctrineExtensionsBundle, priority: -175 }
- { name: Escape\WSSEAuthenticationBundle\EscapeWSSEAuthenticationBundle, priority: -170 }
- { name: Liip\ImagineBundle\LiipImagineBundle, priority: -165 }
- { name: Genemu\Bundle\FormBundle\GenemuFormBundle, priority: -155 }
- { name: A2lix\TranslationFormBundle\A2lixTranslationFormBundle, priority: -150 }
- { name: Lexik\Bundle\MaintenanceBundle\LexikMaintenanceBundle, priority: -145 }
- Oro\Bundle\PlatformBundle\OroPlatformBundle
</code></pre>

<p>```</p>

<p>And you can see that the bundle file I was looking for is in the Platform Bundle.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Automatically convert old PHP file to camelCase ]]></title>
    <link href="http://edmondscommerce.github.io/bash/automatically-convert-old-php-file-to-camelcase.html"/>
    <updated>2013-10-17T10:53:15+01:00</updated>
    <id>http://edmondscommerce.github.io/bash/automatically-convert-old-php-file-to-camelcase</id>
    <content type="html"><![CDATA[<p>I&rsquo;ve recently been working with an old project that uses a combination of different coding styles.</p>

<p>One of the more trivial annoyances with this is that the variables used through the project are a combination of $camelCase and $snake_case which throws of the coding standards tools that I use.</p>

<p>To get round this I have put a little script together that will convert $snake_case to $camelCase automatically.</p>

<p>Obviously, you will need to check the results of this to make sure that there are not variables that should not be changed, but it has saved me a lot of time doing this manually.</p>

<p>I&rsquo;ve added this to my .bash_allias file, though it could easily be turned into a standalone script if required</p>

<p>```bash</p>

<h1>Fix legacy code</h1>

<p> cammelCase() {
   vim -E -s $@ &lt;&lt;-EOF
   :%s#\%($\%(\k+))\@&lt;=_(\k)#\u\1#g
   :update
   :quit
EOF</p>

<p>}</p>

<p>```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tab Complete for SSH and SCP]]></title>
    <link href="http://edmondscommerce.github.io/magento/bash/tab-complete-for-ssh-and-scp.html"/>
    <updated>2013-07-26T10:31:41+01:00</updated>
    <id>http://edmondscommerce.github.io/magento/bash/tab-complete-for-ssh-and-scp</id>
    <content type="html"><![CDATA[<p>If you are required to connect to different servers, then remembering and typing in all of the details can become tiresome.</p>

<p>Thankfully there is simple solution to this, using the SSH config file.</p>

<p>To make use of this, create the following file ~/.ssh/config</p>

<p>In there add the following details</p>

<p>```bash</p>

<p>Host easyToRememberName</p>

<pre><code>HostName 127.0.0.1
Port 2020
User ross
</code></pre>

<p>```</p>

<p>You will then can tab completion on ssh and scp commands. You can see more of the options that can be set in the file <a href="http://linux.die.net/man/5/ssh_config" title="ssh config man page">here</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Side by Side diff on the command line]]></title>
    <link href="http://edmondscommerce.github.io/bash/side-by-side-diff-on-the-command-line.html"/>
    <updated>2013-07-09T17:25:18+01:00</updated>
    <id>http://edmondscommerce.github.io/bash/side-by-side-diff-on-the-command-line</id>
    <content type="html"><![CDATA[<p>I have recently discovered a handy trick when comparing files on the command line.</p>

<p>Adding the -y command line options to diff will display the files side by side.</p>

<p>Using this with the <a href="http://www.colordiff.org/" title="Color Diff" target="_blank">Color Diff</a> tool will help you transform this</p>

<p><img src="/assets/normal-diff.png"></p>

<p>To this</p>

<p><img src="/assets/color-diff-600x200.png"></p>
]]></content>
  </entry>
  
</feed>
