<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Magento on Edmonds Commerce Dev Blog</title>
    <link>http://edmondscommerce.github.io/categories/magento/</link>
    <description>Recent content in Magento on Edmonds Commerce Dev Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 30 Jun 2015 11:53:51 +0100</lastBuildDate>
    <atom:link href="http://edmondscommerce.github.io/categories/magento/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Magento Exploit - Stealing Customer Info Including Card Details - Check your site now!</title>
      <link>http://edmondscommerce.github.io/magento/magento-exploit-stealing-customer-info-including-card-details-check-your-site-now.html</link>
      <pubDate>Tue, 30 Jun 2015 11:53:51 +0100</pubDate>
      
      <guid>http://edmondscommerce.github.io/magento/magento-exploit-stealing-customer-info-including-card-details-check-your-site-now.html</guid>
      <description>

&lt;p&gt;We have detected malicious code running on one of our client&amp;rsquo;s Magento websites. The code in question is harvesting customer details which are then being stolen.&lt;/p&gt;

&lt;p&gt;The process is not very sophisticated though it does seem to be effective. Unfortunately investigating it further it seems that there are a number of hacked sites and there are even sensitive details including, in some cases, credit card information that is visible in Google&amp;rsquo;s own cache.&lt;/p&gt;

&lt;h3 id=&#34;analysis&#34;&gt;Analysis&lt;/h3&gt;

&lt;p&gt;As is common with this kind of exploit, there is a PHP file that then calls &lt;code&gt;eval&lt;/code&gt; on a base64 encoded set of code.&lt;/p&gt;

&lt;p&gt;In this case, the file was called abstractleft.php and was located in the Magento shell directory. The contents of the file begin with this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?PHP&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;eval&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;gzinflate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;base64_decode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;f3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Xxs38jiO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;36&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Px&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Pyta92K1tDEnaBg&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;....&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The top of the file indicates that it is a web shell.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;/* WSO 2.1 (Web Shell by pgems.in) */&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The file is being used to generate a dump of data, with regular POST requests coming from the IP: &lt;code&gt;46.21.151.107&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;In the case of our client, the issue is being resolved quickly and only seems to have been live for a day or so, however looking through Google&amp;rsquo;s index its clear that there are other sites that have been leaking a lot of data.&lt;/p&gt;

&lt;p&gt;In the worst case, the Magento sites have been using the Saved Credit Card payment method. This means that the data scrapes have been pulling customer details and also the full card details. This is another reason why it is a &lt;em&gt;really bad idea&lt;/em&gt; to use the Saved Credit Card payment method.&lt;/p&gt;

&lt;h3 id=&#34;defense&#34;&gt;Defense&lt;/h3&gt;

&lt;p&gt;It is not clear exactly how the client server was compromised however it is important to ensure that all access credentials are updated and also firewall rules are reviewed and updated.&lt;/p&gt;

&lt;p&gt;Ideally we would like to know exactly how the attacker gained access to the server to place the exploit file. This involves examining security logs and other logs. If the attack is not too sophisticated then there is a good chance that there is a lot of debug information that should be helpful in finding out exactly how the attack has taken place.&lt;/p&gt;

&lt;p&gt;The main thing for Magento sites now though is to ensure that all security patches have been applied. If your live site has not been patched then really you must expect this kind of hack.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Using Magento 1.9.1&#39;s Colour Swatches in your custom theme</title>
      <link>http://edmondscommerce.github.io/magento/using-magento-1-dot-9-1-s-colour-swatches-in-your-theme.html</link>
      <pubDate>Thu, 18 Jun 2015 18:56:49 +0000</pubDate>
      
      <guid>http://edmondscommerce.github.io/magento/using-magento-1-dot-9-1-s-colour-swatches-in-your-theme.html</guid>
      <description>&lt;p&gt;If you&amp;rsquo;ve upgraded to Magento 1.9.1 you might have noticed new functionality in the Admin to add colour swatches to your attributes. These work well but for reasons only known to Magento, these require you to be using the new rwd theme, or a derivitive of it. There&amp;rsquo;s no reference to it in base/default so if your theme isn&amp;rsquo;t a derivitive of rwd you&amp;rsquo;ll need to copy the code across.&lt;/p&gt;

&lt;p&gt;If you look in the rwd/default theme, you&amp;rsquo;ll notice there are folders for configurableswatches in layout, template and skin. These are the ones you&amp;rsquo;ll need to copy across. But there&amp;rsquo;s also a bit of customisation needed.&lt;/p&gt;

&lt;p&gt;###Step 1: Copy over the colourswatches files and folders&lt;/p&gt;

&lt;p&gt;Copy these files from the rwd theme to the same places in your custom theme&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;app/design/frontend/rwd/default/&lt;/code&gt;&lt;strong&gt;&lt;code&gt;layout/configurableswatches.xml&lt;/code&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;app/design/frontend/rwd/default/&lt;/code&gt;&lt;strong&gt;&lt;code&gt;template/configurableswatches/&lt;/code&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;skin/frontend/rwd/default/&lt;/code&gt;&lt;strong&gt;&lt;code&gt;js/configurableswatches/&lt;/code&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;###Step 2: Update your theme&amp;rsquo;s layout&lt;/p&gt;

&lt;p&gt;The layout file &lt;code&gt;configurableswatches.xml&lt;/code&gt; expects certain blocks to be present, which are only set in rwd&amp;rsquo;s &lt;code&gt;catalog.xml&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Add the following lines to your theme&amp;rsquo;s &lt;code&gt;catalog.xml&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    &amp;lt;PRODUCT_TYPE_configurable&amp;gt;
        ...
         &amp;lt;reference name=&amp;quot;product.info.options.wrapper&amp;quot;&amp;gt;
             &amp;lt;block type=&amp;quot;catalog/product_view_type_configurable&amp;quot; name=&amp;quot;product.info.options.configurable&amp;quot; as=&amp;quot;options_configurable&amp;quot; before=&amp;quot;-&amp;quot; template=&amp;quot;catalog/product/view/type/options/configurable.phtml&amp;quot;&amp;gt;
    +             &amp;lt;block type=&amp;quot;core/text_list&amp;quot; name=&amp;quot;product.info.options.configurable.renderers&amp;quot; as=&amp;quot;attr_renderers&amp;quot; /&amp;gt;
    +             &amp;lt;block type=&amp;quot;core/text_list&amp;quot; name=&amp;quot;product.info.options.configurable.after&amp;quot; as=&amp;quot;after&amp;quot; /&amp;gt;
             &amp;lt;/block&amp;gt;
         &amp;lt;/reference&amp;gt;
     &amp;lt;/PRODUCT_TYPE_configurable&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;###Step 3: Add your images&lt;/p&gt;

&lt;p&gt;There&amp;rsquo;s two ways you can set the swatch images:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Globally at &lt;code&gt;media/wysiwyg/swatches&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;On the attribute at &amp;gt; Catalog &amp;gt; Attributes &amp;gt; Manage Attributes &amp;gt; [your attribute] &amp;gt; Manage Label/Options (don&amp;rsquo;t forget to save the attribute after it&amp;rsquo;s uploaded)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;###Step 4: Enable the swatches&lt;/p&gt;

&lt;p&gt;You&amp;rsquo;ll need to enable the use of swatches at System Configuration &amp;gt; Catalog &amp;gt; Configurable Swatches.&lt;/p&gt;

&lt;p&gt;In General Settings, set Enabled to Yes and select your attribures in &amp;ldquo;Product Attributes to Show as Swatches in Product Detail&amp;rdquo;&lt;/p&gt;

&lt;p&gt;###Step 5: Apply CSS&lt;/p&gt;

&lt;p&gt;As with everything else the style information is only in rwd&amp;rsquo;s stylesheets. You&amp;rsquo;ll likely need to make some small modifications to make them look acceptable. As a baseline this should suffice:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;.product-options .swatch-attr .configurable-swatch-list li {
    display: inline-block;
    border:1px solid #CACACA;
    padding: 1px;
}
.product-options .swatch-attr .configurable-swatch-list li.selected {
    border-color:#0095D3;
}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>SUPEE-5344 - a New Patch for Magento Community 1.6, 1.7, 1.8 and 1.9; Enterprise 1.11, 1.12, 1.13 and 1.14</title>
      <link>http://edmondscommerce.github.io/magento/supee-5344-a-new-patch-for-magento-community-1-dot-6-1-dot-7-1-dot-8-and-1-dot-9-enterprise-1-dot-11-1-dot-12-1-dot-13-and-1-dot-14.html</link>
      <pubDate>Wed, 11 Feb 2015 15:53:28 +0000</pubDate>
      
      <guid>http://edmondscommerce.github.io/magento/supee-5344-a-new-patch-for-magento-community-1-dot-6-1-dot-7-1-dot-8-and-1-dot-9-enterprise-1-dot-11-1-dot-12-1-dot-13-and-1-dot-14.html</guid>
      <description>&lt;p&gt;Magento has become aware of a vulnerability requiring patching as soon as possible. The vulnerability allows an attacker to send a specially crafted request to a Magento store and allow it to run Magento code as though it were on the live server. Magento aren&amp;rsquo;t aware of this having been used in the wild, but now that the vulnerability is public, attackers may use it against existing stores.&lt;/p&gt;

&lt;p&gt;This vulnerability affects all versions of Magento, and Magento have released patches for versions Community Edition 1.6 to 1.9, and Enterprise 1.11 to 1.14.&lt;/p&gt;

&lt;p&gt;The fix is to apply some stricter IP address checks to requests.&lt;/p&gt;

&lt;p&gt;###Patching your Magento store&lt;/p&gt;

&lt;p&gt;To get the patch:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note: at time of writing, the Downloads of the CE edition seems to under heavy load and is currently presenting a white page instead of the shell file&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Community Edition&lt;/strong&gt; users should go to the &lt;a href=&#34;http://www.magentocommerce.com/download&#34; target=&#34;_blank&#34;&gt;Magento downloads page&lt;/a&gt; and scroll to the &amp;ldquo;Magento Community Edition Patches&amp;rdquo; section. From there, select your version of Magento and click Download&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Enterprise Edition&lt;/strong&gt; users should log into their Magento account Magento Support Portal&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You&amp;rsquo;ll be presented with a shell file which will make the necessary changes to your store. Upload this patch to your server in the Magento root and run it against your store.&lt;/p&gt;

&lt;p&gt;The patch changes core files, and it&amp;rsquo;s always recommended to test changes on a development copy before the live site, especially if you have modifications to your core code. Also keep in mind that any upgrades pre-1.9.0.1 will remove these changes, and the patch will have to be re-run.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;code&gt;cd /your/magento/root/&lt;/code&gt; - Navigate to the root of Magento&lt;/li&gt;
&lt;li&gt;&lt;code&gt;./sh PATCH_SUPEE-5344_CE_1.8.0.0_v1.sh&lt;/code&gt; - Run the patches&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rm PATCH_SUPEE-5344_CE_1.8.0.0_v1.sh&lt;/code&gt; - Delete the patch file, so that it can&amp;rsquo;t be re-run by the public&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rm -rf var/cache/*&lt;/code&gt; - Clear Magento&amp;rsquo;s cache&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Reload a page and the patch will have taken effect.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SUPEE-3941 - A new patch for Magento Community 1.6, 1.7, 1.8 and 1.9; Enterprise 1.11, 1.12, 1.13 and 1.14</title>
      <link>http://edmondscommerce.github.io/magento/supee-3941-a-new-patch-for-magento-community-1-dot-6-1-dot-7-1-dot-8-and-1-dot-9-enterprise-1-dot-11-1-dot-12-1-dot-13-and-1-dot-14.html</link>
      <pubDate>Wed, 11 Feb 2015 10:54:06 +0000</pubDate>
      
      <guid>http://edmondscommerce.github.io/magento/supee-3941-a-new-patch-for-magento-community-1-dot-6-1-dot-7-1-dot-8-and-1-dot-9-enterprise-1-dot-11-1-dot-12-1-dot-13-and-1-dot-14.html</guid>
      <description>&lt;p&gt;This post was published with the incorrect vulnerability code; &lt;a href=&#34;http://edmondscommerce.github.io/magento/supee-5344-a-new-patch-for-magento-community-1-dot-6-1-dot-7-1-dot-8-and-1-dot-9-enterprise-1-dot-11-1-dot-12-1-dot-13-and-1-dot-14.html&#34;&gt;this article has been moved to this post&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Intermittent PayPal IPN failure in Magento</title>
      <link>http://edmondscommerce.github.io/magento/intermittent-paypal-ipn-failure-in-magento.html</link>
      <pubDate>Wed, 15 Oct 2014 09:53:44 +0000</pubDate>
      
      <guid>http://edmondscommerce.github.io/magento/intermittent-paypal-ipn-failure-in-magento.html</guid>
      <description>&lt;p&gt;On one or two store we had an issue with intermittent IPN failures. Some paypal orders would be stuck on the &amp;lsquo;Pending&amp;rsquo; status even if there was a sucessful paypal payment. In the exception logs there would be the following exception being thrown &amp;lsquo;PayPal IPN postback failure. See paypal_unknown_ipn.log for details.&amp;rsquo; on line 156 of app/code/core/Mage/Paypal/Model/Ipn.php.&lt;/p&gt;

&lt;p&gt;###What the issue turned out to be&lt;/p&gt;

&lt;p&gt;The issue turned out to be curl adding in extra error. On occasions curl will send the following header &amp;lsquo;Expect: 100&amp;rsquo;. The idea behind that is that rather than curl just send the data. It will send a inital request just to check if the web server will accept the data. Curl will usually fall on this bahaviour if the request is above a certain size.&lt;/p&gt;

&lt;p&gt;It turns out that the magento implementation assumes that the response will be consitant. But with the ocasional &amp;lsquo;Expect&amp;rsquo; header bing in the request this is not always the case.&lt;/p&gt;

&lt;p&gt;In the _postBack method in the IPN class where it makes the curl post back is recived there is the following code near to the end of the method.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;    $response = preg_split(&amp;#39;/^\r?$/m&amp;#39;, $response, 2);&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;    $response = trim($response[1]);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This code assumes the line position of where the &amp;lsquo;VERIFIED&amp;rsquo; line would occur. To resolve the header issue the following code should be used instead.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;    $response = preg_split(&amp;#39;/^\r?$/m&amp;#39;, $response);&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;    $response = trim(end($response));&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;As the &amp;lsquo;VERIFIED&amp;rsquo; line will always be the last line in the response. Regardless of any extra headers being added. This should resolve the issue but of corse remeber to use the local method and copy the class to the local folder with the correct path before doing the modification.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Magento 1.9 &amp;amp; 1.14 released</title>
      <link>http://edmondscommerce.github.io/magento/magento-1-dot-9-and-1-dot-14-released.html</link>
      <pubDate>Wed, 14 May 2014 11:12:02 +0000</pubDate>
      
      <guid>http://edmondscommerce.github.io/magento/magento-1-dot-9-and-1-dot-14-released.html</guid>
      <description>&lt;p&gt;Magento has released the latest version of both CE and EE.&lt;/p&gt;

&lt;p&gt;The big changes that are included are as follows&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Responsive design included as default&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Both editions now come with a responsive theme. This introduces jQuery, SASS, and Compass into native Magento and should allow for easier customisation in the future.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Bill Me Later&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The PayPal integration has been upgraded to include the &lt;a href=&#34;https://www.paypal.com/webapps/mpp/promotional-financing&#34; target=&#34;_blank&#34;&gt;Bill Me Later&lt;/a&gt; financing option. This allows customer to pay for products over six months whilst the merchant gets paid straight away.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Other security fix and performance fixes&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The full list of changes can be seen &lt;a href=&#34;http://www.magentocommerce.com/knowledge-base/entry/new-features-ce19-ee114&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SagePay, OneStepCheckout, &#39;Transaction could not be cancelled and order was not created, cart was modified while customer on payment pages&#39;</title>
      <link>http://edmondscommerce.github.io/magento/sagepay-onestepcheckout-transaction-could-not-be-cancelled-and-order-was-not-created-cart-was-modified-while-customer-on-payment-pages.html</link>
      <pubDate>Thu, 24 Apr 2014 19:17:35 +0000</pubDate>
      
      <guid>http://edmondscommerce.github.io/magento/sagepay-onestepcheckout-transaction-could-not-be-cancelled-and-order-was-not-created-cart-was-modified-while-customer-on-payment-pages.html</guid>
      <description>&lt;p&gt;I spent this morning dealing with a Magento sit that was unable to process Credit Card payments when they were placed with SagePay.&lt;/p&gt;

&lt;p&gt;When a customer tried to place an order they were able to enter that card details, but were then presented with an alert with the following message&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Your order could not be completed, please try again. Thanks.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;They were using the &lt;a href=&#34;https://github.com/ebizmarts/sage-pay-suite-ce&#34; target=&#34;_blank&#34;&gt;EbizMarts SagePay CE Module&lt;/a&gt;, so I had a look around to see if the error was known&lt;/p&gt;

&lt;p&gt;It appears that a recent release of the SagePay Module introduces some additional checks before creating the order and the current release of the &lt;a href=&#34;http://www.onestepcheckout.com/&#34; target=&#34;_blank&#34;&gt;OneStepCheckout&lt;/a&gt; is not compatible with this.&lt;/p&gt;

&lt;p&gt;If you look straight at the SagePay Logs you may also see the following errors, which may indicate the same problem.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;DEBUG: 4028 : The related transaction cannot be found.&lt;/li&gt;
&lt;li&gt;DEBUG: Your order could not be completed, please try again. Thanks.

&lt;ul&gt;
&lt;li&gt;CRIT: Transaction XXXXXXXXX-XXXX-XX-XX-XX-XX-XX could not be cancelled and order was not created, cart was modified while customer on payment pages.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Thankfully there is a simple fix for this. In the &lt;strong&gt;app/code/local/Idev/OneStepCheckout/controllers/IndexController.php&lt;/strong&gt; file you need to add the following line to the indexAction method&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;Mage::getSingleton(&amp;#39;checkout/session&amp;#39;)-&amp;gt;setCartWasUpdated(false);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Just before&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;$this-&amp;gt;loadLayout();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and then everything will work correctly.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Redirect to previous page in Magento after logout</title>
      <link>http://edmondscommerce.github.io/magento/redirect-to-previous-page-in-magento-after-logout.html</link>
      <pubDate>Tue, 25 Feb 2014 15:58:02 +0000</pubDate>
      
      <guid>http://edmondscommerce.github.io/magento/redirect-to-previous-page-in-magento-after-logout.html</guid>
      <description>&lt;p&gt;By default Magento sends a user to a logoutSuccess page after they choose to log out. This is &amp;lsquo;hard-baked&amp;rsquo; into the Customer controller&amp;rsquo;s logout action in the line &lt;code&gt;$this-&amp;gt;_redirect(&#39;*/*/logoutSuccess&#39;);&lt;/code&gt;. You can choose to set the Javascript redirect in the template &lt;code&gt;customer/logout.phtml&lt;/code&gt;, but a better idea is to bypass the logout success page entirely.&lt;/p&gt;

&lt;p&gt;The way to do this is to override the &lt;code&gt;logoutAction()&lt;/code&gt; method in the &lt;code&gt;customerController&lt;/code&gt;:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;http://www.magentocommerce.com/wiki/5_-_modules_and_development/0_-_module_development_in_magento/how_to_overload_a_controller&#34; target=&#34;_blank&#34;&gt;Rewrite the customer controller as documented here&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Override the &lt;code&gt;logoutAction()&lt;/code&gt; method&lt;/li&gt;
&lt;li&gt;Set the redirect as below&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;require_once&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Mage/Customer/controllers/AccountController.php&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;


    &lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;EdmondsCommerce_LogoutRedirect_AccountController&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Mage_Customer_AccountController&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;logoutAction&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nv&#34;&gt;$url&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Mage&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getSingleton&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;core/session&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getLastUrl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
            &lt;span class=&#34;nv&#34;&gt;$this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;_getSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;logout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setBeforeAuthUrl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Mage&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getUrl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;());&lt;/span&gt;
    
            &lt;span class=&#34;nv&#34;&gt;$this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;_redirectUrl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Preorders in Magento Using Attribute Value</title>
      <link>http://edmondscommerce.github.io/magento/preorders-in-magento-using-attribute-value.html</link>
      <pubDate>Thu, 23 Jan 2014 15:52:41 +0000</pubDate>
      
      <guid>http://edmondscommerce.github.io/magento/preorders-in-magento-using-attribute-value.html</guid>
      <description>&lt;p&gt;Magento doesn&amp;rsquo;t come built with the ability to place preorders: the closest match is in the form of back orders, but there&amp;rsquo;s a crucial difference between the two. Backorders are orders placed when stock isn&amp;rsquo;t present and are shipped as soon as stock becomes available. Preorders however usually have a predefined point at which they will be shipped.&lt;/p&gt;

&lt;p&gt;The excellent &lt;a href=&#34;http://www.aitoc.com/en/magentomods_pre_order.html&#34; target=&#34;_blank&#34;&gt;Aitoc Prorders&lt;/a&gt; extension provides a drop-in ability to accept preorders including button text changes, checkout customisation and different order statuses for preorders.&lt;/p&gt;

&lt;p&gt;One aspect I had to work around is that the way to define a preorder is by using the extra &amp;ldquo;Pre-Orders&amp;rdquo; value of the Magento &amp;ldquo;Backorders&amp;rdquo; Inventory field. In my case I wanted to define a preorder to be a product with a Release Date set in the future. Fortunately the Aitc Preorders module has a very discrete function where it holds the definition of a Preorder. Changing this is a simple case of overriding that method&lt;/p&gt;

&lt;p&gt;###Creating a new extension&lt;/p&gt;

&lt;p&gt;You need to create a new standard Magento extension, creating the usual boilerplate files:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;/app/etc/modules/Namespace_Module.xml&lt;/li&gt;
&lt;li&gt;/app/code/local/Namespace/Module/etc/config.xml&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;###Rewrite the Aitoc module&amp;rsquo;s Product model&lt;/p&gt;

&lt;p&gt;In /app/code/local/Namespace/Module/etc/config.xml, set up your XML:&lt;/p&gt;

&lt;p&gt;{% codeblock lang:xml]
&amp;lt;?xml version=&amp;ldquo;1.0&amp;rdquo;?&amp;gt;
&lt;config&gt;
    &lt;modules&gt;
        &lt;Namespace_Module&gt;
            &lt;version&gt;0.1.0&lt;/version&gt;
        &lt;/Namespace_Module&gt;
    &lt;/modules&gt;
    &lt;global&gt;
        &lt;models&gt;
            &lt;catalog&gt;
                &lt;rewrite&gt;
                    &lt;product&gt;Namespace_Module_Model_Aitpreorder_Rewrite_CatalogProduct&lt;/product&gt;
                &lt;/rewrite&gt;
            &lt;/catalog&gt;
        &lt;/models&gt;
    &lt;/global&gt;
&lt;/config&gt;&lt;br /&gt;
{% endcodeblock]&lt;/p&gt;

&lt;p&gt;###Create the class and override the function&lt;/p&gt;

&lt;p&gt;Create the file /app/code/local/Namespace/Module/Model/Aitpreorder/Rewrite/CatalogProduct.php&lt;/p&gt;

&lt;p&gt;{% codeblock lang:php]&lt;/p&gt;

&lt;p&gt;&amp;lt;?php&lt;/p&gt;

&lt;p&gt;class Namespace_Module_Model_Aitpreorder_Rewrite_CatalogProduct extends Aitoc_Aitpreorder_Model_Rewrite_CatalogProduct {
    public function getPreorder()
    {
        // Add whatever logic you like here and return it as a boolean
        $releaseDate = DateTime::createFromFormat(&amp;lsquo;Y-m-d H:i:s&amp;rsquo;, $this-&amp;gt;getReleaseDate());
        return $releaseDate &amp;gt; new DateTime();
    }&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;{% endcodeblock]&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Magento 1.8 released</title>
      <link>http://edmondscommerce.github.io/magento/magento-1-8-released.html</link>
      <pubDate>Mon, 30 Sep 2013 10:01:28 +0000</pubDate>
      
      <guid>http://edmondscommerce.github.io/magento/magento-1-8-released.html</guid>
      <description>&lt;p&gt;Today I got a notification through that Magento 1.8 had finally been released.&lt;/p&gt;

&lt;p&gt;This has been in beta since alpha since April, and contains server fixes that a lot of people have been waiting for.&lt;/p&gt;

&lt;p&gt;The most important one for UK vendors is that the rounding issue in tax calculations has been fixed.&lt;/p&gt;

&lt;p&gt;There are also improvements to caching and database performance. The full release notes can be seen &lt;a href=&#34;http://www.magentocommerce.com/knowledge-base/entry/ce-18-later-release-notes&#34;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;These are issues that have affected merchants since that change in the VAT rate, so we would recommend upgrading for everyone at this time.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Add a Backorder Message on Magento&#39;s Product Page</title>
      <link>http://edmondscommerce.github.io/magento/ssssssssssssss.html</link>
      <pubDate>Thu, 29 Aug 2013 15:37:37 +0000</pubDate>
      
      <guid>http://edmondscommerce.github.io/magento/ssssssssssssss.html</guid>
      <description>&lt;p&gt;Magento&amp;rsquo;s use of backorders does notify the customer, but only once you actually reach the basket page, which can lead to disappointment and frustration from the customer. The better answer is to display this on the product page, in place of the &amp;ldquo;In Stock&amp;rdquo; message.&lt;/p&gt;

&lt;p&gt;To acheive this, we just need to amend (read: override) the templates at&lt;/p&gt;

&lt;p&gt;app/design/frontend/base/default/template/catalog/product/view/type/simple.phtml
app/design/frontend/base/default/template/catalog/product/view/type/grouped.phtml
app/design/frontend/base/default/template/catalog/product/view/type/configurable.phtml&lt;/p&gt;

&lt;p&gt;And amend it to look like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$_product&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getProduct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getPriceHtml&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$_product&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$stockLevel&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Mage&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getModel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;cataloginventory/stock_item&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;loadByProduct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$_product&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getQty&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;&lt;/span&gt;

&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$_product&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;isSaleable&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$stockLevel&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strong&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;    &amp;lt;p class=&amp;quot;availability in-stock&amp;quot;&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Availability:&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt; &amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;In stock&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;&amp;lt;/span&amp;gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;elseif&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$_product&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;isSaleable&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$stockLevel&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;    &amp;lt;p class=&amp;quot;availability in-stock&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Availability:&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt; &amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Available for Backorder&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;&amp;lt;/span&amp;gt;&amp;lt;br /&amp;gt;&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Please allow up to two weeks for delivery&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;    &amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;    &amp;lt;p class=&amp;quot;availability out-of-stock&amp;quot;&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Availability:&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt; &amp;lt;span&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Out of stock&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;&amp;lt;/span&amp;gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span class=&#34;cp&#34;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;endif&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;cp&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Tab Complete for SSH and SCP</title>
      <link>http://edmondscommerce.github.io/magento/bash/tab-complete-for-ssh-and-scp.html</link>
      <pubDate>Fri, 26 Jul 2013 10:31:41 +0000</pubDate>
      
      <guid>http://edmondscommerce.github.io/magento/bash/tab-complete-for-ssh-and-scp.html</guid>
      <description>&lt;p&gt;If you are required to connect to different servers, then remembering and typing in all of the details can become tiresome.&lt;/p&gt;

&lt;p&gt;Thankfully there is simple solution to this, using the SSH config file.&lt;/p&gt;

&lt;p&gt;To make use of this, create the following file ~/.ssh/config&lt;/p&gt;

&lt;p&gt;In there add the following details&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span&gt;&lt;/span&gt;Host easyToRememberName
    HostName 127.0.0.1
    Port 2020
    User ross
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You will then can tab completion on ssh and scp commands. You can see more of the options that can be set in the file &lt;a href=&#34;http://linux.die.net/man/5/ssh_config&#34; title=&#34;ssh config man page&#34;&gt;here&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Sylius E-Commerce based on Symfony</title>
      <link>http://edmondscommerce.github.io/magento/sylius-e-commerce-based-on-symfony.html</link>
      <pubDate>Tue, 23 Jul 2013 13:48:47 +0000</pubDate>
      
      <guid>http://edmondscommerce.github.io/magento/sylius-e-commerce-based-on-symfony.html</guid>
      <description>&lt;p&gt;As if there weren&amp;rsquo;t enough!&lt;/p&gt;

&lt;p&gt;There is a new contender for the open source e-commerce crown, a platform called &lt;b&gt;&lt;a href=&#34;http://sylius.com/features&#34; target=&#34;_blank&#34;&gt;Sylius&lt;/a&gt;&lt;/b&gt;. The thing that makes this one especially interesting is that rather than being built from scratch it is based upon a very well established PHP framework called Symfony. Some would argue that Symfony is the &amp;ldquo;other&amp;rdquo; PHP framework alongside Zend Framework. In fact there are many frameworks however it would be fair to say that Symfony and Zend Framework are the most well established and up to date.&lt;/p&gt;

&lt;p&gt;Basing an e-commerce platform upon an existing PHP framework has many advantages including transferrable skills, established best practice structure and also easier access to a wide range of functionality via library components and extensions.&lt;/p&gt;

&lt;p&gt;There is another e-commerce platform based upon a PHP framework. It is based upon Zend Framework - you might have heard of it - Magento.&lt;/p&gt;

&lt;p&gt;It does look very much like Sylius is still quite a new offering and it can not boast the level of maturity and establishment that Magento has achieved. That said, things move quickly in this industry and who knows what will be top dog in the next five years.&lt;/p&gt;

&lt;p&gt;If you are considering Sylius for your e-commerce website and would like to find a UK Sylius developer to work with then do get in touch with Edmonds Commerce today.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>White Blank Page when Printing Packing Slips from Magento Admin</title>
      <link>http://edmondscommerce.github.io/magento/white-blank-page-when-printing-packing-slips-from-magento-admin.html</link>
      <pubDate>Mon, 01 Jul 2013 14:21:49 +0000</pubDate>
      
      <guid>http://edmondscommerce.github.io/magento/white-blank-page-when-printing-packing-slips-from-magento-admin.html</guid>
      <description>&lt;p&gt;If you&amp;rsquo;re having trouble printing packing slips, receiving a white blank page when selecting Print Packingslips from the Actions menu in Magento&amp;rsquo;s Sales Orders page, then it&amp;rsquo;s likely you&amp;rsquo;re having the same issue I&amp;rsquo;ve had.&lt;/p&gt;

&lt;p&gt;I found that having error_reporting enabled wasn&amp;rsquo;t enough&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;error_reporting(E_ALL | E_STRICT);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You&amp;rsquo;ll also need to add this to your index.php:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
ini_set(&#39;display_errors&#39;, 1);

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You&amp;rsquo;ll then be shown the following fatal error:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;
Fatal error: Declaration of Zend_Pdf_FileParserDataSource_File::__construct() must be compatible with Zend_Pdf_FileParserDataSource::__construct() in /home8/stonecr2/public_html/newsite/lib/Zend/Pdf/FileParserDataSource/File.php on line 41

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The issue here is that the contructor of Zend_Pdf_FileParserDataSource_File requires a single paramter, $filePath, whereas its abstract class&amp;rsquo;s constructor does not. To resolve this, we need to make sure the abstract class matches its implementation, so make the following change&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;x&#34;&gt;//from&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;abstract public function __construct();&lt;/span&gt;

&lt;span class=&#34;x&#34;&gt;//to&lt;/span&gt;
&lt;span class=&#34;x&#34;&gt;abstract public function __construct($filePath);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Test your printing, and you should be provided with a PDF file.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Using Bitbucket on Windows using TortoiseGit</title>
      <link>http://edmondscommerce.github.io/windows/magento/git/using-bitbucket-on-windows-using-tortoisegit-2.html</link>
      <pubDate>Tue, 11 Jun 2013 12:00:31 +0000</pubDate>
      
      <guid>http://edmondscommerce.github.io/windows/magento/git/using-bitbucket-on-windows-using-tortoisegit-2.html</guid>
      <description>&lt;h2&gt;Install TortoiseGit&lt;/h2&gt;

&lt;p&gt;TortoiseGit is a Windows GIU for using Git on Windows, integrating nicely with Windows Explorer.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://code.google.com/p/tortoisegit/wiki/Download?tm=2&#34; target=&#34;_blank&#34;&gt;Download TortoiseGit&lt;/a&gt; and install it.&lt;/p&gt;

&lt;h2&gt;Install and set up PuTTYgen&lt;/h2&gt;

&lt;p&gt;PuTTYgen is a program used to create SSH keys on Windows, the Public-Private-Key encryption used by SSH in place of passwords, you&amp;rsquo;ll need these to authenticate with Bitbucket.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://the.earth.li/~sgtatham/putty/latest/x86/puttygen.exe&#34; target=&#34;_blank&#34;&gt;Download PuTTYgen&lt;/a&gt; and install it.&lt;/p&gt;

&lt;p&gt;Once installed, you&amp;rsquo;ll need to set up a public and private key. Open PuTTYgen from your Start menu/screen and follow the instructions on the screen. Once you&amp;rsquo;ve generate the key, save both the Prive and Public keys to your computer.&lt;/p&gt;

&lt;h2&gt;Add your keys to Bitbucket&lt;/h2&gt;

&lt;ul&gt;
    &lt;li&gt;Log in to Bitbucket navigate to Manage Account &gt; SSH Keys &gt; Add Key&lt;/li&gt;
    &lt;li&gt;Right-click your public key file and open in a text editor&lt;/li&gt;
    &lt;li&gt;Remove the lines beginning with -- and the Comment line&lt;/li&gt;
    &lt;li&gt;Remove any remaining line breaks&lt;/li&gt;
    &lt;li&gt;Prepend the key with &#34;ssh-rsa &#34; - including the space&lt;/li&gt;
    &lt;li&gt;Paste this into the Key field&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;Clone the repository&lt;/h2&gt;
&lt;ul&gt;
    &lt;li&gt;Right-click a folder in Explorer &gt; Git Clone&lt;/li&gt;
    &lt;li&gt;Copy the repository access from the Repository&#39;s main page, on the right next to the SSH button&lt;/li&gt;
    &lt;li&gt;Paste this into the URL field of TortoiseGit&lt;/li&gt;
    &lt;li&gt;Tick Load Putty Key, and add your Private key from PuTTYgen&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;Switching Branches&lt;/h2&gt;

&lt;ul&gt;
    &lt;li&gt;Enter your local repository&#39;s folder&lt;/li&gt;
    &lt;li&gt;Right-click an empty space &gt; TortoiseGit &gt; Switch/Checkout...&lt;/li&gt;
    &lt;li&gt;Select your branch from the dropdown&lt;/li&gt;

&lt;/ul&gt;

&lt;h2&gt;Committing changes&lt;/h2&gt;

&lt;ul&gt;
    &lt;li&gt;Right-click an empty space&lt;/li&gt;
    &lt;li&gt;Click Git Commit -&gt; &#34;branchname&#34;&lt;/li&gt;
    &lt;li&gt;Add a commit message&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When you&amp;rsquo;re ready to push your changes to Bitbucket&lt;/p&gt;

&lt;ul&gt;
    &lt;li&gt;Right-click an empty space&lt;/li&gt;
    &lt;li&gt;Click TortoiseGit &gt; Push...&lt;/li&gt;

&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>