<div class="highlight"><pre><span class="k">public</span> <span class="k">function</span> <span class="nf">makeForm</span><span class="p">(</span><span class="nv">$action</span><span class="p">){</span>
	<span class="nv">$form</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">My_Form</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;action&#39;</span><span class="o">=&gt;</span><span class="nv">$action</span><span class="p">));</span>
	<span class="nv">$form</span><span class="o">-&gt;</span><span class="na">addElement</span><span class="p">(</span><span class="o">..</span> <span class="nx">custom</span> <span class="nx">form</span> <span class="nx">add</span> <span class="nx">element</span> <span class="nx">function</span><span class="p">);</span>
	<span class="nv">$form</span><span class="o">-&gt;</span><span class="na">lockField</span><span class="p">(</span><span class="s1">&#39;fieldname&#39;</span><span class="p">);</span>
	<span class="nv">$form</span><span class="o">-&gt;</span><span class="na">addSubmit</span><span class="p">(</span><span class="o">..</span> <span class="nx">custom</span> <span class="nx">add</span> <span class="nx">submit</span> <span class="nx">function</span><span class="p">);</span>
	<span class="k">return</span> <span class="nv">$form</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>