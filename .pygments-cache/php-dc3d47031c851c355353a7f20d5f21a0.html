<div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="nv">$magePath</span> <span class="o">=</span> <span class="s1">&#39;/path/to/Mage.php&#39;</span><span class="p">;</span>
<span class="k">require_once</span> <span class="nv">$magePath</span><span class="p">;</span>
<span class="c1">//Varien_Profiler::enable();</span>
<span class="c1">//Mage::setIsDeveloperMode(true);</span>
<span class="c1">//ini_set(&#39;display_errors&#39;, 1);</span>
<span class="nb">umask</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

<span class="nx">Mage</span><span class="o">::</span><span class="na">app</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setCurrentStore</span><span class="p">(</span><span class="nx">Mage_Core_Model_App</span><span class="o">::</span><span class="na">ADMIN_STORE_ID</span><span class="p">);</span> 

<span class="k">echo</span> <span class="s1">&#39;&lt;h3&gt;Cleaning overall Cache&lt;/h3&gt;&#39;</span><span class="p">;</span>

<span class="nb">flush</span><span class="p">();</span>
<span class="c1">// clean overall cache</span>
<span class="nx">Mage</span><span class="o">::</span><span class="na">app</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">cleanCache</span><span class="p">();</span>
<span class="k">echo</span> <span class="s1">&#39;done&#39;</span><span class="p">;</span>

<span class="nb">flush</span><span class="p">();</span>
<span class="k">echo</span> <span class="s1">&#39;&lt;h3&gt;Cleaning Catalog Rewrites&lt;/h3&gt;&#39;</span><span class="p">;</span>

<span class="nb">flush</span><span class="p">();</span>
<span class="c1">// clear &#39;refresh_catalog_rewrites&#39;:</span>
<span class="c1">//Mage::getSingleton(&#39;catalog/url&#39;)-&gt;refreshRewrites();</span>
<span class="nx">Mage</span><span class="o">::</span><span class="na">getModel</span><span class="p">(</span><span class="s1">&#39;catalog/url&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">refreshRewrites</span><span class="p">();</span>
<span class="k">echo</span> <span class="s1">&#39;Catalog Rewrites was refreshed succesfuly&lt;br&gt;&#39;</span><span class="p">;</span>

<span class="nb">flush</span><span class="p">();</span>
<span class="k">echo</span> <span class="s1">&#39;&lt;h3&gt;Cleaning Image Cache&lt;/h3&gt;&#39;</span><span class="p">;</span>

<span class="nb">flush</span><span class="p">();</span>
<span class="c1">//  clear &#39;clear_images_cache&#39;:</span>
<span class="nx">Mage</span><span class="o">::</span><span class="na">getModel</span><span class="p">(</span><span class="s1">&#39;catalog/product_image&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">clearCache</span><span class="p">();</span>
<span class="k">echo</span> <span class="s1">&#39;Image cache was cleared succesfuly&lt;br&gt;&#39;</span><span class="p">;</span>

<span class="nb">flush</span><span class="p">();</span>
<span class="k">echo</span> <span class="s1">&#39;&lt;h3&gt;Cleaning Layered Navigation&lt;/h3&gt;&#39;</span><span class="p">;</span>

<span class="nb">flush</span><span class="p">();</span>
<span class="c1">//  clear &#39;refresh_layered_navigation&#39;:</span>
<span class="nx">Mage</span><span class="o">::</span><span class="na">getSingleton</span><span class="p">(</span><span class="s1">&#39;catalogindex/indexer&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">plainReindex</span><span class="p">();</span>
<span class="k">echo</span> <span class="s1">&#39;Layered Navigation Indices was refreshed succesfuly&lt;br&gt;&#39;</span><span class="p">;</span>

<span class="nb">flush</span><span class="p">();</span>
<span class="k">echo</span> <span class="s1">&#39;&lt;h3&gt;Clearing out Search Index&lt;/h3&gt;&#39;</span><span class="p">;</span>

<span class="nb">flush</span><span class="p">();</span>
<span class="nx">Mage</span><span class="o">::</span><span class="na">getModel</span><span class="p">(</span><span class="s1">&#39;catalogsearch/fulltext&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">rebuildIndex</span><span class="p">();</span>
<span class="k">echo</span> <span class="s1">&#39;Search index was rebuilt succesfully&lt;br&gt;&#39;</span><span class="p">;</span>

<span class="nb">flush</span><span class="p">();</span>
<span class="k">echo</span> <span class="s1">&#39;&lt;h3&gt;Rebuilding Flat Category&lt;/h3&gt;&#39;</span><span class="p">;</span>
<span class="nx">Mage</span><span class="o">::</span><span class="na">getResourceSingleton</span><span class="p">(</span><span class="s1">&#39;catalog/category_flat&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">rebuild</span><span class="p">();</span>
<span class="k">echo</span> <span class="s1">&#39;flat category was rebuilt successfully&lt;br&gt;&#39;</span><span class="p">;</span>

<span class="nb">flush</span><span class="p">();</span>
<span class="k">echo</span> <span class="s1">&#39;&lt;h3&gt;Rebuilding Flat Products&lt;/h3&gt;&#39;</span><span class="p">;</span>
<span class="nx">Mage</span><span class="o">::</span><span class="na">getResourceSingleton</span><span class="p">(</span><span class="s1">&#39;catalog/product_flat_indexer&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">rebuild</span><span class="p">();</span>
<span class="k">echo</span> <span class="s1">&#39;flat product was rebuilt successfully&lt;br&gt;&#39;</span><span class="p">;</span>

<span class="nb">flush</span><span class="p">();</span>
</pre></div>