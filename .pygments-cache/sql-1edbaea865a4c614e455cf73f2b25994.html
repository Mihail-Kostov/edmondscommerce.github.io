<div class="highlight"><pre><span class="k">SELECT</span> <span class="n">ean</span>
<span class="k">FROM</span> <span class="n">products</span>
<span class="k">WHERE</span>
<span class="p">(</span><span class="k">LENGTH</span><span class="p">(</span><span class="n">ean</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">13</span><span class="p">)</span>
<span class="o">||</span>
<span class="p">(</span><span class="k">SUBSTRING</span><span class="p">((</span><span class="mi">10</span> <span class="o">-</span> <span class="p">((((</span>
<span class="k">SUBSTRING</span><span class="p">(</span><span class="n">ean</span> <span class="k">FROM</span> <span class="mi">2</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span>
<span class="k">SUBSTRING</span><span class="p">(</span><span class="n">ean</span> <span class="k">FROM</span> <span class="mi">4</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span>
<span class="k">SUBSTRING</span><span class="p">(</span><span class="n">ean</span> <span class="k">FROM</span> <span class="mi">6</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span>
<span class="k">SUBSTRING</span><span class="p">(</span><span class="n">ean</span> <span class="k">FROM</span> <span class="mi">8</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span>
<span class="k">SUBSTRING</span><span class="p">(</span><span class="n">ean</span> <span class="k">FROM</span> <span class="mi">10</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span>
<span class="k">SUBSTRING</span><span class="p">(</span><span class="n">ean</span> <span class="k">FROM</span> <span class="mi">12</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">)</span>  
<span class="p">)</span><span class="o">*</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span>
<span class="k">SUBSTRING</span><span class="p">(</span><span class="n">ean</span> <span class="k">FROM</span> <span class="mi">1</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span>
<span class="k">SUBSTRING</span><span class="p">(</span><span class="n">ean</span> <span class="k">FROM</span> <span class="mi">3</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span>
<span class="k">SUBSTRING</span><span class="p">(</span><span class="n">ean</span> <span class="k">FROM</span> <span class="mi">5</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span>
<span class="k">SUBSTRING</span><span class="p">(</span><span class="n">ean</span> <span class="k">FROM</span> <span class="mi">7</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span>
<span class="k">SUBSTRING</span><span class="p">(</span><span class="n">ean</span> <span class="k">FROM</span> <span class="mi">9</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span>
<span class="k">SUBSTRING</span><span class="p">(</span><span class="n">ean</span> <span class="k">FROM</span> <span class="mi">11</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">))</span> <span class="k">MOD</span> <span class="mi">10</span><span class="p">))</span> <span class="k">FROM</span> <span class="o">-</span><span class="mi">1</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">)</span> <span class="o">!=</span> <span class="k">SUBSTRING</span><span class="p">(</span><span class="n">ean</span> <span class="k">FROM</span> <span class="mi">13</span> <span class="k">FOR</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>