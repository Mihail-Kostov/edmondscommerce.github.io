<div class="highlight"><pre>    <span class="k">public</span> <span class="k">function</span> <span class="nf">tableSearchAllPaginator</span><span class="p">(</span><span class="nv">$input</span><span class="p">,</span> <span class="nv">$fields_to_select</span><span class="o">=</span><span class="k">null</span><span class="p">){</span>
        <span class="nv">$table</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getTable</span><span class="p">();</span>
        <span class="nv">$select</span> <span class="o">=</span> <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">();</span>
        <span class="nv">$fields</span> <span class="o">=</span> <span class="nv">$table</span><span class="o">-&gt;</span><span class="na">info</span><span class="p">(</span><span class="nx">Zend_Db_Table_Abstract</span><span class="o">::</span><span class="na">COLS</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">foreach</span><span class="p">(</span><span class="nv">$fields</span> <span class="k">as</span> <span class="nv">$field</span><span class="p">)</span> <span class="p">{</span>
                <span class="nv">$select</span><span class="o">-&gt;</span><span class="na">orWhere</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">$field</span><span class="s2"> like ?&quot;</span><span class="p">,</span> <span class="s2">&quot;%</span><span class="si">$input</span><span class="s2">%&quot;</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$fields_to_select</span><span class="p">))</span> <span class="p">{</span>
            <span class="nv">$select</span><span class="o">-&gt;</span><span class="na">columns</span><span class="p">(</span><span class="nv">$fields_to_select</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nv">$paginator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend_Paginator</span><span class="p">(</span><span class="k">new</span> <span class="nx">Zend_Paginator_Adapter_DbTableSelect</span><span class="p">(</span><span class="nv">$select</span><span class="p">));</span>
        <span class="k">return</span> <span class="nv">$paginator</span><span class="p">;</span>
    <span class="p">}</span>
</pre></div>